(function(a){function b(a,b,c){var d=function(){},e=d.prototype=new a.constructor;b.$$scope=e,b.$$base_module=a.base,e.base=b,e.constructor=d,e.constants=[],c&&w.cdecl(a,c,b)}function c(a,b){var c=j(null,b,a);return d(a,c)}function d(a,b){function c(){}var d=function(){};d.prototype=a.constructor.prototype,c.prototype=new d;var f=new c;return e(f,c,a,b.prototype),f.$$alloc=b,f.$$proto.$$class=f,f}function e(a,b,c,d){a.$$id=w.uid(),a.$$proto=d,a.constructor=b,c===F?(a.$$is_module=!0,a.$$class=F):(a.$$is_class=!0,a.$$class=G),a.$$super=c,a.$$parent=c,a.$$inc=[]}function f(){function a(){}var b=function(){};b.prototype=F.constructor.prototype,a.prototype=new b;var c=new a,d={};return e(c,a,F,d),c}function g(a){var b=new w.Class.$$alloc;return b.$$class=w.Class,b.$$proto=a.constructor.prototype,b.$$is_singleton=!0,b.$$singleton_of=a,b.$$inc=[],b.$$scope=a.$$scope,a.$$meta=b}function h(a){var b=a.$$class,c="#<Class:#<"+b.$$name+":"+b.$$id+">>",d=function(){},e=w.boot(b,d);return e.$$name=c,e.$$proto=a,e.$$class=b.$$class,e.$$scope=b.$$scope,e.$$parent=b,e.$$is_singleton=!0,e.$$singleton_of=a,a.$$meta=e}function i(){var a,b,c,d,e,f,g,h,j,k,l,m,n;if(4===arguments.length){for(a=arguments[0],c=arguments[1],d=arguments[2],e=arguments[3],f=a.$$bridge.$ancestors(),k=0,n=f.length;n>k&&(l=f[k],!z.call(l.$$proto,d)||!l.$$proto[d]||l.$$proto[d].$$donated||l.$$proto[d].$$stub||l===c);k++)if(l===c){a.prototype[d]=e;break}}else if(a=arguments[0],b=arguments[1],"function"==typeof a){for(g=b.$__id__(),h=b.$instance_methods(),k=h.length-1;k>=0;k--)j="$"+h[k],i(a,b,j,b.$$proto[j]);x[g]||(x[g]=[]),x[g].push(a)}else if(m=x[a.$__id__()]){for(k=m.length-1;k>=0;k--)i(m[k],b);x[b.$__id__()]=m.slice()}}function j(a,b,c){if(c){var d=function(){};d.prototype=c.$$proto||c.prototype,a&&(d.displayName=a),b.prototype=new d}return b.prototype.constructor=b,b}function k(a,b,c){var d=function(){};d.prototype=c.prototype;var f=function(){};f.prototype=new d,f.displayName="#<Class:"+a+">";var g=new f;return e(g,f,c,b.prototype),g.$$alloc=b,g.$$name=a,b.prototype.$$class=g,w[a]=g,w.constants.push(a),g}function l(a,b){for(var c=a.$$scope.constants,d=b.$$scope,e=d.constants,f=0,g=c.length;g>f;f++)e.push(c[f]),d[c[f]]=a.$$scope[c[f]]}function m(a,b){var c,d,e,f,g,h,i,j,k,l,n=a.$$dep,o=a.$$proto[b];if(n)for(c=0,d=n.length;d>c;c++){if(e=n[c],f=e.$$proto,g=f[b],!f.hasOwnProperty(b)||g.$$donated||g.$$stub)if(f.hasOwnProperty(b)&&!g.$$stub){for(h=e.$$inc,i=0,j=h.length;j>i;i++)h[i]===g.$$donated&&(k=i),h[i]===a&&(l=i);l>=k&&(f[b]=o,f[b].$$donated=a)}else f[b]=o,f[b].$$donated=a;else;e.$$dep&&m(e,b)}}function n(a,b){var c=o(b);a[b]=c}function o(a){function b(){return this.$method_missing.$$p=b.$$p,b.$$p=null,this.$method_missing.apply(this,[a.slice(1)].concat(A.call(arguments)))}return b.$$stub=!0,b}function p(a,b,c){var d=a.$$meta||a.$$class;for(b="$"+b;d&&d.$$proto[b]!==c;)d=d.$$parent;if(!d)throw new Error("could not find current class for super()");for(d=d.$$parent;d;){var e=d.$$proto[b];if(e&&e!==c)break;d=d.$$parent}return d.$$proto}function q(a){function b(){a.$$p=b.$$p,a.$$s=b.$$s;try{return a.apply(this,A.call(arguments))}finally{b.$$s=null,b.$$p=null}}return b.$$target=a,b.$$arity=a.length,b}function r(){}function s(){}function t(){}function u(){}function v(){}if("undefined"!=typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var w=this.Opal={},x={},y=function(){};y.prototype=w,w.constructor=y,w.constants=[],w.global=this;var z=w.hasOwnProperty,A=w.slice=Array.prototype.slice,B=4,C=B;w.uid=function(){return C+=2},w.cvars={},w.gvars={},w.exit=function(a){w.gvars.DEBUG&&console.log("Exited with status "+a)},w.exceptions=[],w.get=function(a){var b=this[a];return null==b?this.base.$const_get(a):b},w.create_scope=b,w.klass=function(a,e,f,g){a.$$is_class||a.$$is_module||(a=a.$$class);var h=a.$$scope[f],i="function"==typeof e;if(h&&h.$$orig_scope===a.$$scope){if(!h.$$is_class)throw w.TypeError.$new(f+" is not a class");if(e&&h.$$super!==e)throw w.TypeError.$new("superclass mismatch for class "+f);return h}return null===e&&(e=E),h=i?d(E,e):c(e,g),h.$$name=f,h.$$is_class=!0,b(a.$$scope,h,f),a[f]=a.$$scope[f]=h,i?w.bridge(h,e):(e!==E&&e!==D&&l(e,h),e.$inherited&&e.$inherited(h)),h},w.boot=c,w.module=function(a,c){var d;if(a.$$is_class||a.$$is_module||(a=a.$$class),z.call(a.$$scope,c)){if(d=a.$$scope[c],!d.$$is_module&&d!==E)throw w.TypeError.$new(c+" is not a module")}else d=f(),d.$$name=c,d.$$is_module=!0,d.$$dep=[],b(a.$$scope,d,c),a[c]=a.$$scope[c]=d;return d},w.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?g(a):h(a)},w.append_features=function(a,b){var c,d,e,f,g,h;for(h=b.$$inc.length-1;h>=0;h--)if(b.$$inc[h]===a)return;for(b.$$inc.push(a),a.$$dep.push(b),i(b,a),c={$$name:a.$$name,$$proto:a.$$proto,$$parent:b.$$parent,$$module:a,$$iclass:!0},b.$$parent=c,d=a.$$proto,e=b.$$proto,f=a.$instance_methods(),h=f.length-1;h>=0;h--)g="$"+f[h],(!e.hasOwnProperty(g)||e[g].$$donated||e[g].$$stub)&&(e[g]=d[g],e[g].$$donated=a);l(a,b)},w.bridge=function(a,b){if(b.$$bridge)throw w.ArgumentError.$new("already bridged");w.stub_subscribers.push(b.prototype),b.prototype.$$class=a,b.$$bridge=a;for(var c=a.$ancestors(),d=c.length-1;d>=0;d--)i(b,c[d]);for(var e in r.prototype){var f=r.prototype[f];!f||!f.$$stub||e in b.prototype||(b.prototype[e]=f)}return a},w.casgn=function(a,b,c){function d(a,b){a.$$name=b;for(b in a.$$scope){var c=a.$$scope[b];c.$$name===H&&(c.$$is_class||c.$$is_module)&&d(c,b)}}var e=a.$$scope;return(c.$$is_class||c.$$is_module)&&((c.$$is_class||c.$$base_module===E)&&(c.$$base_module=a),c.$$name===H&&c.$$base_module.$$name!==H&&d(c,b)),e.constants.push(b),e[b]=c},w.cdecl=function(a,b,c){return(c.$$is_class||c.$$is_module)&&null==c.$$orig_scope&&(c.$$name=b,c.$$orig_scope=a,a.constructor[b]=c),a.constants.push(b),a[b]=c},w.add_stubs=function(a){var b,c,d,e,f,g=w.stub_subscribers,h=a.length,i=g.length;for(c=0;h>c;c++)for(e=a[c],f=o(e),d=0;i>d;d++)b=g[d],e in b||(b[e]=f)},w.stub_subscribers=[r.prototype],w.add_stub_for=n,w.ac=function(a,b,c,d){var e="";throw e+=c.$$is_class||c.$$is_module?c.$$name+".":c.$$class.$$name+"#",e+=d,w.ArgumentError.$new("["+e+"] wrong number of arguments("+a+" for "+b+")")},w.find_super_dispatcher=function(a,b,c,d,e){var f;return f=e?a.$$is_class||a.$$is_module?e.$$super:a.$$class.$$proto:a.$$is_class||a.$$is_module?a.$$super:p(a,b,c),f=f["$"+b],f.$$p=d,f},w.find_iter_super_dispatcher=function(a,b,c,d,e){return c.$$def?w.find_super_dispatcher(a,c.$$jsid,c,d,e):w.find_super_dispatcher(a,b,c,d,e)},w.ret=function(a){throw w.returner.$v=a,w.returner},w.yield1=function(a,b){if("function"!=typeof a)throw w.LocalJumpError.$new("no block given");return a.length>1&&b.$$is_array?a.apply(null,b):a(b)},w.yieldX=function(a,b){if("function"!=typeof a)throw w.LocalJumpError.$new("no block given");return a.length>1&&1===b.length&&b[0].$$is_array?a.apply(null,b[0]):(b.$$is_array||(b=A.call(b)),a.apply(null,b))},w.rescue=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.$$is_array){var e=w.rescue(a,d);if(e)return e}else if(d["$==="](a))return d}return null},w.is_a=function(a,b){if(a.$$meta===b)return!0;for(var c=a.$$class;c;){if(c===b)return!0;for(var d=0,e=c.$$inc.length;e>d;d++)if(c.$$inc[d]===b)return!0;c=c.$$super}return!1},w.to_ary=function(a){return a.$$is_array?a:a.$to_ary&&!a.$to_ary.$$stub?a.$to_ary():[a]},w.to_a=function(a){return null==a||a===H?[]:a.$to_a&&!a.$to_a.$$stub?a.$to_a():[a]},w.kwrestargs=function(a,b){var c=[],d={},e=null,f=a.smap;for(e in f)b[e]||(c.push(e),d[e]=f[e]);return w.hash2(c,d)},w.send=function(a,b){var c=A.call(arguments,2),d=a["$"+b];return d?d.apply(a,c):a.$method_missing.apply(a,[b].concat(c))},w.block_send=function(a,b,c){var d=A.call(arguments,3),e=a["$"+b];return e?(e.$$p=c,e.apply(a,d)):a.$method_missing.apply(a,[b].concat(d))},w.defn=function(a,b,c){if(a.$$proto[b]=c,a.$$is_module&&(m(a,b),a.$$module_function&&w.defs(a,b,c)),a.$__id__&&!a.$__id__.$$stub){var d=x[a.$__id__()];if(d)for(var e=d.length-1;e>=0;e--)i(d[e],a,b,c)}a.$method_added&&!a.$method_added.$$stub&&a.$method_added(b.substr(1));var f=a.$$singleton_of;return f&&f.$singleton_method_added&&!f.$singleton_method_added.$$stub&&f.$singleton_method_added(b.substr(1)),H},w.defs=function(a,b,c){w.defn(w.get_singleton_class(a),b,c)},w.def=function(a,b,c){a.$$eval||!a.$$is_class&&!a.$$is_module?w.defs(a,b,c):w.defn(a,b,c)},w.rdef=function(a,b){if(!z.call(a.$$proto,b))throw w.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$proto[b],a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))},w.udef=function(a,b){if(!a.$$proto[b]||a.$$proto[b].$$stub)throw w.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());w.add_stub_for(a.$$proto,b),a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(b.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))},w.alias=function(a,b,c){var d="$"+b,e="$"+c,f=a.$$proto["$"+c];if(a.$$eval)return w.alias(w.get_singleton_class(a),b,c);if("function"!=typeof f||f.$$stub){for(var g=a.$$super;"function"!=typeof f&&g;)f=g[e],g=g.$$super;if("function"!=typeof f||f.$$stub)throw w.NameError.$new("undefined method `"+c+"' for class `"+a.$name()+"'")}return w.defn(a,d,q(f)),a},w.alias_native=function(a,b,c){var d="$"+b,e=a.$$proto[c];if("function"!=typeof e||e.$$stub)throw w.NameError.$new("undefined native method `"+c+"' for class `"+a.$name()+"'");return w.defn(a,d,q(e)),a},w.hash_init=function(a){a.map={},a.smap={},a.keys=[]},w.hash_clone=function(a,b){b.none=a.none,b.proc=a.proc;for(var c,d,e=0,f=a.keys,g=f.length;g>e;e++)c=a.keys[e],c.$$is_string?d=a.smap[c]:(d=c.value,c=c.key),w.hash_put(b,c,d)},w.hash_put=function(b,c,d){if(c.$$is_string)return b.smap.hasOwnProperty(c)||b.keys.push(c),void(b.smap[c]=d);var e,f,g=c.$hash();if(!b.map.hasOwnProperty(g))return e={key:c,key_hash:g,value:d},b.keys.push(e),void(b.map[g]=e);for(e=b.map[g];e;){if(c===e.key||c["$eql?"](e.key)){f=a,e.value=d;break}f=e,e=e.next}f&&(e={key:c,key_hash:g,value:d},b.keys.push(e),f.next=e)},w.hash_get=function(a,b){if(b.$$is_string){if(a.smap.hasOwnProperty(b))return a.smap[b]}else{var c,d=b.$hash();if(a.map.hasOwnProperty(d))for(c=a.map[d];c;){if(b===c.key||b["$eql?"](c.key))return c.value;c=c.next}}},w.hash_delete=function(a,b){var c,d,e=a.keys,f=e.length;if(b.$$is_string){if(!a.smap.hasOwnProperty(b))return;for(c=0;f>c;c++)if(e[c]===b){e.splice(c,1);break}return d=a.smap[b],delete a.smap[b],d}var g=b.$hash();if(a.map.hasOwnProperty(g))for(var h,i=a.map[g];i;){if(b===i.key||b["$eql?"](i.key)){for(d=i.value,c=0;f>c;c++)if(e[c]===i){e.splice(c,1);break}return h&&i.next?h.next=i.next:h?delete h.next:i.next?a.map[g]=i.next:delete a.map[g],d}h=i,i=i.next}},w.hash_rehash=function(b){for(var c,d,e,f=0,g=b.keys.length;g>f;f++)if(!b.keys[f].$$is_string&&(c=b.keys[f].key.$hash(),c!==b.keys[f].key_hash)){for(d=b.map[b.keys[f].key_hash],e=a;d;){if(d===b.keys[f]){e&&d.next?e.next=d.next:e?delete e.next:d.next?b.map[b.keys[f].key_hash]=d.next:delete b.map[b.keys[f].key_hash];break}e=d,d=d.next}if(b.keys[f].key_hash=c,b.map.hasOwnProperty(c)){for(d=b.map[c],e=a;d;){if(d===b.keys[f]){e=a;break}e=d,d=d.next}e&&(e.next=b.keys[f])}else b.map[c]=b.keys[f]}},w.hash=function(){var a,b,c,d,e,f,g=arguments.length;if(1===g&&arguments[0].$$is_hash)return arguments[0];if(b=new w.Hash.$$alloc,w.hash_init(b),1===g&&arguments[0].$$is_array){for(a=arguments[0],d=a.length,c=0;d>c;c++){if(2!==a[c].length)throw w.ArgumentError.$new("value not of length 2: "+a[c].$inspect());e=a[c][0],f=a[c][1],w.hash_put(b,e,f)}return b}if(1===g){a=arguments[0];for(e in a)a.hasOwnProperty(e)&&(f=a[e],w.hash_put(b,e,f));return b}if(g%2!==0)throw w.ArgumentError.$new("odd number of arguments for Hash");for(c=0;g>c;c+=2)e=arguments[c],f=arguments[c+1],w.hash_put(b,e,f);return b},w.hash2=function(a,b){var c=new w.Hash.$$alloc;return c.map={},c.keys=a,c.smap=b,c},w.range=function(a,b,c){var d=new w.Range.$$alloc;return d.begin=a,d.end=b,d.exclude=c,d},w.ivar=function(a){return"constructor"===a||"__proto__"===a||"__parent__"===a||"__noSuchMethod__"===a||"__count__"===a?a+"$":"hasOwnProperty"===a||"valueOf"===a?a+"$":a},function(a){function b(a){var b,c,d=[],e="/";"."!==i&&(a=i.replace(/\/*$/,"/")+a),a=a.replace(/\.(rb|opal|js)$/,""),b=a.split(e);for(var f=0,g=b.length;g>f;f++)c=b[f],""!==c&&(".."===c?d.pop():d.push(c));return d.join(e)}function c(a){var c,d,e;for(c=0,d=a.length;d>c;c++){if(e=b(a[c]),g[e])return;f.push(e),g[e]=!0}}function d(d){d=b(d),c([d]);var e=h[d];if(e)e(a);else{var f=a.dynamic_require_severity||"warning",g="cannot load such file -- "+d;"error"===f?a.LoadError?a.LoadError.$new(g):function(){throw g}():"warning"===f&&console.warn("WARNING: LoadError: "+g)}return!0}function e(a){return a=b(a),g[a]?!1:d(a)}var f=["corelib/runtime"],g={"corelib/runtime":!0},h={},i=".";a.modules=h,a.loaded_features=f,a.loaded=c,a.load=d,a.require=e}(w);var D,E,F,G;j("BasicObject",r),j("Object",s,r),j("Module",u,s),j("Class",t,u),D=k("BasicObject",r,t),E=k("Object",s,D.constructor),F=k("Module",u,E.constructor),G=k("Class",t,F.constructor),D.$$class=G,E.$$class=G,F.$$class=G,G.$$class=G,D.$$super=null,E.$$super=D,F.$$super=E,G.$$super=F,D.$$parent=null,E.$$parent=D,F.$$parent=E,G.$$parent=F,w.base=E,D.$$scope=E.$$scope=w,D.$$orig_scope=E.$$orig_scope=w,F.$$scope=E.$$scope,F.$$orig_scope=E.$$orig_scope,G.$$scope=E.$$scope,G.$$orig_scope=E.$$orig_scope,E.$$proto.toString=function(){return this.$to_s()},E.$$proto.$require=w.require,w.top=new E.$$alloc,w.klass(E,E,"NilClass",v);var H=w.nil=new v;H.$$id=B,H.call=H.apply=function(){throw w.LocalJumpError.$new("no block given")},w.breaker=new Error("unexpected break"),w.returner=new Error("unexpected return"),TypeError.$$super=Error}).call(this),"undefined"!=typeof global&&(global.Opal=this.Opal,Opal.global=global),"undefined"!=typeof window&&(window.Opal=this.Opal,Opal.global=window),Opal.modules["corelib/helpers"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice),e=a.module;return a.add_stubs(["$new","$class","$===","$respond_to?","$raise","$type_error","$__send__","$coerce_to","$nil?","$<=>","$inspect","$coerce_to!"]),function(b){var f=e(b,"Opal"),g=(f.$$proto,f.$$scope);a.defs(f,"$bridge",function(b,c){return a.bridge(b,c)}),a.defs(f,"$type_error",function(a,b,d,e){var f,h;return null==d&&(d=c),null==e&&(e=c),(f=(h=d!==!1&&d!==c)?e:d)===c||f.$$is_boolean&&1!=f?g.get("TypeError").$new("no implicit conversion of "+a.$class()+" into "+b):g.get("TypeError").$new("can't convert "+a.$class()+" into "+b+" ("+a.$class()+"#"+d+" gives "+e.$class())}),a.defs(f,"$coerce_to",function(a,b,d){var e,f=this;return(e=b["$==="](a))===c||e.$$is_boolean&&1!=e?(((e=a["$respond_to?"](d))===c||e.$$is_boolean&&1!=e)&&f.$raise(f.$type_error(a,b)),a.$__send__(d)):a}),a.defs(f,"$coerce_to!",function(a,b,d){var e,f=this,g=c;return g=f.$coerce_to(a,b,d),((e=b["$==="](g))===c||e.$$is_boolean&&1!=e)&&f.$raise(f.$type_error(a,b,d,g)),g}),a.defs(f,"$coerce_to?",function(a,b,d){var e,f=this,g=c;return(e=a["$respond_to?"](d))===c||e.$$is_boolean&&1!=e?c:(g=f.$coerce_to(a,b,d),(e=g["$nil?"]())===c||e.$$is_boolean&&1!=e?(((e=b["$==="](g))===c||e.$$is_boolean&&1!=e)&&f.$raise(f.$type_error(a,b,d,g)),g):c)}),a.defs(f,"$try_convert",function(a,b,d){var e;return(e=b["$==="](a))===c||e.$$is_boolean&&1!=e?(e=a["$respond_to?"](d))===c||e.$$is_boolean&&1!=e?c:a.$__send__(d):a}),a.defs(f,"$compare",function(a,b){var d,e=this,f=c;return f=a["$<=>"](b),(d=f===c)===c||d.$$is_boolean&&1!=d||e.$raise(g.get("ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed"),f}),a.defs(f,"$destructure",function(a){return 1==a.length?a[0]:a.$$is_array?a:d.call(a)}),a.defs(f,"$respond_to?",function(a,b){return null!=a&&a.$$class?a["$respond_to?"](b):!1}),a.defs(f,"$inspect",function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()}),a.defs(f,"$instance_variable_name!",function(a){var b,d=this;return a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str"),((b=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===c||b.$$is_boolean&&1!=b)&&d.$raise(g.get("NameError").$new("'"+a+"' is not allowed as an instance variable name",a)),a})}(b.base)},Opal.modules["corelib/module"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="warning";var c=(a.top,a),d=a.nil,e=(a.breaker,a.slice),f=a.klass;return a.add_stubs(["$equal?","$<","$attr_reader","$attr_writer","$coerce_to!","$raise","$new","$=~","$inject","$const_get","$split","$const_missing","$to_str","$===","$to_proc","$lambda","$bind","$call","$class","$append_features","$included","$name","$to_s","$__id__"]),function(c,g){function h(){}var i,j,k,l,m=h=f(c,g,"Module",h),n=(m.$$proto,m.$$scope);return a.defs(m,"$new",i=function(){function b(){}var c=i.$$p,e=c||d;i.$$p=null;var f=a.boot(a.Module,b);if(f.$$name=d,f.$$class=a.Module,f.$$dep=[],f.$$is_module=!0,f.$$proto={},a.create_scope(a.Module.$$scope,f),e!==d){var g=e.$$s;e.$$s=null,e.call(f),e.$$s=g}return f}),a.defn(m,"$===",function(b){var c,e=this;return(c=null==b)===d||c.$$is_boolean&&1!=c?a.is_a(b,e):!1}),a.defn(m,"$<",function(a){var b=this,c=b;if(c===a)return!1;for(;c;){if(c===a)return!0;c=c.$$parent}return!1}),a.defn(m,"$<=",function(a){var c,e=this;return(c=e["$equal?"](a))!==!1&&c!==d?c:b(e,a)}),a.defn(m,"$alias_method",function(b,c){var d=this;return a.alias(d,b,c),d}),a.defn(m,"$alias_native",function(b,c){var d=this;return null==c&&(c=b),a.alias_native(d,b,c),d}),a.defn(m,"$ancestors",function(){for(var a=this,b=a,c=[];b;){c.push(b);for(var d=0;d<b.$$inc.length;d++)c=c.concat(b.$$inc[d].$ancestors());b=b.$$is_class?b.$$super:null}return c}),a.defn(m,"$append_features",function(b){var c=this;return a.append_features(c,b),c}),a.defn(m,"$attr_accessor",function(){var b,c,d=this,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),g=0;e>g;g++)f[g]=arguments[g+0];return(b=d).$attr_reader.apply(b,a.to_a(f)),(c=d).$attr_writer.apply(c,a.to_a(f))}),a.alias(m,"attr","attr_accessor"),a.defn(m,"$attr_reader",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var e=new Array(c),f=0;c>f;f++)e[f]=arguments[f+0];for(var g=b.$$proto,h=e.length-1;h>=0;h--){var i=e[h],j="$"+i,k=a.ivar(i),l=function(a){return function(){return null==this[a]?d:this[a]}}(k);g[k]=d,b.$$is_singleton?g.constructor.prototype[j]=l:a.defn(b,j,l)}return d}),a.defn(m,"$attr_writer",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var e=new Array(c),f=0;c>f;f++)e[f]=arguments[f+0];for(var g=b.$$proto,h=e.length-1;h>=0;h--){var i=e[h],j="$"+i+"=",k=a.ivar(i),l=function(a){return function(b){return this[a]=b}}(k);g[k]=d,b.$$is_singleton?g.constructor.prototype[j]=l:a.defn(b,j,l)}return d}),a.defn(m,"$autoload",function(a,b){var c,e=this;return(c=e.$$autoload)||(c=e.$$autoload={}),c[a]=b,d}),a.defn(m,"$class_variable_get",function(b){var c,e=this;b=n.get("Opal")["$coerce_to!"](b,n.get("String"),"to_str"),(c=b.length<3||"@@"!==b.slice(0,2))===d||c.$$is_boolean&&1!=c||e.$raise(n.get("NameError").$new("class vars should start with @@",b));var f=a.cvars[b.slice(2)];return function(){return(c=null==f)===d||c.$$is_boolean&&1!=c?d:e.$raise(n.get("NameError").$new("uninitialized class variable @@a in",b))}(),f}),a.defn(m,"$class_variable_set",function(b,c){var e,f=this;return b=n.get("Opal")["$coerce_to!"](b,n.get("String"),"to_str"),(e=b.length<3||"@@"!==b.slice(0,2))===d||e.$$is_boolean&&1!=e||f.$raise(n.get("NameError")),a.cvars[b.slice(2)]=c,c}),a.defn(m,"$constants",function(){var a=this;return a.$$scope.constants.slice(0)}),a.defn(m,"$const_defined?",function(b,c){var e,f=this;null==c&&(c=!0),((e=b["$=~"](/^[A-Z]\w*$/))===d||e.$$is_boolean&&1!=e)&&f.$raise(n.get("NameError").$new("wrong constant name "+b,b));var g=[f.$$scope];if(c||f===a.Object)for(var h=f.$$super;h!==a.BasicObject;)g.push(h.$$scope),h=h.$$super;for(var i=0,j=g.length;j>i;i++)if(g[i].hasOwnProperty(b))return!0;return!1}),a.defn(m,"$const_get",function(b,c){var e,f,g,h=this;if(null==c&&(c=!0),(e=-1!=b.indexOf("::")&&"::"!=b)!==d&&(!e.$$is_boolean||1==e))return(e=(f=b.$split("::")).$inject,e.$$p=(g=function(a,b){g.$$s||this;return null==a&&(a=d),null==b&&(b=d),a.$const_get(b)},g.$$s=h,g),e).call(f,h);((e=/^[A-Z]\w*$/.test(b))===d||e.$$is_boolean&&1!=e)&&h.$raise(n.get("NameError").$new("wrong constant name "+b,b));var i=[h.$$scope];if(c||h==a.Object)for(var j=h.$$super;j!==a.BasicObject;)i.push(j.$$scope),j=j.$$super;for(var k=0,l=i.length;l>k;k++)if(i[k].hasOwnProperty(b))return i[k][b];return h.$const_missing(b)}),a.defn(m,"$const_missing",function(a){var b=this;if(b.$$autoload){var c=b.$$autoload[a];if(c)return b.$require(c),b.$const_get(a)}return b.$raise(n.get("NameError").$new("uninitialized constant "+b+"::"+a,a))}),a.defn(m,"$const_set",function(b,c){var e,f=this;((e=b["$=~"](/^[A-Z]\w*$/))===d||e.$$is_boolean&&1!=e)&&f.$raise(n.get("NameError").$new("wrong constant name "+b,b));try{b=b.$to_str()}catch(g){try{f.$raise(n.get("TypeError"),"conversion with #to_str failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return a.casgn(f,b,c),c}),a.defn(m,"$define_method",j=function(b,c){var f,g,h,i,k=this,l=j.$$p,m=l||d,o=d;j.$$p=null,(f=void 0===c&&m===d)===d||f.$$is_boolean&&1!=f||k.$raise(n.get("ArgumentError"),"tried to create a Proc object without a block"),(f=m)!==!1&&f!==d?f:m=function(){return o=c,n.get("Proc")["$==="](o)?c:n.get("Method")["$==="](o)?c.$to_proc().$$unbound:n.get("UnboundMethod")["$==="](o)?(g=(h=k).$lambda,g.$$p=(i=function(b){var f,g=i.$$s||this,h=d;return b=e.call(arguments,0),h=c.$bind(g),(f=h).$call.apply(f,a.to_a(b))},i.$$s=k,i),g).call(h):k.$raise(n.get("TypeError"),"wrong argument type "+m.$class()+" (expected Proc/Method)")}();var p="$"+b;return m.$$jsid=b,m.$$s=null,m.$$def=m,a.defn(k,p,m),b}),a.defn(m,"$remove_method",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+0];for(var f=0,g=d.length;g>f;f++)a.rdef(b,"$"+d[f]);return b}),a.defn(m,"$singleton_class?",function(){var a=this;return!!a.$$is_singleton}),a.defn(m,"$include",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];for(var e=c.length-1;e>=0;e--){var f=c[e];f!==a&&(f.$append_features(a),f.$included(a))}return a}),a.defn(m,"$include?",function(a){for(var b=this,c=b;c;c=c.$$super)for(var d=0;d!=c.$$inc.length;d++){var e=c.$$inc[d];if(a===e)return!0}return!1}),a.defn(m,"$instance_method",function(a){var b=this,c=b.$$proto["$"+a];return(!c||c.$$stub)&&b.$raise(n.get("NameError").$new("undefined method `"+a+"' for class `"+b.$name()+"'",a)),n.get("UnboundMethod").$new(b,c,a)}),a.defn(m,"$instance_methods",function(b){var c=this;null==b&&(b=!0);var d=[],e=c.$$proto;for(var f in e)if("$"===f.charAt(0)&&"function"==typeof e[f]&&!e[f].$$stub){if(!c.$$is_module){if(c!==a.BasicObject&&e[f]===a.BasicObject.$$proto[f])continue;if(!b&&!e.hasOwnProperty(f))continue;if(!b&&e[f].$$donated)continue}d.push(f.substr(1))}return d}),a.defn(m,"$included",function(a){return d}),a.defn(m,"$extended",function(a){return d}),a.defn(m,"$method_added",function(){return d}),a.defn(m,"$method_removed",function(){return d}),a.defn(m,"$method_undefined",function(){return d}),a.defn(m,"$module_eval",k=function(){var a=this,b=k.$$p,c=b||d;k.$$p=null,c!==!1&&c!==d||a.$raise(n.get("ArgumentError"),"no block given");var e,f=c.$$s;return c.$$s=null,e=c.call(a),c.$$s=f,e}),a.alias(m,"class_eval","module_eval"),a.defn(m,"$module_exec",l=function(){var a=this,b=l.$$p,c=b||d,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),g=0;e>g;g++)f[g]=arguments[g+0];l.$$p=null,c===d&&a.$raise(n.get("LocalJumpError"),"no block given");var h,i=c.$$s;return c.$$s=null,h=c.apply(a,f),c.$$s=i,h}),a.alias(m,"class_exec","module_exec"),a.defn(m,"$method_defined?",function(a){var b=this,c=b.$$proto["$"+a];return!!c&&!c.$$stub}),a.defn(m,"$module_function",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+0];if(0===d.length)b.$$module_function=!0;else for(var f=0,g=d.length;g>f;f++){var h=d[f],i="$"+h,j=b.$$proto[i];a.defs(b,i,j)}return b}),a.defn(m,"$name",function(){var b=this;if(b.$$full_name)return b.$$full_name;for(var c=[],e=b;e;){if(e.$$name===d)return 0===c.length?d:c.join("::");if(c.unshift(e.$$name),e=e.$$base_module,e===a.Object)break}return 0===c.length?d:b.$$full_name=c.join("::")}),a.defn(m,"$remove_class_variable",function(){return d}),a.defn(m,"$remove_const",function(a){var b=this,c=b.$$scope[a];return delete b.$$scope[a],c}),a.defn(m,"$to_s",function(){var b,c=this;return(b=a.Module.$name.call(c))!==!1&&b!==d?b:"#<"+(c.$$is_module?"Module":"Class")+":0x"+c.$__id__().$to_s(16)+">"}),a.defn(m,"$undef_method",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+0];for(var f=0,g=d.length;g>f;f++)a.udef(b,"$"+d[f]);return b}),d&&"undef_method"}(c.base,null)},Opal.modules["corelib/class"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return a.add_stubs(["$require","$raise","$allocate"]),b.$require("corelib/module"),function(b,c){function f(){}var g,h,i=f=e(b,c,"Class",f),j=(i.$$proto,i.$$scope);return a.defs(i,"$new",g=function(b){function c(){}var e=this,f=g.$$p,h=f||d;null==b&&(b=j.get("Object")),g.$$p=null,b.$$is_class||e.$raise(j.get("TypeError"),"superclass must be a Class");var i=a.boot(b,c);if(i.$$name=d,i.$$parent=b,i.$$is_class=!0,a.create_scope(b.$$scope,i),b.$inherited(i),h!==d){var k=h.$$s;h.$$s=null,h.call(i),h.$$s=k}return i}),a.defn(i,"$allocate",function(){var b=this,c=new b.$$alloc;return c.$$id=a.uid(),c}),a.defn(i,"$inherited",function(a){return d}),a.defn(i,"$new",h=function(){var a=this,b=h.$$p,c=b||d,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),g=0;e>g;g++)f[g]=arguments[g+0];h.$$p=null;var i=a.$allocate();return i.$initialize.$$p=c,i.$initialize.apply(i,f),i}),a.defn(i,"$superclass",function(){var a=this;return a.$$super||d}),d&&"superclass"}(c.base,null)},Opal.modules["corelib/basic_object"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return a.add_stubs(["$==","$!","$raise","$new","$inspect"]),function(b,e){function f(){}var g,h,i,j,k=f=d(b,e,"BasicObject",f),l=(k.$$proto,k.$$scope);return a.defn(k,"$initialize",function(){return c}),a.defn(k,"$==",function(a){var b=this;return b===a}),a.defn(k,"$eql?",function(a){var b=this;return b["$=="](a)}),a.defn(k,"$__id__",function(){var b=this;return b.$$id||(b.$$id=a.uid())}),a.defn(k,"$__send__",g=function(a){var b=this,d=g.$$p,e=d||c,f=arguments.length-1;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+1];g.$$p=null;var j=b["$"+a];return j?(e!==c&&(j.$$p=e),j.apply(b,h)):(e!==c&&(b.$method_missing.$$p=e),b.$method_missing.apply(b,[a].concat(h)))}),a.defn(k,"$!",function(){return!1}),a.defn(k,"$!=",function(a){var b=this;return b["$=="](a)["$!"]()}),a.alias(k,"equal?","=="),a.defn(k,"$instance_eval",h=function(){var a=this,b=h.$$p,d=b||c;h.$$p=null,d!==!1&&d!==c||l.get("Kernel").$raise(l.get("ArgumentError"),"no block given");var e,f=d.$$s;if(d.$$s=null,a.$$is_class||a.$$is_module){a.$$eval=!0;try{e=d.call(a,a)}finally{a.$$eval=!1}}else e=d.call(a,a);return d.$$s=f,e}),a.defn(k,"$instance_exec",i=function(){var a=this,b=i.$$p,d=b||c,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),g=0;e>g;g++)f[g]=arguments[g+0];i.$$p=null,d!==!1&&d!==c||l.get("Kernel").$raise(l.get("ArgumentError"),"no block given");var h,j=d.$$s;if(d.$$s=null,a.$$is_class||a.$$is_module){a.$$eval=!0;try{h=d.apply(a,f)}finally{a.$$eval=!1}}else h=d.apply(a,f);return d.$$s=j,h}),a.defn(k,"$singleton_method_added",function(){return c}),a.defn(k,"$singleton_method_removed",function(){return c}),a.defn(k,"$singleton_method_undefined",function(){return c}),a.defn(k,"$method_missing",j=function(a){var b,d=this,e=(j.$$p,arguments.length-1);0>e&&(e=0);for(var f=new Array(e),g=0;e>g;g++)f[g]=arguments[g+1];return j.$$p=null,l.get("Kernel").$raise(l.get("NoMethodError").$new(function(){return(b=d.$inspect&&!d.$inspect.$$stub)===c||b.$$is_boolean&&1!=b?"undefined method `"+a+"' for "+d.$$class:"undefined method `"+a+"' for "+d.$inspect()+":"+d.$$class}(),a))}),c&&"method_missing"}(b.base,null)},Opal.modules["corelib/kernel"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}a.dynamic_require_severity="warning";var d=(a.top,a),e=a.nil,f=a.breaker,g=(a.slice,a.module),h=a.gvars,i=a.hash2,j=a.klass;return a.add_stubs(["$raise","$new","$inspect","$!","$=~","$==","$object_id","$class","$coerce_to?","$<<","$allocate","$copy_instance_variables","$copy_singleton_methods","$initialize_clone","$initialize_copy","$define_method","$to_proc","$singleton_class","$initialize_dup","$for","$each","$reverse","$append_features","$extended","$length","$respond_to?","$[]","$nil?","$to_a","$to_int","$fetch","$Integer","$Float","$to_ary","$to_str","$coerce_to","$to_s","$__id__","$instance_variable_name!","$coerce_to!","$===","$>","$print","$format","$puts","$<=","$empty?","$exception","$kind_of?","$respond_to_missing?","$try_convert!","$expand_path","$join","$start_with?","$sym","$arg","$include"]),function(d){var j,k,l,m,n,o,p,q,r,s=g(d,"Kernel"),t=(s.$$proto,s.$$scope);a.defn(s,"$method_missing",j=function(a){var b=this,c=(j.$$p,arguments.length-1);0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+1];return j.$$p=null,b.$raise(t.get("NoMethodError").$new("undefined method `"+a+"' for "+b.$inspect(),a,d))}),a.defn(s,"$=~",function(a){return!1}),a.defn(s,"$!~",function(a){var b=this;return b["$=~"](a)["$!"]()}),a.defn(s,"$===",function(a){var b,c=this;return(b=c.$object_id()["$=="](a.$object_id()))!==!1&&b!==e?b:c["$=="](a)}),a.defn(s,"$<=>",function(a){var b=this;b.$$comparable=!0;var c=b["$=="](a);return c&&c!==e?0:e}),a.defn(s,"$method",function(a){var b=this,c=b["$"+a];return(!c||c.$$stub)&&b.$raise(t.get("NameError").$new("undefined method `"+a+"' for class `"+b.$class()+"'",a)),t.get("Method").$new(b,c,a)}),a.defn(s,"$methods",function(b){var c=this;null==b&&(b=!0);var d=[];for(var f in c)if("$"==f[0]&&"function"==typeof c[f]){if((0==b||b===e)&&!a.hasOwnProperty.call(c,f))continue;void 0===c[f].$$stub&&d.push(f.substr(1))}return d}),a.alias(s,"public_methods","methods"),a.defn(s,"$Array",function(a){var b;return a===e?[]:a.$$is_array?a:(b=t.get("Opal")["$coerce_to?"](a,t.get("Array"),"to_ary"),b!==e?b:(b=t.get("Opal")["$coerce_to?"](a,t.get("Array"),"to_a"),b!==e?b:[a]))}),a.defn(s,"$at_exit",k=function(){var a,b=k.$$p,c=b||e;return null==h.__at_exit__&&(h.__at_exit__=e),k.$$p=null,(a=h.__at_exit__)!==!1&&a!==e?a:h.__at_exit__=[],h.__at_exit__["$<<"](c)}),a.defn(s,"$caller",function(){return[]}),a.defn(s,"$class",function(){var a=this;return a.$$class}),a.defn(s,"$copy_instance_variables",function(a){var b=this;for(var c in a)"$"!==c.charAt(0)&&(b[c]=a[c])}),a.defn(s,"$copy_singleton_methods",function(b){var c,d=this;if(b.hasOwnProperty("$$meta")){var e=a.get_singleton_class(b).$$proto,f=a.get_singleton_class(d).$$proto;for(c in e)"$"===c.charAt(0)&&e.hasOwnProperty(c)&&(f[c]=e[c])}for(c in b)"$"===c.charAt(0)&&"$"!==c.charAt(1)&&b.hasOwnProperty(c)&&(d[c]=b[c])}),a.defn(s,"$clone",function(){var a=this,b=e;return b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$copy_singleton_methods(a),b.$initialize_clone(a),b}),a.defn(s,"$initialize_clone",function(a){var b=this;return b.$initialize_copy(a)}),a.defn(s,"$define_singleton_method",l=function(a,b){
var c,d,f=this,g=l.$$p,h=g||e;return l.$$p=null,(c=(d=f.$singleton_class()).$define_method,c.$$p=h.$to_proc(),c).call(d,a,b)}),a.defn(s,"$dup",function(){var a=this,b=e;return b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$initialize_dup(a),b}),a.defn(s,"$initialize_dup",function(a){var b=this;return b.$initialize_copy(a)}),a.defn(s,"$enum_for",m=function(b){var c,d,f=this,g=m.$$p,h=g||e,i=arguments.length-1;0>i&&(i=0);for(var j=new Array(i),k=0;i>k;k++)j[k]=arguments[k+1];return null==b&&(b="each"),m.$$p=null,(c=(d=t.get("Enumerator")).$for,c.$$p=h.$to_proc(),c).apply(d,[f,b].concat(a.to_a(j)))}),a.alias(s,"to_enum","enum_for"),a.defn(s,"$equal?",function(a){var b=this;return b===a}),a.defn(s,"$exit",function(b){var c,d;return null==h.__at_exit__&&(h.__at_exit__=e),null==b&&(b=!0),(c=h.__at_exit__)===e||c.$$is_boolean&&1!=c||(c=(d=h.__at_exit__.$reverse()).$each,c.$$p="call".$to_proc(),c).call(d),(c=b===!0)===e||c.$$is_boolean&&1!=c||(b=0),a.exit(b),e}),a.defn(s,"$extend",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];for(var e=a.$singleton_class(),f=c.length-1;f>=0;f--){var g=c[f];g.$append_features(e),g.$extended(a)}return a}),a.defn(s,"$format",function(a){function b(){I&U&&n.$raise(t.get("ArgumentError"),"flag after width"),I&W&&n.$raise(t.get("ArgumentError"),"flag after precision")}function c(){I&U&&n.$raise(t.get("ArgumentError"),"width given twice"),I&W&&n.$raise(t.get("ArgumentError"),"width after precision")}function d(a){return a>=q.length&&n.$raise(t.get("ArgumentError"),"too few arguments"),q[a]}function f(){switch(N){case-1:n.$raise(t.get("ArgumentError"),"unnumbered("+M+") mixed with numbered");case-2:n.$raise(t.get("ArgumentError"),"unnumbered("+M+") mixed with named")}return N=M++,d(N-1)}function g(a){return N>0&&n.$raise(t.get("ArgumentError"),"numbered("+a+") after unnumbered("+N+")"),-2===N&&n.$raise(t.get("ArgumentError"),"numbered("+a+") after named"),1>a&&n.$raise(t.get("ArgumentError"),"invalid index - "+a+"$"),N=-1,d(a-1)}function i(){return void 0===H?f():H}function j(b){for(var c,d="";;u++){if(u===L&&n.$raise(t.get("ArgumentError"),"malformed format string - %*[0-9]"),a.charCodeAt(u)<48||a.charCodeAt(u)>57)return u--,c=parseInt(d,10)||0,c>2147483647&&n.$raise(t.get("ArgumentError"),""+b+" too big"),c;d+=a.charAt(u)}}function k(b){var c,d=j(b);return"$"===a.charAt(u+1)?(u++,c=g(d)):c=f(),c.$to_int()}var l,m,n=this,o=e;null==h.DEBUG&&(h.DEBUG=e);var p=arguments.length-1;0>p&&(p=0);for(var q=new Array(p),r=0;p>r;r++)q[r]=arguments[r+1];(l=(m=q.$length()["$=="](1))?q["$[]"](0)["$respond_to?"]("to_ary"):q.$length()["$=="](1))===e||l.$$is_boolean&&1!=l||(o=t.get("Opal")["$coerce_to?"](q["$[]"](0),t.get("Array"),"to_ary"),((l=o["$nil?"]())===e||l.$$is_boolean&&1!=l)&&(q=o.$to_a()));var s,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J="",K=0,L=a.length,M=1,N=0,O=0,P=1,Q=2,R=4,S=8,T=16,U=32,V=64,W=128;for(u=a.indexOf("%");-1!==u;u=a.indexOf("%",u)){switch(w=void 0,I=O,y=-1,z=-1,H=void 0,s=u,u++,a.charAt(u)){case"%":K=u;case"":case"\n":case"\x00":u++;continue}a:for(;L>u;u++)switch(a.charAt(u)){case" ":b(),I|=T;continue a;case"#":b(),I|=P;continue a;case"+":b(),I|=R;continue a;case"-":b(),I|=Q;continue a;case"0":b(),I|=S;continue a;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(A=j("width"),"$"===a.charAt(u+1)){if(u+2===L){w="%",u++;break a}void 0!==H&&n.$raise(t.get("ArgumentError"),"value given twice - %"+A+"$"),H=g(A),u++}else c(),I|=U,y=A;continue a;case"<":case"{":for(C="<"===a.charAt(u)?">":"}",B="",u++;;u++){if(u===L&&n.$raise(t.get("ArgumentError"),"malformed name - unmatched parenthesis"),a.charAt(u)===C){if(N>0&&n.$raise(t.get("ArgumentError"),"named "+B+" after unnumbered("+N+")"),-1===N&&n.$raise(t.get("ArgumentError"),"named "+B+" after numbered"),N=-2,void 0!==q[0]&&q[0].$$is_hash||n.$raise(t.get("ArgumentError"),"one hash required"),H=q[0].$fetch(B),">"===C)continue a;if(w=H.toString(),-1!==z&&(w=w.slice(0,z)),I&Q)for(;w.length<y;)w+=" ";else for(;w.length<y;)w=" "+w;break a}B+=a.charAt(u)}case"*":u++,c(),I|=U,y=k("width"),0>y&&(I|=Q,y=-y);continue a;case".":if(I&W&&n.$raise(t.get("ArgumentError"),"precision given twice"),I|=V|W,z=0,u++,"*"===a.charAt(u)){u++,z=k("precision"),0>z&&(I&=~V);continue a}z=j("precision");continue a;case"d":case"i":case"u":if(v=n.$Integer(i()),v>=0){for(w=v.toString();w.length<z;)w="0"+w;if(I&Q)for((I&R||I&T)&&(w=(I&R?"+":" ")+w);w.length<y;)w+=" ";else if(I&S&&-1===z){for(;w.length<y-(I&R||I&T?1:0);)w="0"+w;(I&R||I&T)&&(w=(I&R?"+":" ")+w)}else for((I&R||I&T)&&(w=(I&R?"+":" ")+w);w.length<y;)w=" "+w}else{for(w=(-v).toString();w.length<z;)w="0"+w;if(I&Q)for(w="-"+w;w.length<y;)w+=" ";else if(I&S&&-1===z){for(;w.length<y-1;)w="0"+w;w="-"+w}else for(w="-"+w;w.length<y;)w=" "+w}break a;case"b":case"B":case"o":case"x":case"X":switch(a.charAt(u)){case"b":case"B":D=2,E="0b",F=/^1+/,G="1";break;case"o":D=8,E="0",F=/^3?7+/,G="7";break;case"x":case"X":D=16,E="0x",F=/^f+/,G="f"}if(v=n.$Integer(i()),v>=0){for(w=v.toString(D);w.length<z;)w="0"+w;if(I&Q)for((I&R||I&T)&&(w=(I&R?"+":" ")+w),I&P&&0!==v&&(w=E+w);w.length<y;)w+=" ";else if(I&S&&-1===z){for(;w.length<y-(I&R||I&T?1:0)-(I&P&&0!==v?E.length:0);)w="0"+w;I&P&&0!==v&&(w=E+w),(I&R||I&T)&&(w=(I&R?"+":" ")+w)}else for(I&P&&0!==v&&(w=E+w),(I&R||I&T)&&(w=(I&R?"+":" ")+w);w.length<y;)w=" "+w}else if(I&R||I&T){for(w=(-v).toString(D);w.length<z;)w="0"+w;if(I&Q)for(I&P&&(w=E+w),w="-"+w;w.length<y;)w+=" ";else if(I&S&&-1===z){for(;w.length<y-1-(I&P?2:0);)w="0"+w;I&P&&(w=E+w),w="-"+w}else for(I&P&&(w=E+w),w="-"+w;w.length<y;)w=" "+w}else{for(w=(v>>>0).toString(D).replace(F,G);w.length<z-2;)w=G+w;if(I&Q)for(w=".."+w,I&P&&(w=E+w);w.length<y;)w+=" ";else if(I&S&&-1===z){for(;w.length<y-2-(I&P?E.length:0);)w=G+w;w=".."+w,I&P&&(w=E+w)}else for(w=".."+w,I&P&&(w=E+w);w.length<y;)w=" "+w}a.charAt(u)===a.charAt(u).toUpperCase()&&(w=w.toUpperCase());break a;case"f":case"e":case"E":case"g":case"G":if(v=n.$Float(i()),v>=0||isNaN(v)){if(v===1/0)w="Inf";else switch(a.charAt(u)){case"f":w=v.toFixed(-1===z?6:z);break;case"e":case"E":w=v.toExponential(-1===z?6:z);break;case"g":case"G":w=v.toExponential(),x=parseInt(w.split("e")[1],10),-4>x||x>=(-1===z?6:z)||(w=v.toPrecision(-1===z?I&P?6:void 0:z))}if(I&Q)for((I&R||I&T)&&(w=(I&R?"+":" ")+w);w.length<y;)w+=" ";else if(I&S&&v!==1/0&&!isNaN(v)){for(;w.length<y-(I&R||I&T?1:0);)w="0"+w;(I&R||I&T)&&(w=(I&R?"+":" ")+w)}else for((I&R||I&T)&&(w=(I&R?"+":" ")+w);w.length<y;)w=" "+w}else{if(v===-(1/0))w="Inf";else switch(a.charAt(u)){case"f":w=(-v).toFixed(-1===z?6:z);break;case"e":case"E":w=(-v).toExponential(-1===z?6:z);break;case"g":case"G":w=(-v).toExponential(),x=parseInt(w.split("e")[1],10),-4>x||x>=(-1===z?6:z)||(w=(-v).toPrecision(-1===z?I&P?6:void 0:z))}if(I&Q)for(w="-"+w;w.length<y;)w+=" ";else if(I&S&&v!==-(1/0)){for(;w.length<y-1;)w="0"+w;w="-"+w}else for(w="-"+w;w.length<y;)w=" "+w}a.charAt(u)!==a.charAt(u).toUpperCase()||v===1/0||v===-(1/0)||isNaN(v)||(w=w.toUpperCase()),w=w.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case"a":case"A":n.$raise(t.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(v=i(),v["$respond_to?"]("to_ary")&&(v=v.$to_ary()[0]),w=v["$respond_to?"]("to_str")?v.$to_str():String.fromCharCode(t.get("Opal").$coerce_to(v,t.get("Integer"),"to_int")),1!==w.length&&n.$raise(t.get("ArgumentError"),"%c requires a character"),I&Q)for(;w.length<y;)w+=" ";else for(;w.length<y;)w=" "+w;break a;case"p":if(w=i().$inspect(),-1!==z&&(w=w.slice(0,z)),I&Q)for(;w.length<y;)w+=" ";else for(;w.length<y;)w=" "+w;break a;case"s":if(w=i().$to_s(),-1!==z&&(w=w.slice(0,z)),I&Q)for(;w.length<y;)w+=" ";else for(;w.length<y;)w=" "+w;break a;default:n.$raise(t.get("ArgumentError"),"malformed format string - %"+a.charAt(u))}void 0===w&&n.$raise(t.get("ArgumentError"),"malformed format string - %"),J+=a.slice(K,s)+w,K=u+1}return h.DEBUG&&N>=0&&M<q.length&&n.$raise(t.get("ArgumentError"),"too many arguments for format string"),J+a.slice(K)}),a.defn(s,"$hash",function(){var a=this;return""+a.$class()+":"+a.$class().$__id__()+":"+a.$__id__()}),a.defn(s,"$initialize_copy",function(a){return e}),a.defn(s,"$inspect",function(){var a=this;return a.$to_s()}),a.defn(s,"$instance_of?",function(a){var b=this;return a.$$is_class||a.$$is_module||b.$raise(t.get("TypeError"),"class or module required"),b.$$class===a}),a.defn(s,"$instance_variable_defined?",function(b){var c=this;return b=t.get("Opal")["$instance_variable_name!"](b),a.hasOwnProperty.call(c,b.substr(1))}),a.defn(s,"$instance_variable_get",function(a){var b=this;a=t.get("Opal")["$instance_variable_name!"](a);var c=b[a.substr(1)];return null==c?e:c}),a.defn(s,"$instance_variable_set",function(a,b){var c=this;return a=t.get("Opal")["$instance_variable_name!"](a),c[a.substr(1)]=b}),a.defn(s,"$instance_variables",function(){var a=this,b=[];for(var c in a)"$"!==c.charAt(0)&&"$$class"!==c&&"$$id"!==c&&b.push("@"+c);return b}),a.defn(s,"$Integer",function(a,b){var c,d,f,g=this;return a.$$is_string?(void 0===b?b=0:(b=t.get("Opal").$coerce_to(b,t.get("Integer"),"to_int"),(1===b||0>b||b>36)&&g.$raise(t.get("ArgumentError"),"invalid radix "+b)),d=a.toLowerCase(),d=d.replace(/(\d)_(?=\d)/g,"$1"),d=d.replace(/^(\s*[+-]?)(0[bodx]?)/,function(c,d,e){switch(e){case"0b":if(0===b||2===b)return b=2,d;case"0":case"0o":if(0===b||8===b)return b=8,d;case"0d":if(0===b||10===b)return b=10,d;case"0x":if(0===b||16===b)return b=16,d}g.$raise(t.get("ArgumentError"),'invalid value for Integer(): "'+a+'"')}),b=0===b?10:b,f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11))),new RegExp("^\\s*[+-]?["+f+"]+\\s*$").test(d)||g.$raise(t.get("ArgumentError"),'invalid value for Integer(): "'+a+'"'),c=parseInt(d,b),isNaN(c)&&g.$raise(t.get("ArgumentError"),'invalid value for Integer(): "'+a+'"'),c):(void 0!==b&&g.$raise(t.get("ArgumentError"),"base specified for non string value"),a===e&&g.$raise(t.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((a===1/0||a===-(1/0)||isNaN(a))&&g.$raise(t.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(c=a.$to_int(),c!==e)?c:t.get("Opal")["$coerce_to!"](a,t.get("Integer"),"to_i"))}),a.defn(s,"$Float",function(a){var b,c=this;return a===e&&c.$raise(t.get("TypeError"),"can't convert nil into Float"),a.$$is_string?(b=a.toString(),b=b.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b)?c.$Integer(b):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||c.$raise(t.get("ArgumentError"),'invalid value for Float(): "'+a+'"'),parseFloat(b))):t.get("Opal")["$coerce_to!"](a,t.get("Float"),"to_f")}),a.defn(s,"$Hash",function(a){var b,c;return(b=(c=a["$nil?"]())!==!1&&c!==e?c:a["$=="]([]))===e||b.$$is_boolean&&1!=b?(b=t.get("Hash")["$==="](a))===e||b.$$is_boolean&&1!=b?t.get("Opal")["$coerce_to!"](a,t.get("Hash"),"to_hash"):a:i([],{})}),a.defn(s,"$is_a?",function(b){var c=this;return b.$$is_class||b.$$is_module||c.$raise(t.get("TypeError"),"class or module required"),a.is_a(c,b)}),a.alias(s,"kind_of?","is_a?"),a.defn(s,"$lambda",n=function(){var a=n.$$p,b=a||e;return n.$$p=null,b.$$is_lambda=!0,b}),a.defn(s,"$load",function(b){return b=t.get("Opal")["$coerce_to!"](b,t.get("String"),"to_str"),a.load(b)}),a.defn(s,"$loop",o=function(){var a=this,b=o.$$p,c=b||e;for(o.$$p=null;;)if(c()===f)return f.$v;return a}),a.defn(s,"$nil?",function(){return!1}),a.alias(s,"object_id","__id__"),a.defn(s,"$printf",function(){var c,d=this,f=arguments.length-0;0>f&&(f=0);for(var g=new Array(f),h=0;f>h;h++)g[h]=arguments[h+0];return b(g.$length(),0)&&d.$print((c=d).$format.apply(c,a.to_a(g))),e}),a.defn(s,"$proc",p=function(){var a=this,b=p.$$p,c=b||e;return p.$$p=null,c!==!1&&c!==e||a.$raise(t.get("ArgumentError"),"tried to create Proc object without a block"),c.$$is_lambda=!1,c}),a.defn(s,"$puts",function(){var b;null==h.stdout&&(h.stdout=e);var c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),f=0;c>f;f++)d[f]=arguments[f+0];return(b=h.stdout).$puts.apply(b,a.to_a(d))}),a.defn(s,"$p",function(){var a,b,d,f=this,g=arguments.length-0;0>g&&(g=0);for(var i=new Array(g),j=0;g>j;j++)i[j]=arguments[j+0];return(a=(b=i).$each,a.$$p=(d=function(a){d.$$s||this;return null==h.stdout&&(h.stdout=e),null==a&&(a=e),h.stdout.$puts(a.$inspect())},d.$$s=f,d),a).call(b),c(i.$length(),1)?i["$[]"](0):i}),a.defn(s,"$print",function(){var b;null==h.stdout&&(h.stdout=e);var c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),f=0;c>f;f++)d[f]=arguments[f+0];return(b=h.stdout).$print.apply(b,a.to_a(d))}),a.defn(s,"$warn",function(){var b,c;null==h.VERBOSE&&(h.VERBOSE=e),null==h.stderr&&(h.stderr=e);var d=arguments.length-0;0>d&&(d=0);for(var f=new Array(d),g=0;d>g;g++)f[g]=arguments[g+0];return(b=(c=h.VERBOSE["$nil?"]())!==!1&&c!==e?c:f["$empty?"]())===e||b.$$is_boolean&&1!=b?(b=h.stderr).$puts.apply(b,a.to_a(f)):e}),a.defn(s,"$raise",function(b,c,d){if(null==h["!"]&&(h["!"]=e),null==c&&(c=e),null==d&&(d=e),null==b&&h["!"]!==e)throw h["!"];throw null==b?b=t.get("RuntimeError").$new():b.$$is_string?b=t.get("RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(c):b["$kind_of?"](t.get("Exception"))||(b=t.get("TypeError").$new("exception class/object expected")),h["!"]!==e&&a.exceptions.push(h["!"]),h["!"]=b,b}),a.alias(s,"fail","raise"),a.defn(s,"$rand",function(a){var b=this;if(void 0===a)return Math.random();if(a.$$is_range){var c=a.begin,d=a.end-c;return a.exclude||d++,b.$rand(d)+c}return Math.floor(Math.random()*Math.abs(t.get("Opal").$coerce_to(a,t.get("Integer"),"to_int")))}),a.defn(s,"$respond_to?",function(a,b){var c,d=this;if(null==b&&(b=!1),(c=d["$respond_to_missing?"](a,b))!==e&&(!c.$$is_boolean||1==c))return!0;var f=d["$"+a];return"function"!=typeof f||f.$$stub?!1:!0}),a.defn(s,"$respond_to_missing?",function(a,b){return null==b&&(b=!1),!1}),a.defn(s,"$require",function(b){return b=t.get("Opal")["$coerce_to!"](b,t.get("String"),"to_str"),a.require(b)}),a.defn(s,"$require_relative",function(b){return t.get("Opal")["$try_convert!"](b,t.get("String"),"to_str"),b=t.get("File").$expand_path(t.get("File").$join(a.current_file,"..",b)),a.require(b)}),a.defn(s,"$require_tree",function(b){b=t.get("File").$expand_path(b),b["$=="](".")&&(b="");for(var c in a.modules)c["$start_with?"](b)&&a.require(c);return e}),a.alias(s,"send","__send__"),a.alias(s,"public_send","__send__"),a.defn(s,"$singleton_class",function(){var b=this;return a.get_singleton_class(b)}),a.defn(s,"$sleep",function(a){var b=this;null==a&&(a=e),a===e&&b.$raise(t.get("TypeError"),"can't convert NilClass into time interval"),a.$$is_number||b.$raise(t.get("TypeError"),"can't convert "+a.$class()+" into time interval"),0>a&&b.$raise(t.get("ArgumentError"),"time interval must be positive");for(var c=new Date;new Date-c<=1e3*a;);return a}),a.alias(s,"sprintf","format"),a.alias(s,"srand","rand"),a.defn(s,"$String",function(a){var b;return(b=t.get("Opal")["$coerce_to?"](a,t.get("String"),"to_str"))!==!1&&b!==e?b:t.get("Opal")["$coerce_to!"](a,t.get("String"),"to_s")}),a.defn(s,"$tap",q=function(){var b=this,c=q.$$p,d=c||e;return q.$$p=null,a.yield1(d,b)===f?f.$v:b}),a.defn(s,"$to_proc",function(){var a=this;return a}),a.defn(s,"$to_s",function(){var a=this;return"#<"+a.$class()+":0x"+a.$__id__().$to_s(16)+">"}),a.defn(s,"$catch",r=function(b){var c,d=this,g=r.$$p,h=g||e,i=e;r.$$p=null;try{return c=a.yieldX(h,[]),c===f?c:c}catch(j){if(!a.rescue(j,[t.get("UncaughtThrowError")]))throw j;i=j;try{return i.$sym()["$=="](b)?i.$arg():d.$raise()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(s,"$throw",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$raise(t.get("UncaughtThrowError").$new(c))})}(d.base),function(a,b){function c(){}var d=c=j(a,b,"Object",c),e=(d.$$proto,d.$$scope);return d.$include(e.get("Kernel"))}(d.base,null)},Opal.modules["corelib/error"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="warning";var c=(a.top,a),d=a.nil,e=(a.breaker,a.slice,a.klass),f=a.module;return a.add_stubs(["$new","$clone","$to_s","$empty?","$class","$attr_reader","$[]","$>","$length","$inspect"]),function(b,c){function f(){}var g=f=e(b,c,"Exception",f),h=g.$$proto;g.$$scope;return h.message=d,a.defs(g,"$new",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),e=0;b>e;e++)c[e]=arguments[e+0];var f=c.length>0?c[0]:d,g=new a.$$alloc(f);return Error.captureStackTrace&&Error.captureStackTrace(g),g.name=a.$$name,g.$initialize.apply(g,c),g}),a.defs(g,"$exception",function(){var b,c=this,d=arguments.length-0;0>d&&(d=0);for(var e=new Array(d),f=0;d>f;f++)e[f]=arguments[f+0];return(b=c).$new.apply(b,a.to_a(e))}),a.defn(g,"$initialize",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),e=0;b>e;e++)c[e]=arguments[e+0];return a.message=c.length>0?c[0]:d}),a.defn(g,"$backtrace",function(){var a=this,b=a.stack;return"string"==typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]}),a.defn(g,"$exception",function(a){var b=this;if(null==a&&(a=d),a===d||b===a)return b;var c=b.$clone();return c.message=a,c}),a.defn(g,"$message",function(){var a=this;return a.$to_s()}),a.defn(g,"$inspect",function(){var a,b=this,c=d;return c=b.$to_s(),(a=c["$empty?"]())===d||a.$$is_boolean&&1!=a?"#<"+b.$class().$to_s()+": "+b.$to_s()+">":b.$class().$to_s()}),a.defn(g,"$to_s",function(){var a,b,c=this;return b=c.message,(a=b!==!1&&b!==d?c.message.$to_s():b)!==!1&&a!==d?a:c.$class().$to_s()}),d&&"to_s"}(c.base,Error),function(a,b){function c(){}var f=c=e(a,b,"ScriptError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"SyntaxError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("ScriptError")),function(a,b){function c(){}var f=c=e(a,b,"LoadError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("ScriptError")),function(a,b){function c(){}var f=c=e(a,b,"NotImplementedError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("ScriptError")),function(a,b){function c(){}var f=c=e(a,b,"SystemExit",c);f.$$proto,f.$$scope;return d}(c.base,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"NoMemoryError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"SignalException",c);f.$$proto,f.$$scope;return d}(c.base,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"Interrupt",c);f.$$proto,f.$$scope;return d}(c.base,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"SecurityError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"StandardError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("Exception")),function(a,b){function c(){}var f=c=e(a,b,"ZeroDivisionError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"NameError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"NoMethodError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("NameError")),function(a,b){function c(){}var f=c=e(a,b,"RuntimeError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"LocalJumpError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"TypeError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"ArgumentError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"IndexError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"StopIteration",c);f.$$proto,f.$$scope;return d}(c.base,c.get("IndexError")),function(a,b){function c(){}var f=c=e(a,b,"KeyError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("IndexError")),function(a,b){function c(){}var f=c=e(a,b,"RangeError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"FloatDomainError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("RangeError")),function(a,b){function c(){}var f=c=e(a,b,"IOError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(a,b){function c(){}var f=c=e(a,b,"SystemCallError",c);f.$$proto,f.$$scope;return d}(c.base,c.get("StandardError")),function(b){var c=f(b,"Errno"),g=(c.$$proto,c.$$scope);!function(b,c){function f(){}var g,h=f=e(b,c,"EINVAL",f);h.$$proto,h.$$scope;return a.defs(h,"$new",g=function(){var b=this;g.$$p;return g.$$p=null,a.find_super_dispatcher(b,"new",g,null,f).apply(b,["Invalid argument"])}),d&&"new"}(g.base,g.get("SystemCallError"))}(c.base),function(c,f){function g(){}var h,i=g=e(c,f,"UncaughtThrowError",g),j=i.$$proto;i.$$scope;return j.sym=d,i.$attr_reader("sym","arg"),a.defn(i,"$initialize",h=function(c){var d=this;h.$$p;return h.$$p=null,d.sym=c["$[]"](0),b(c.$length(),1)&&(d.arg=c["$[]"](1)),a.find_super_dispatcher(d,"initialize",h,null).apply(d,["uncaught throw "+d.sym.$inspect()])}),d&&"initialize"}(c.base,c.get("ArgumentError")),function(b,c){function f(){}var g,h=f=e(b,c,"NameError",f);h.$$proto,h.$$scope;return h.$attr_reader("name"),a.defn(h,"$initialize",g=function(b,c){var e=this;g.$$p;return null==c&&(c=d),g.$$p=null,a.find_super_dispatcher(e,"initialize",g,null).apply(e,[b]),e.name=c}),d&&"initialize"}(c.base,null),function(b,c){function f(){}var g,h=f=e(b,c,"NoMethodError",f);h.$$proto,h.$$scope;return h.$attr_reader("args"),a.defn(h,"$initialize",g=function(b,c,d){var e=this;g.$$p;return null==d&&(d=[]),g.$$p=null,a.find_super_dispatcher(e,"initialize",g,null).apply(e,[b,c]),e.args=d}),d&&"initialize"}(c.base,null)},Opal.modules["corelib/constants"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a);a.nil,a.breaker,a.slice;return a.cdecl(b,"RUBY_PLATFORM","opal"),a.cdecl(b,"RUBY_ENGINE","opal"),a.cdecl(b,"RUBY_VERSION","2.1.5"),a.cdecl(b,"RUBY_ENGINE_VERSION","0.9.0.beta2"),a.cdecl(b,"RUBY_RELEASE_DATE","2015-11-06"),a.cdecl(b,"RUBY_PATCHLEVEL",0),a.cdecl(b,"RUBY_REVISION",0),a.cdecl(b,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon"),a.cdecl(b,"RUBY_DESCRIPTION","opal "+b.get("RUBY_ENGINE_VERSION")+" ("+b.get("RUBY_RELEASE_DATE")+" revision "+b.get("RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(a){a.dynamic_require_severity="warning";var b=a.top;a.nil,a.breaker,a.slice;return a.add_stubs(["$require"]),b.$require("corelib/runtime"),b.$require("corelib/helpers"),b.$require("corelib/module"),b.$require("corelib/class"),b.$require("corelib/basic_object"),b.$require("corelib/kernel"),b.$require("corelib/error"),b.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="warning";var c=(a.top,a),d=a.nil,e=(a.breaker,a.slice,a.klass);return a.add_stubs(["$raise","$class","$new","$>","$length","$Rational"]),function(c,f){function g(){}var h=g=e(c,f,"NilClass",g),i=h.$$proto,j=h.$$scope;return i.$$meta=h,a.defn(h,"$!",function(){return!0}),a.defn(h,"$&",function(a){return!1}),a.defn(h,"$|",function(a){return a!==!1&&a!==d}),a.defn(h,"$^",function(a){return a!==!1&&a!==d}),a.defn(h,"$==",function(a){return a===d}),a.defn(h,"$dup",function(){var a=this;return a.$raise(j.get("TypeError"),"can't dup "+a.$class())}),a.defn(h,"$clone",function(){var a=this;return a.$raise(j.get("TypeError"),"can't clone "+a.$class())}),a.defn(h,"$inspect",function(){return"nil"}),a.defn(h,"$nil?",function(){return!0}),a.defn(h,"$singleton_class",function(){return j.get("NilClass")}),a.defn(h,"$to_a",function(){return[]}),a.defn(h,"$to_h",function(){return a.hash()}),a.defn(h,"$to_i",function(){return 0}),a.alias(h,"to_f","to_i"),a.defn(h,"$to_s",function(){return""}),a.defn(h,"$to_c",function(){return j.get("Complex").$new(0,0)}),a.defn(h,"$rationalize",function(){var a=this,c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+0];return b(d.$length(),1)&&a.$raise(j.get("ArgumentError")),a.$Rational(0,1)}),a.defn(h,"$to_r",function(){var a=this;return a.$Rational(0,1)}),d&&"to_r"}(c.base,null),a.cdecl(c,"NIL",d)},Opal.modules["corelib/boolean"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return a.add_stubs(["$raise","$class"]),function(b,e){function f(){}var g=f=d(b,e,"Boolean",f),h=g.$$proto,i=g.$$scope;return h.$$is_boolean=!0,h.$$meta=g,a.defn(g,"$__id__",function(){var a=this;return a.valueOf()?2:0}),a.alias(g,"object_id","__id__"),a.defn(g,"$!",function(){var a=this;return 1!=a}),a.defn(g,"$&",function(a){var b=this;return 1==b?a!==!1&&a!==c:!1}),a.defn(g,"$|",function(a){var b=this;return 1==b?!0:a!==!1&&a!==c}),a.defn(g,"$^",function(a){var b=this;return 1==b?a===!1||a===c:a!==!1&&a!==c}),a.defn(g,"$==",function(a){var b=this;return 1==b===a.valueOf()}),a.alias(g,"equal?","=="),a.alias(g,"eql?","=="),a.defn(g,"$singleton_class",function(){return i.get("Boolean")}),a.defn(g,"$to_s",function(){var a=this;return 1==a?"true":"false"}),a.defn(g,"$dup",function(){var a=this;return a.$raise(i.get("TypeError"),"can't dup "+a.$class())}),a.defn(g,"$clone",function(){var a=this;return a.$raise(i.get("TypeError"),"can't clone "+a.$class())}),c&&"clone"}(b.base,Boolean),a.cdecl(b,"TrueClass",b.get("Boolean")),a.cdecl(b,"FalseClass",b.get("Boolean")),a.cdecl(b,"TRUE",!0),a.cdecl(b,"FALSE",!1)},Opal.modules["corelib/comparable"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="warning";var d=(a.top,a),e=a.nil,f=(a.breaker,a.slice,a.module);return a.add_stubs(["$===","$>","$<","$equal?","$<=>","$normalize","$raise","$class"]),function(d){var g=f(d,"Comparable"),h=(g.$$proto,g.$$scope);a.defs(g,"$normalize",function(a){var d;return(d=h.get("Integer")["$==="](a))===e||d.$$is_boolean&&1!=d?b(a,0)?1:c(a,0)?-1:0:a}),a.defn(g,"$==",function(b){var c,d=this,f=e;try{return(c=d["$equal?"](b))===e||c.$$is_boolean&&1!=c?d["$<=>"]==a.Kernel["$<=>"]?!1:d.$$comparable?(delete d.$$comparable,!1):(c=f=d["$<=>"](b))===e||c.$$is_boolean&&1!=c?!1:0==h.get("Comparable").$normalize(f):!0}catch(g){if(!a.rescue(g,[h.get("StandardError")]))throw g;try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(g,"$>",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)>0}),a.defn(g,"$>=",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)>=0}),a.defn(g,"$<",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)<0}),a.defn(g,"$<=",function(a){var b,c=this,d=e;return((b=d=c["$<=>"](a))===e||b.$$is_boolean&&1!=b)&&c.$raise(h.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed"),h.get("Comparable").$normalize(d)<=0}),a.defn(g,"$between?",function(a,d){var e=this;return c(e,a)?!1:b(e,d)?!1:!0})}(d.base)},Opal.modules["corelib/regexp"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.gvars;return a.add_stubs(["$nil?","$[]","$raise","$escape","$options","$to_str","$new","$join","$coerce_to!","$!","$match","$coerce_to?","$begin","$coerce_to","$call","$=~","$attr_reader","$===","$inspect","$to_a"]),function(a,b){function d(){}var f=d=e(a,b,"RegexpError",d);f.$$proto,f.$$scope;return c}(b.base,b.get("StandardError")),function(b,g){function h(){}var i,j=h=e(b,g,"Regexp",h),k=j.$$proto,l=j.$$scope;return a.cdecl(l,"IGNORECASE",1),a.cdecl(l,"MULTILINE",4),k.$$is_regexp=!0,function(b){var e,g=b.$$scope;b.$$proto;return a.defn(b,"$allocate",e=function(){var b=d.call(arguments,0),f=this,g=e.$$p,h=c;return e.$$p=null,h=a.find_super_dispatcher(f,"allocate",e,g).apply(f,b),h.uninitialized=!0,h}),a.defn(b,"$escape",function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")}),a.defn(b,"$last_match",function(a){var b;return null==f["~"]&&(f["~"]=c),null==a&&(a=c),(b=a["$nil?"]())===c||b.$$is_boolean&&1!=b?f["~"]["$[]"](a):f["~"]}),a.alias(b,"quote","escape"),a.defn(b,"$union",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];var e,f,h,i,j;if(0==c.length)return/(?!)/;e=c[0].$$is_array,c.length>1&&e&&a.$raise(g.get("TypeError"),"no implicit conversion of Array into String"),e&&(c=c[0]),i=void 0,f=[];for(var k=0;k<c.length;k++)h=c[k],h.$$is_string?f.push(a.$escape(h)):h.$$is_regexp?(j=h.$options(),void 0!=i&&i!=j&&a.$raise(g.get("TypeError"),"All expressions must use the same options"),i=j,f.push("("+h.source+")")):f.push(a.$escape(h.$to_str()));return a.$new(f.$join("|"),i)}),a.defn(b,"$new",function(a,b){var c=this;if(a.$$is_regexp)return new RegExp(a);if(a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str"),"\\"===a.charAt(a.length-1)&&c.$raise(g.get("RegexpError"),"too short escape sequence: /"+a+"/"),void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var d="";g.get("IGNORECASE")&b&&(d+="i"),g.get("MULTILINE")&b&&(d+="m"),b=d}else b="i";return new RegExp(a,b)}),c&&"new"}(a.get_singleton_class(j)),a.defn(j,"$==",function(a){var b=this;return a.constructor==RegExp&&b.toString()===a.toString()}),a.defn(j,"$===",function(a){var b=this;return b.$match(l.get("Opal")["$coerce_to?"](a,l.get("String"),"to_str"))!==c}),a.defn(j,"$=~",function(a){var b,d=this;return null==f["~"]&&(f["~"]=c),b=d.$match(a),b!==!1&&b!==c?f["~"].$begin(0):b}),a.alias(j,"eql?","=="),a.defn(j,"$inspect",function(){var a=this;return a.toString()}),a.defn(j,"$match",i=function(a,b){var d=this,e=i.$$p,g=e||c;if(null==f["~"]&&(f["~"]=c),i.$$p=null,d.uninitialized&&d.$raise(l.get("TypeError"),"uninitialized Regexp"),b=void 0===b?0:l.get("Opal").$coerce_to(b,l.get("Integer"),"to_int"),a===c)return f["~"]=c;if(a=l.get("Opal").$coerce_to(a,l.get("String"),"to_str"),0>b&&(b+=a.length,0>b))return f["~"]=c;var h=d.source,j="g";d.multiline&&(h=h.replace(".","[\\s\\S]"),j+="m");for(var k,m=new RegExp(h,j+(d.ignoreCase?"i":""));;){if(k=m.exec(a),null===k)return f["~"]=c;if(k.index>=b)return f["~"]=l.get("MatchData").$new(m,k),g===c?f["~"]:g.$call(f["~"]);m.lastIndex=k.index+1}}),a.defn(j,"$~",function(){var a=this;return null==f._&&(f._=c),a["$=~"](f._)}),a.defn(j,"$source",function(){var a=this;return a.source}),a.defn(j,"$options",function(){var a=this;a.uninitialized&&a.$raise(l.get("TypeError"),"uninitialized Regexp");var b=0;return a.multiline&&(b|=l.get("MULTILINE")),a.ignoreCase&&(b|=l.get("IGNORECASE")),b}),a.defn(j,"$casefold?",function(){var a=this;return a.ignoreCase}),a.alias(j,"to_s","source")}(b.base,RegExp),function(b,d){function g(){}var h=g=e(b,d,"MatchData",g),i=h.$$proto,j=h.$$scope;return i.matches=c,h.$attr_reader("post_match","pre_match","regexp","string"),a.defn(h,"$initialize",function(a,b){var d=this;f["~"]=d,d.regexp=a,d.begin=b.index,d.string=b.input,d.pre_match=b.input.slice(0,b.index),d.post_match=b.input.slice(b.index+b[0].length),d.matches=[];for(var e=0,g=b.length;g>e;e++){var h=b[e];null==h?d.matches.push(c):d.matches.push(h)}}),a.defn(h,"$[]",function(){var b,c=this,d=arguments.length-0;0>d&&(d=0);for(var e=new Array(d),f=0;d>f;f++)e[f]=arguments[f+0];return(b=c.matches)["$[]"].apply(b,a.to_a(e))}),a.defn(h,"$offset",function(a){var b=this;return 0!==a&&b.$raise(j.get("ArgumentError"),"MatchData#offset only supports 0th element"),
[b.begin,b.begin+b.matches[a].length]}),a.defn(h,"$==",function(a){var b,d,e,f,g=this;return(b=j.get("MatchData")["$==="](a))===c||b.$$is_boolean&&1!=b?!1:(f=g.string==a.string,e=f!==!1&&f!==c?g.regexp.toString()==a.regexp.toString():f,d=e!==!1&&e!==c?g.pre_match==a.pre_match:e,b=d!==!1&&d!==c?g.post_match==a.post_match:d,b!==!1&&b!==c?g.begin==a.begin:b)}),a.alias(h,"eql?","=="),a.defn(h,"$begin",function(a){var b=this;return 0!==a&&b.$raise(j.get("ArgumentError"),"MatchData#begin only supports 0th element"),b.begin}),a.defn(h,"$end",function(a){var b=this;return 0!==a&&b.$raise(j.get("ArgumentError"),"MatchData#end only supports 0th element"),b.begin+b.matches[a].length}),a.defn(h,"$captures",function(){var a=this;return a.matches.slice(1)}),a.defn(h,"$inspect",function(){for(var a=this,b="#<MatchData "+a.matches[0].$inspect(),c=1,d=a.matches.length;d>c;c++)b+=" "+c+":"+a.matches[c].$inspect();return b+">"}),a.defn(h,"$length",function(){var a=this;return a.matches.length}),a.alias(h,"size","length"),a.defn(h,"$to_a",function(){var a=this;return a.matches}),a.defn(h,"$to_s",function(){var a=this;return a.matches[0]}),a.defn(h,"$values_at",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var d=new Array(b),e=0;b>e;e++)d[e]=arguments[e+0];var f,g,h,i=[];for(f=0;f<d.length;f++)d[f].$$is_range&&(g=d[f].$to_a(),g.unshift(f,1),Array.prototype.splice.apply(d,g)),h=j.get("Opal")["$coerce_to!"](d[f],j.get("Integer"),"to_int"),0>h&&(h+=a.matches.length,0>h)?i.push(c):i.push(a.matches[h]);return i}),c&&"values_at"}(b.base,null)},Opal.modules["corelib/string"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var d=a.top,e=a,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.gvars;return a.add_stubs(["$require","$include","$coerce_to?","$coerce_to","$raise","$===","$format","$to_s","$respond_to?","$to_str","$<=>","$==","$=~","$new","$empty?","$ljust","$ceil","$/","$+","$rjust","$floor","$to_a","$each_char","$to_proc","$coerce_to!","$copy_singleton_methods","$initialize_clone","$initialize_dup","$enum_for","$size","$chomp","$[]","$to_i","$class","$each_line","$match","$captures","$proc","$shift","$__send__","$succ","$escape"]),d.$require("corelib/comparable"),d.$require("corelib/regexp"),function(d,e){function k(){}function l(a){function b(a){var b,c,d,e,f,g,h="",i=a.length;for(b=0;i>b;b++)if(c=a.charAt(b),"-"===c&&b>0&&i-1>b&&!d){for(e=a.charCodeAt(b-1),f=a.charCodeAt(b+1),e>f&&v.$raise(x.get("ArgumentError"),'invalid range "'+e+"-"+f+'" in string transliteration'),g=e+1;f+1>g;g++)h+=String.fromCharCode(g);d=!0,b++}else d="\\"===c,h+=c;return h}function c(a,b){if(0===a.length)return b;var c,d,e="",f=a.length;for(c=0;f>c;c++)d=a.charAt(c),-1!==b.indexOf(d)&&(e+=d);return e}var d,e,f,g,h,i,j="",k="";for(d=0,e=a.length;e>d;d++)f=x.get("Opal").$coerce_to(a[d],x.get("String"),"to_str"),g="^"===f.charAt(0)&&f.length>1,f=b(g?f.slice(1):f),g?k=c(k,f):j=c(j,f);if(j.length>0&&k.length>0){for(i="",d=0,e=j.length;e>d;d++)h=j.charAt(d),-1===k.indexOf(h)&&(i+=h);j=i,k=""}return j.length>0?"["+x.get("Regexp").$escape(j)+"]":k.length>0?"[^"+x.get("Regexp").$escape(k)+"]":null}var m,n,o,p,q,r,s,t,u,v=k=i(d,e,"String",k),w=v.$$proto,x=v.$$scope;w.length=f,v.$include(x.get("Comparable")),w.$$is_string=!0,a.defn(v,"$__id__",function(){var a=this;return a.toString()}),a.alias(v,"object_id","__id__"),a.defs(v,"$try_convert",function(a){return x.get("Opal")["$coerce_to?"](a,x.get("String"),"to_str")}),a.defs(v,"$new",function(a){return null==a&&(a=""),a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),new String(a)}),a.defn(v,"$initialize",function(a){var b=this;return void 0===a?b:b.$raise(x.get("NotImplementedError"),"Mutable strings are not supported in Opal.")}),a.defn(v,"$%",function(b){var c,d=this;return(c=x.get("Array")["$==="](b))===f||c.$$is_boolean&&1!=c?d.$format(d,b):(c=d).$format.apply(c,[d].concat(a.to_a(b)))}),a.defn(v,"$*",function(a){var b=this;if(a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),0>a&&b.$raise(x.get("ArgumentError"),"negative argument"),0===a)return"";var c="",d=b.toString();for(d.length*a>=1<<28&&b.$raise(x.get("RangeError"),"multiply count must not overflow maximum string size");1===(1&a)&&(c+=d),a>>>=1,0!==a;)d+=d;return c}),a.defn(v,"$+",function(a){var b=this;return a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b+a.$to_s()}),a.defn(v,"$<=>",function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))===f||b.$$is_boolean&&1!=b){var d=a["$<=>"](c);return d===f?f:d>0?-1:0>d?1:0}return a=a.$to_str().$to_s(),c>a?1:a>c?-1:0}),a.defn(v,"$==",function(a){var b=this;return a.$$is_string?b.toString()===a.toString():x.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](b):!1}),a.alias(v,"eql?","=="),a.alias(v,"===","=="),a.defn(v,"$=~",function(a){var b=this;return a.$$is_string&&b.$raise(x.get("TypeError"),"type mismatch: String given"),a["$=~"](b)}),a.defn(v,"$[]",function(a,b){var c,d=this,e=d.length;if(a.$$is_range)return c=a.exclude,b=x.get("Opal").$coerce_to(a.end,x.get("Integer"),"to_int"),a=x.get("Opal").$coerce_to(a.begin,x.get("Integer"),"to_int"),Math.abs(a)>e?f:(0>a&&(a+=e),0>b&&(b+=e),c||(b+=1),b-=a,0>b&&(b=0),d.substr(a,b));if(a.$$is_string)return null!=b&&d.$raise(x.get("TypeError")),-1!==d.indexOf(a)?a:f;if(a.$$is_regexp){var g=d.match(a);return null===g?(j["~"]=f,f):(j["~"]=x.get("MatchData").$new(a,g),null==b?g[0]:(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&-b<g.length?g[b+=g.length]:b>=0&&b<g.length?g[b]:f))}return a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),0>a&&(a+=e),null==b?a>=e||0>a?f:d.substr(a,1):(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b?f:a>e||0>a?f:d.substr(a,b))}),a.alias(v,"byteslice","[]"),a.defn(v,"$capitalize",function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}),a.defn(v,"$casecmp",function(a){var b=this;a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s();var c=/^[\x00-\x7F]*$/;return c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase()),b["$<=>"](a)}),a.defn(v,"$center",function(a,d){var e,g=this;if(null==d&&(d=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),d=x.get("Opal").$coerce_to(d,x.get("String"),"to_str").$to_s(),(e=d["$empty?"]())===f||e.$$is_boolean&&1!=e||g.$raise(x.get("ArgumentError"),"zero width padding"),(e=a<=g.length)!==f&&(!e.$$is_boolean||1==e))return g;var h=g.$ljust(b(c(a,g.length),2).$ceil(),d),i=g.$rjust(b(c(a,g.length),2).$floor(),d);return i+h.slice(g.length)}),a.defn(v,"$chars",m=function(){var a,b,c=this,d=m.$$p,e=d||f;return m.$$p=null,e===!1||e===f?c.$each_char().$to_a():(a=(b=c).$each_char,a.$$p=e.$to_proc(),a).call(b)}),a.defn(v,"$chomp",function(a){var b,c=this;if(null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),(b=a===f||0===c.length)!==f&&(!b.$$is_boolean||1==b))return c;if(a=x.get("Opal")["$coerce_to!"](a,x.get("String"),"to_str").$to_s(),"\n"===a)return c.replace(/\r?\n?$/,"");if(""===a)return c.replace(/(\r?\n)+$/,"");if(c.length>a.length){var d=c.substr(c.length-a.length,a.length);if(d===a)return c.substr(0,c.length-a.length)}return c}),a.defn(v,"$chop",function(){var a=this,b=a.length;return 1>=b?"":"\n"===a.charAt(b-1)&&"\r"===a.charAt(b-2)?a.substr(0,b-2):a.substr(0,b-1)}),a.defn(v,"$chr",function(){var a=this;return a.charAt(0)}),a.defn(v,"$clone",function(){var a=this,b=f;return b=a.slice(),b.$copy_singleton_methods(a),b.$initialize_clone(a),b}),a.defn(v,"$dup",function(){var a=this,b=f;return b=a.slice(),b.$initialize_dup(a),b}),a.defn(v,"$count",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];0===c.length&&a.$raise(x.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var e=l(c);return null===e?0:a.length-a.replace(new RegExp(e,"g"),"").length}),a.defn(v,"$delete",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];0===c.length&&a.$raise(x.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var e=l(c);return null===e?a:a.replace(new RegExp(e,"g"),"")}),a.defn(v,"$downcase",function(){var a=this;return a.toLowerCase()}),a.defn(v,"$each_char",n=function(){var b,c,d,e=this,h=n.$$p,i=h||f;if(n.$$p=null,i===f)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=e,d),b).call(c,"each_char");for(var j=0,k=e.length;k>j;j++){var l=a.yield1(i,e.charAt(j));if(l===g)return g.$v}return e}),a.defn(v,"$each_line",o=function(b){var c=this,d=o.$$p,e=d||f;if(null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),o.$$p=null,e===f)return c.$enum_for("each_line",b);var h;if(b===f)return h=a.yield1(e,c),h===g?h.$v:c;b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str");var i,k,l,m,n,p,q;if(0===b.length){for(i=c.split(/(\n{2,})/),k=0,l=i.length;l>k;k+=2)if((i[k]||i[k+1])&&(h=a.yield1(e,(i[k]||"")+(i[k+1]||"")),h===g))return h.$v;return c}for(n=c.$chomp(b),p=c.length!=n.length,q=n.split(b),k=0,m=q.length;m>k;k++)if(m-1>k||p){if(h=a.yield1(e,q[k]+b),h===g)return h.$v}else if(h=a.yield1(e,q[k]),h===g)return h.$v;return c}),a.defn(v,"$empty?",function(){var a=this;return 0===a.length}),a.defn(v,"$end_with?",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];for(var e=0,f=c.length;f>e;e++){var g=x.get("Opal").$coerce_to(c[e],x.get("String"),"to_str").$to_s();if(a.length>=g.length&&a.substr(a.length-g.length,g.length)==g)return!0}return!1}),a.alias(v,"eql?","=="),a.alias(v,"equal?","==="),a.defn(v,"$gsub",p=function(a,b){var c=this,d=p.$$p,e=d||f;if(p.$$p=null,void 0===b&&e===f)return c.$enum_for("gsub",a);var g,h,i="",k=f,l=0;for(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));;){if(g=a.exec(c),null===g){j["~"]=f,i+=c.slice(l);break}k=x.get("MatchData").$new(a,g),void 0===b?h=e(g[0]):b.$$is_hash?h=b["$[]"](g[0]).$to_s():(b.$$is_string||(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str")),h=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(b.length%2===0)return a;switch(d){case"+":for(var e=g.length-1;e>0;e--)if(void 0!==g[e])return b.slice(1)+g[e];return"";case"&":return b.slice(1)+g[0];case"`":return b.slice(1)+c.slice(0,g.index);case"'":return b.slice(1)+c.slice(g.index+g[0].length);default:return b.slice(1)+(g[d]||"")}}).replace(/\\\\/g,"\\")),a.lastIndex===g.index?(i+=h+c.slice(l,g.index+1),a.lastIndex+=1):i+=c.slice(l,g.index)+h,l=a.lastIndex}return j["~"]=k,i}),a.defn(v,"$hash",function(){var a=this;return a.toString()}),a.defn(v,"$hex",function(){var a=this;return a.$to_i(16)}),a.defn(v,"$include?",function(a){var b,c=this;return a.$$is_string?-1!==c.indexOf(a):(((b=a["$respond_to?"]("to_str"))===f||b.$$is_boolean&&1!=b)&&c.$raise(x.get("TypeError"),"no implicit conversion of "+a.$class()+" into String"),-1!==c.indexOf(a.$to_str()))}),a.defn(v,"$index",function(a,b){var c,d,e,g=this;if(void 0===b)b=0;else if(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&(b+=g.length,0>b))return f;if(a.$$is_regexp)for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(d=e.exec(g),null===d){j["~"]=f,c=-1;break}if(d.index>=b){j["~"]=x.get("MatchData").$new(e,d),c=d.index;break}e.lastIndex=d.index+1}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),c=0===a.length&&b>g.length?-1:g.indexOf(a,b);return-1===c?f:c}),a.defn(v,"$inspect",function(){var a=this,b=/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"":"\\a","":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","":"\\v",'"':'\\"',"\\":"\\\\"},d=a.replace(b,function(a){return c[a]||"\\u"+("0000"+a.charCodeAt(0).toString(16).toUpperCase()).slice(-4)});return'"'+d.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),a.defn(v,"$intern",function(){var a=this;return a}),a.defn(v,"$lines",q=function(a){var b,c,d=this,e=q.$$p,g=e||f,h=f;return null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),q.$$p=null,h=(b=(c=d).$each_line,b.$$p=g.$to_proc(),b).call(c,a),g!==!1&&g!==f?d:h.$to_a()}),a.defn(v,"$length",function(){var a=this;return a.length}),a.defn(v,"$ljust",function(a,b){var c,d=this;if(null==b&&(b=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),(c=b["$empty?"]())===f||c.$$is_boolean&&1!=c||d.$raise(x.get("ArgumentError"),"zero width padding"),(c=a<=d.length)!==f&&(!c.$$is_boolean||1==c))return d;var e=-1,g="";for(a-=d.length;++e<a;)g+=b;return d+g.slice(0,a)}),a.defn(v,"$lstrip",function(){var a=this;return a.replace(/^\s*/,"")}),a.defn(v,"$match",r=function(a,b){var c,d,e=this,g=r.$$p,h=g||f;return r.$$p=null,(c=(d=x.get("String")["$==="](a))!==!1&&d!==f?d:a["$respond_to?"]("to_str"))===f||c.$$is_boolean&&1!=c||(a=x.get("Regexp").$new(a.$to_str())),((c=x.get("Regexp")["$==="](a))===f||c.$$is_boolean&&1!=c)&&e.$raise(x.get("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)"),(c=(d=a).$match,c.$$p=h.$to_proc(),c).call(d,e,b)}),a.defn(v,"$next",function(){var a=this,b=a.length;if(0===b)return"";for(var c,d=a,e=a.search(/[a-zA-Z0-9]/),f=!1;b--;){if(c=a.charCodeAt(b),c>=48&&57>=c||c>=65&&90>=c||c>=97&&122>=c)switch(c){case 57:f=!0,c=48;break;case 90:f=!0,c=65;break;case 122:f=!0,c=97;break;default:f=!1,c+=1}else-1===e?255===c?(f=!0,c=0):(f=!1,c+=1):f=!0;if(d=d.slice(0,b)+String.fromCharCode(c)+d.slice(b+1),f&&(0===b||b===e)){switch(c){case 65:break;case 97:break;default:c+=1}d=0===b?String.fromCharCode(c)+d:d.slice(0,b)+String.fromCharCode(c)+d.slice(b),f=!1}if(!f)break}return d}),a.defn(v,"$oct",function(){var a,b=this,c=b,d=8;return/^\s*_/.test(c)?0:(c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,c,e){switch(e.charAt(0)){case"+":case"-":return a;case"0":if("x"===e.charAt(1)&&"0x"===c)return a}switch(c){case"0b":d=2;break;case"0":case"0o":d=8;break;case"0d":d=10;break;case"0x":d=16}return b+e}),a=parseInt(c.replace(/_(?!_)/g,""),d),isNaN(a)?0:a)}),a.defn(v,"$ord",function(){var a=this;return a.charCodeAt(0)}),a.defn(v,"$partition",function(a){var b,c,d=this;return a.$$is_regexp?(c=a.exec(d),null===c?b=-1:(x.get("MatchData").$new(a,c),a=c[0],b=c.index)):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b=d.indexOf(a)),-1===b?[d,"",""]:[d.slice(0,b),d.slice(b,b+a.length),d.slice(b+a.length)]}),a.defn(v,"$reverse",function(){var a=this;return a.split("").reverse().join("")}),a.defn(v,"$rindex",function(a,b){var c,d,e,g,h=this;if(void 0===b)b=h.length;else if(b=x.get("Opal").$coerce_to(b,x.get("Integer"),"to_int"),0>b&&(b+=h.length,0>b))return f;if(a.$$is_regexp){for(d=null,e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(g=e.exec(h),null===g||g.index>b)break;d=g,e.lastIndex=d.index+1}null===d?(j["~"]=f,c=-1):(x.get("MatchData").$new(e,d),c=d.index)}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),c=h.lastIndexOf(a,b);return-1===c?f:c}),a.defn(v,"$rjust",function(a,b){var c,d=this;if(null==b&&(b=" "),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int"),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),(c=b["$empty?"]())===f||c.$$is_boolean&&1!=c||d.$raise(x.get("ArgumentError"),"zero width padding"),(c=a<=d.length)!==f&&(!c.$$is_boolean||1==c))return d;var e=Math.floor(a-d.length),g=Math.floor(e/b.length),h=Array(g+1).join(b),i=e-h.length;return h+b.slice(0,i)+d}),a.defn(v,"$rpartition",function(a){var b,c,d,e,f=this;if(a.$$is_regexp){for(c=null,d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){if(e=d.exec(f),null===e)break;c=e,d.lastIndex=c.index+1}null===c?b=-1:(x.get("MatchData").$new(d,c),a=c[0],b=c.index)}else a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),b=f.lastIndexOf(a);return-1===b?["","",f]:[f.slice(0,b),f.slice(b,b+a.length),f.slice(b+a.length)]}),a.defn(v,"$rstrip",function(){var a=this;return a.replace(/[\s\u0000]*$/,"")}),a.defn(v,"$scan",s=function(a){var b=this,c=s.$$p,d=c||f;s.$$p=null;var e,g=[],h=f;for(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));null!=(e=a.exec(b));)h=x.get("MatchData").$new(a,e),d===f?1==e.length?g.push(e[0]):g.push(h.$captures()):1==e.length?d(e[0]):d.call(b,h.$captures()),a.lastIndex===e.index&&(a.lastIndex+=1);return j["~"]=h,d!==f?b:g}),a.alias(v,"size","length"),a.alias(v,"slice","[]"),a.defn(v,"$split",function(a,b){var c,d=this;if(null==j[";"]&&(j[";"]=f),0===d.length)return[];if(void 0===b)b=0;else if(b=x.get("Opal")["$coerce_to!"](b,x.get("Integer"),"to_int"),1===b)return[d];(void 0===a||a===f)&&(a=(c=j[";"])!==!1&&c!==f?c:" ");var e,g,h=[],i=d.toString(),k=0;if(a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,i=i.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),h=i.split(a),1===h.length&&h[0]===i)return h;for(;-1!==(g=h.indexOf(void 0));)h.splice(g,1);if(0===b){for(;""===h[h.length-1];)h.length-=1;return h}if(e=a.exec(i),0>b){if(null!==e&&""===e[0]&&-1===a.source.indexOf("(?="))for(g=0;g<e.length;g++)h.push("");return h}if(null!==e&&""===e[0])return h.splice(b-1,h.length-1,h.slice(b-1).join("")),h;for(g=0;null!==e&&(g++,k=a.lastIndex,g+1!==b);)e=a.exec(i);return h.splice(b-1,h.length-1,i.slice(k)),h}),a.defn(v,"$squeeze",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];if(0===c.length)return a.replace(/(.)\1+/g,"$1");var e=l(c);return null===e?a:a.replace(new RegExp("("+e+")\\1+","g"),"$1")}),a.defn(v,"$start_with?",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];for(var e=0,f=c.length;f>e;e++){var g=x.get("Opal").$coerce_to(c[e],x.get("String"),"to_str").$to_s();if(0===a.indexOf(g))return!0}return!1}),a.defn(v,"$strip",function(){var a=this;return a.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")}),a.defn(v,"$sub",t=function(a,b){var c=this,d=t.$$p,e=d||f;t.$$p=null,a.$$is_regexp||(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var g=a.exec(c);return null===g?(j["~"]=f,c.toString()):(x.get("MatchData").$new(a,g),void 0===b?(e===f&&c.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 2)"),c.slice(0,g.index)+e(g[0])+c.slice(g.index+g[0].length)):b.$$is_hash?c.slice(0,g.index)+b["$[]"](g[0]).$to_s()+c.slice(g.index+g[0].length):(b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str"),b=b.replace(/([\\]+)([0-9+&`'])/g,function(a,b,d){if(b.length%2===0)return a;switch(d){case"+":for(var e=g.length-1;e>0;e--)if(void 0!==g[e])return b.slice(1)+g[e];return"";case"&":return b.slice(1)+g[0];case"`":return b.slice(1)+c.slice(0,g.index);case"'":return b.slice(1)+c.slice(g.index+g[0].length);default:return b.slice(1)+(g[d]||"")}}).replace(/\\\\/g,"\\"),c.slice(0,g.index)+b+c.slice(g.index+g[0].length)))}),a.alias(v,"succ","next"),a.defn(v,"$sum",function(a){var b=this;null==a&&(a=16),a=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int");for(var c=0,d=b.length,e=0;d>e;e++)c+=b.charCodeAt(e);return 0>=a?c:c&Math.pow(2,a)-1}),a.defn(v,"$swapcase",function(){var a=this,b=a.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return a.constructor===String?b:a.$class().$new(b)}),a.defn(v,"$to_f",function(){var a=this;if("_"===a.charAt(0))return 0;var b=parseFloat(a.replace(/_/g,""));return isNaN(b)||b==1/0||b==-(1/0)?0:b}),a.defn(v,"$to_i",function(a){var b=this;null==a&&(a=10);var c,d=b.toLowerCase(),e=x.get("Opal").$coerce_to(a,x.get("Integer"),"to_int");return(1===e||0>e||e>36)&&b.$raise(x.get("ArgumentError"),"invalid radix "+e),/^\s*_/.test(d)?0:(d=d.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,c,d){switch(d.charAt(0)){case"+":case"-":return a;case"0":if("x"===d.charAt(1)&&"0x"===c&&(0===e||16===e))return a}switch(c){case"0b":if(0===e||2===e)return e=2,b+d;break;case"0":case"0o":if(0===e||8===e)return e=8,b+d;break;case"0d":if(0===e||10===e)return e=10,b+d;break;case"0x":if(0===e||16===e)return e=16,b+d}return a}),c=parseInt(d.replace(/_(?!_)/g,""),e),isNaN(c)?0:c)}),a.defn(v,"$to_proc",function(){var b,c,d,e=this,g=f;return g=e,(b=(c=e).$proc,b.$$p=(d=function(b){var c,e,i,j=d.$$s||this,k=f;return b=h.call(arguments,0),c=d.$$p||f,d.$$p=null,(e=b["$empty?"]())===f||e.$$is_boolean&&1!=e||j.$raise(x.get("ArgumentError"),"no receiver given"),k=b.$shift(),(e=(i=k).$__send__,e.$$p=c.$to_proc(),e).apply(i,[g].concat(a.to_a(b)))},d.$$s=e,d),b).call(c)}),a.defn(v,"$to_s",function(){var a=this;return a.toString()}),a.alias(v,"to_str","to_s"),a.alias(v,"to_sym","intern"),a.defn(v,"$tr",function(a,b){var c=this;if(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s(),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),0==a.length||a===b)return c;var d,e,f,g,h,i,j,k={},l=a.split(""),m=l.length,n=b.split(""),o=n.length,p=!1,q=null;"^"===l[0]&&l.length>1&&(p=!0,l.shift(),q=n[o-1],m-=1);var r=[],s=null;for(e=!1,d=0;m>d;d++)if(g=l[d],null==s)s=g,r.push(g);else if("-"===g)"-"===s?(r.push("-"),r.push("-")):d==m-1?r.push("-"):e=!0;else if(e){for(h=s.charCodeAt(0),i=g.charCodeAt(0),h>i&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(i)+'" in string transliteration'),f=h+1;i>f;f++)r.push(String.fromCharCode(f));r.push(g),e=null,s=null}else r.push(g);if(l=r,m=l.length,p)for(d=0;m>d;d++)k[l[d]]=!0;else{if(o>0){var t=[],u=null;for(e=!1,d=0;o>d;d++)if(g=n[d],null==s)s=g,t.push(g);else if("-"===g)"-"===u?(t.push("-"),t.push("-")):d==o-1?t.push("-"):e=!0;else if(e){for(h=s.charCodeAt(0),i=g.charCodeAt(0),h>i&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(i)+'" in string transliteration'),f=h+1;i>f;f++)t.push(String.fromCharCode(f));t.push(g),e=null,s=null}else t.push(g);n=t,o=n.length}var v=m-o;if(v>0){var w=o>0?n[o-1]:"";for(d=0;v>d;d++)n.push(w)}for(d=0;m>d;d++)k[l[d]]=n[d]}var y="";for(d=0,j=c.length;j>d;d++){g=c.charAt(d);var z=k[g];y+=p?null==z?q:g:null!=z?z:g}return y}),a.defn(v,"$tr_s",function(a,b){var c=this;if(a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str").$to_s(),b=x.get("Opal").$coerce_to(b,x.get("String"),"to_str").$to_s(),0==a.length)return c;var d,e,f,g,h,i,j,k={},l=a.split(""),m=l.length,n=b.split(""),o=n.length,p=!1,q=null;"^"===l[0]&&l.length>1&&(p=!0,l.shift(),q=n[o-1],m-=1);var r=[],s=null;for(e=!1,d=0;m>d;d++)if(g=l[d],null==s)s=g,r.push(g);else if("-"===g)"-"===s?(r.push("-"),r.push("-")):d==m-1?r.push("-"):e=!0;else if(e){for(h=s.charCodeAt(0),i=g.charCodeAt(0),h>i&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(i)+'" in string transliteration'),f=h+1;i>f;f++)r.push(String.fromCharCode(f));r.push(g),e=null,s=null}else r.push(g);if(l=r,m=l.length,p)for(d=0;m>d;d++)k[l[d]]=!0;else{if(o>0){var t=[],u=null;for(e=!1,d=0;o>d;d++)if(g=n[d],null==s)s=g,t.push(g);else if("-"===g)"-"===u?(t.push("-"),t.push("-")):d==o-1?t.push("-"):e=!0;else if(e){for(h=s.charCodeAt(0),i=g.charCodeAt(0),h>i&&c.$raise(x.get("ArgumentError"),'invalid range "'+String.fromCharCode(h)+"-"+String.fromCharCode(i)+'" in string transliteration'),f=h+1;i>f;f++)t.push(String.fromCharCode(f));t.push(g),e=null,s=null}else t.push(g);n=t,o=n.length}var v=m-o;if(v>0){var w=o>0?n[o-1]:"";for(d=0;v>d;d++)n.push(w)}for(d=0;m>d;d++)k[l[d]]=n[d]}var y="",z=null;for(d=0,j=c.length;j>d;d++){g=c.charAt(d);var A=k[g];p?null==A?null==z&&(y+=q,z=!0):(y+=g,z=null):null!=A?(null==z||z!==A)&&(y+=A,z=A):(y+=g,z=null)}return y}),a.defn(v,"$upcase",function(){var a=this;return a.toUpperCase()}),a.defn(v,"$upto",u=function(a,b){var c=this,d=u.$$p,e=d||f;if(null==b&&(b=!1),u.$$p=null,e===f)return c.$enum_for("upto",a,b);a=x.get("Opal").$coerce_to(a,x.get("String"),"to_str");var g,h,i=c.toString();if(1===i.length&&1===a.length)for(g=i.charCodeAt(0),h=a.charCodeAt(0);h>=g&&(!b||g!==h);)e(String.fromCharCode(g)),g+=1;else if(parseInt(i,10).toString()===i&&parseInt(a,10).toString()===a)for(g=parseInt(i,10),h=parseInt(a,10);h>=g&&(!b||g!==h);)e(g.toString()),g+=1;else for(;i.length<=a.length&&a>=i&&(!b||i!==a);)e(i),i=i.$succ();return c})}(e.base,String),a.cdecl(e,"Symbol",e.get("String"))},Opal.modules["corelib/enumerable"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var h=(a.top,a),i=a.nil,j=a.breaker,k=a.slice,l=a.module;return a.add_stubs(["$raise","$new","$yield","$dup","$enum_for","$enumerator_size","$flatten","$map","$==","$destructure","$respond_to?","$coerce_to!","$>","$*","$nil?","$coerce_to","$try_convert","$<","$+","$-","$ceil","$/","$size","$===","$<<","$[]","$[]=","$inspect","$__send__","$compare","$<=>","$proc","$call","$to_a","$lambda","$sort!","$map!","$first","$zip"]),function(h){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V=l(h,"Enumerable"),W=(V.$$proto,V.$$scope);a.defn(V,"$all?",m=function(){var b,c=this,d=m.$$p,e=d||i;m.$$p=null;var f=!0;return e!==i?c.$each.$$p=function(){var c=a.yieldX(e,arguments);return c===j?(f=j.$v,j):(b=c)===i||b.$$is_boolean&&0==b?(f=!1,j):void 0}:c.$each.$$p=function(a){return 1==arguments.length&&((b=a)===i||b.$$is_boolean&&0==b)?(f=!1,j):void 0},c.$each(),f}),a.defn(V,"$any?",n=function(){var b,c=this,d=n.$$p,e=d||i;n.$$p=null;var f=!1;return e!==i?c.$each.$$p=function(){var c=a.yieldX(e,arguments);return c===j?(f=j.$v,j):(b=c)===i||b.$$is_boolean&&1!=b?void 0:(f=!0,j)}:c.$each.$$p=function(a){return 1==arguments.length&&((b=a)===i||b.$$is_boolean&&1!=b)?void 0:(f=!0,j)},c.$each(),f}),a.defn(V,"$chunk",o=function(b){var c,d,e,f=this,g=o.$$p,h=g||i;return o.$$p=null,h!==!1&&h!==i||W.get("Kernel").$raise(W.get("ArgumentError"),"no block given"),(c=(d=a.get("Enumerator")).$new,c.$$p=(e=function(c){function d(){o.length>0&&c.$yield(n,o)}var f,g,k,l=e.$$s||this;null==c&&(c=i);var m,n=i,o=[];m=void 0==b||b===i?h:(f=(g=W.get("Proc")).$new,f.$$p=(k=function(a){k.$$s||this;return null==a&&(a=i),h.$yield(a,b.$dup())},k.$$s=l,k),f).call(g),l.$each.$$p=function(b){var c=a.yield1(m,b);return c===j?j:void(c===i?(d(),o=[],n=i):(n===i||n===c?o.push(b):(d(),o=[b]),n=c))},l.$each(),d()},e.$$s=f,e),c).call(d)}),a.defn(V,"$collect",p=function(){var b,c,d,e=this,f=p.$$p,g=f||i;if(p.$$p=null,g===i)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).call(c,"collect");var h=[];return e.$each.$$p=function(){var b=a.yieldX(g,arguments);return b===j?(h=j.$v,j):void h.push(b)},e.$each(),h}),a.defn(V,"$collect_concat",q=function(){var b,c,d,e,f,g=this,h=q.$$p,k=h||i;return q.$$p=null,k===i?(b=(c=g).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=g,d),b).call(c,"collect_concat"):(b=(e=g).$map,b.$$p=(f=function(b){var c;f.$$s||this;return null==b&&(b=i),c=a.yield1(k,b),c===j?c:c},f.$$s=g,f),b).call(e).$flatten(1)}),a.defn(V,"$count",r=function(b){var c,d=this,e=r.$$p,f=e||i;r.$$p=null;var g=0;return null!=b?f=function(){return W.get("Opal").$destructure(arguments)["$=="](b)}:f===i&&(f=function(){return!0}),d.$each.$$p=function(){var b=a.yieldX(f,arguments);return b===j?(g=j.$v,j):void((c=b)===i||c.$$is_boolean&&1!=c||g++)},d.$each(),g}),a.defn(V,"$cycle",s=function(d){var e,f,g,h=this,k=s.$$p,l=k||i;if(null==d&&(d=i),s.$$p=null,l===i)return(e=(f=h).$enum_for,e.$$p=(g=function(){var a,e=g.$$s||this;return d["$=="](i)?(a=e["$respond_to?"]("size"))===i||a.$$is_boolean&&1!=a?i:W.get("Float").$$scope.get("INFINITY"):(d=W.get("Opal")["$coerce_to!"](d,W.get("Integer"),"to_int"),b(d,0)?c(e.$enumerator_size(),d):0)},g.$$s=h,g),e).call(f,"cycle",d);if((e=d["$nil?"]())===i||e.$$is_boolean&&1!=e){if(d=W.get("Opal")["$coerce_to!"](d,W.get("Integer"),"to_int"),(e=0>=d)!==i&&(!e.$$is_boolean||1==e))return i}else;var m,n,o,p,q=[];if(h.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments),c=a.yield1(l,b);return c===j?(m=j.$v,j):void q.push(b)},h.$each(),void 0!==m)return m;if(0===q.length)return i;if(d===i){for(;;)for(n=0,o=q.length;o>n;n++)if(p=a.yield1(l,q[n]),p===j)return j.$v}else for(;d>1;){for(n=0,o=q.length;o>n;n++)if(p=a.yield1(l,q[n]),p===j)return j.$v;d--}}),a.defn(V,"$detect",t=function(b){var c,d=this,e=t.$$p,f=e||i;if(t.$$p=null,f===i)return d.$enum_for("detect",b);var g;return d.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments),d=a.yield1(f,b);return d===j?(g=j.$v,j):(c=d)===i||c.$$is_boolean&&1!=c?void 0:(g=b,j)},d.$each(),void 0===g&&void 0!==b&&(g="function"==typeof b?b():b),void 0===g?i:g}),a.defn(V,"$drop",function(a){var b,c=this;a=W.get("Opal").$coerce_to(a,W.get("Integer"),"to_int"),(b=0>a)===i||b.$$is_boolean&&1!=b||c.$raise(W.get("ArgumentError"),"attempt to drop negative size");var d=[],e=0;return c.$each.$$p=function(){e>=a&&d.push(W.get("Opal").$destructure(arguments)),e++},c.$each(),d}),a.defn(V,"$drop_while",u=function(){var b,c=this,d=u.$$p,e=d||i;if(u.$$p=null,e===i)return c.$enum_for("drop_while");var f=[],g=!0;return c.$each.$$p=function(){var c=W.get("Opal").$destructure(arguments);if(g){var d=a.yield1(e,c);if(d===j)return f=j.$v,j;((b=d)===i||b.$$is_boolean&&0==b)&&(g=!1,f.push(c))}else f.push(c)},c.$each(),f}),a.defn(V,"$each_cons",v=function(b){var c,g,h,k=this,l=v.$$p,m=l||i;if(v.$$p=null,(c=1!=arguments.length)===i||c.$$is_boolean&&1!=c||k.$raise(W.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),b=W.get("Opal").$try_convert(b,W.get("Integer"),"to_int"),(c=0>=b)===i||c.$$is_boolean&&1!=c||k.$raise(W.get("ArgumentError"),"invalid size"),m===i)return(c=(g=k).$enum_for,c.$$p=(h=function(){var a,c,g=h.$$s||this,j=i;return j=g.$enumerator_size(),(a=j["$nil?"]())===i||a.$$is_boolean&&1!=a?(a=(c=j["$=="](0))!==!1&&c!==i?c:d(j,b))===i||a.$$is_boolean&&1!=a?e(f(j,b),1):0:i},h.$$s=k,h),c).call(g,"each_cons",b);var n=[],o=i;return k.$each.$$p=function(){var c=W.get("Opal").$destructure(arguments);if(n.push(c),n.length>b&&n.shift(),n.length==b){var d=a.yield1(m,n.slice(0,b));if(d==j)return o=j.$v,j}},k.$each(),o}),a.defn(V,"$each_entry",w=function(){var a=this;w.$$p;return w.$$p=null,a.$raise(W.get("NotImplementedError"))}),a.defn(V,"$each_slice",x=function(b){var c,d,e,f=this,h=x.$$p,k=h||i;if(x.$$p=null,b=W.get("Opal").$coerce_to(b,W.get("Integer"),"to_int"),(c=0>=b)===i||c.$$is_boolean&&1!=c||f.$raise(W.get("ArgumentError"),"invalid slice size"),k===i)return(c=(d=f).$enum_for,c.$$p=(e=function(){var a,c=e.$$s||this;return(a=c["$respond_to?"]("size"))===i||a.$$is_boolean&&1!=a?i:g(c.$size(),b).$ceil()},e.$$s=f,e),c).call(d,"each_slice",b);var l,m=[];return f.$each.$$p=function(){var c=W.get("Opal").$destructure(arguments);if(m.push(c),m.length===b){if(a.yield1(k,m)===j)return l=j.$v,j;m=[]}},f.$each(),void 0!==l?l:m.length>0&&a.yield1(k,m)===j?j.$v:i}),a.defn(V,"$each_with_index",y=function(){var b,c,d,e=this,f=y.$$p,g=f||i,h=arguments.length-0;0>h&&(h=0);for(var k=new Array(h),l=0;h>l;l++)k[l]=arguments[l+0];if(y.$$p=null,g===i)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).apply(c,["each_with_index"].concat(a.to_a(k)));var m,n=0;return e.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments),b=g(a,n);return b===j?(m=j.$v,j):void n++},e.$each.apply(e,k),void 0!==m?m:e}),a.defn(V,"$each_with_object",z=function(a){var b,c,d,e=this,f=z.$$p,g=f||i;if(z.$$p=null,g===i)return(b=(c=e).$enum_for,
b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).call(c,"each_with_object",a);var h;return e.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments),c=g(b,a);return c===j?(h=j.$v,j):void 0},e.$each(),void 0!==h?h:a}),a.defn(V,"$entries",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];var e=[];return a.$each.$$p=function(){e.push(W.get("Opal").$destructure(arguments))},a.$each.apply(a,c),e}),a.alias(V,"find","detect"),a.defn(V,"$find_all",A=function(){var b,c,d,e=this,f=A.$$p,g=f||i;if(A.$$p=null,g===i)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).call(c,"find_all");var h=[];return e.$each.$$p=function(){var c=W.get("Opal").$destructure(arguments),d=a.yield1(g,c);return d===j?(h=j.$v,j):void((b=d)===i||b.$$is_boolean&&1!=b||h.push(c))},e.$each(),h}),a.defn(V,"$find_index",B=function(b){var c,d=this,e=B.$$p,f=e||i;if(B.$$p=null,(c=void 0===b&&f===i)!==i&&(!c.$$is_boolean||1==c))return d.$enum_for("find_index");var g=i,h=0;return null!=b?d.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments);return a["$=="](b)?(g=h,j):void(h+=1)}:f!==i&&(d.$each.$$p=function(){var b=a.yieldX(f,arguments);return b===j?(g=j.$v,j):(c=b)===i||c.$$is_boolean&&1!=c?void(h+=1):(g=h,j)}),d.$each(),g}),a.defn(V,"$first",function(a){var b,c=this,d=i;if((b=void 0===a)===i||b.$$is_boolean&&1!=b){if(d=[],a=W.get("Opal").$coerce_to(a,W.get("Integer"),"to_int"),(b=0>a)===i||b.$$is_boolean&&1!=b||c.$raise(W.get("ArgumentError"),"attempt to take negative size"),(b=0==a)!==i&&(!b.$$is_boolean||1==b))return[];var e=0;a=W.get("Opal").$coerce_to(a,W.get("Integer"),"to_int"),c.$each.$$p=function(){return d.push(W.get("Opal").$destructure(arguments)),a<=++e?j:void 0},c.$each()}else d=i,c.$each.$$p=function(){return d=W.get("Opal").$destructure(arguments),j},c.$each();return d}),a.alias(V,"flat_map","collect_concat"),a.defn(V,"$grep",C=function(b){var c,d=this,e=C.$$p,f=e||i;C.$$p=null;var g=[];return f!==i?d.$each.$$p=function(){var d=W.get("Opal").$destructure(arguments),e=b["$==="](d);if((c=e)!==i&&(!c.$$is_boolean||1==c)){if(e=a.yield1(f,d),e===j)return g=j.$v,j;g.push(e)}}:d.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments),d=b["$==="](a);(c=d)===i||c.$$is_boolean&&1!=c||g.push(a)},d.$each(),g}),a.defn(V,"$group_by",D=function(){var b,c,d,e,f,g=this,h=D.$$p,k=h||i,l=i;if(D.$$p=null,k===i)return(b=(c=g).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=g,d),b).call(c,"group_by");l=W.get("Hash").$new();var m;return g.$each.$$p=function(){var c=W.get("Opal").$destructure(arguments),d=a.yield1(k,c);return d===j?(m=j.$v,j):void(b=d,e=l,(f=e["$[]"](b))!==!1&&f!==i?f:e["$[]="](b,[]))["$<<"](c)},g.$each(),void 0!==m?m:l}),a.defn(V,"$include?",function(a){var b=this,c=!1;return b.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments);return b["$=="](a)?(c=!0,j):void 0},b.$each(),c}),a.defn(V,"$inject",E=function(b,c){var d=this,e=E.$$p,f=e||i;E.$$p=null;var g=b;return f!==i&&void 0===c?d.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments);return void 0===g?void(g=b):(b=a.yieldX(f,[g,b]),b===j?(g=j.$v,j):void(g=b))}:(void 0===c&&(W.get("Symbol")["$==="](b)||d.$raise(W.get("TypeError"),""+b.$inspect()+" is not a Symbol"),c=b,g=void 0),d.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments);return void 0===g?void(g=a):void(g=g.$__send__(c,a))}),d.$each(),void 0==g?i:g}),a.defn(V,"$lazy",function(){var b,c,d,e=this;return(b=(c=W.get("Enumerator").$$scope.get("Lazy")).$new,b.$$p=(d=function(b,c){var e;d.$$s||this;return null==b&&(b=i),c=k.call(arguments,1),(e=b).$yield.apply(e,a.to_a(c))},d.$$s=e,d),b).call(c,e,e.$enumerator_size())}),a.defn(V,"$enumerator_size",function(){var a,b=this;return(a=b["$respond_to?"]("size"))===i||a.$$is_boolean&&1!=a?i:b.$size()}),a.alias(V,"map","collect"),a.defn(V,"$max",F=function(){var a=this,b=F.$$p,c=b||i;F.$$p=null;var d;return c!==i?a.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments);if(void 0===d)return void(d=b);var e=c(b,d);return e===j?(d=j.$v,j):(e===i&&a.$raise(W.get("ArgumentError"),"comparison failed"),void(e>0&&(d=b)))}:a.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments);return void 0===d?void(d=a):void(W.get("Opal").$compare(a,d)>0&&(d=a))},a.$each(),void 0===d?i:d}),a.defn(V,"$max_by",G=function(){var b,c,d,e=this,f=G.$$p,g=f||i;if(G.$$p=null,g===!1||g===i)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).call(c,"max_by");var h,k;return e.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments),c=a.yield1(g,b);return void 0===h?(h=b,void(k=c)):c===j?(h=j.$v,j):void(c["$<=>"](k)>0&&(h=b,k=c))},e.$each(),void 0===h?i:h}),a.alias(V,"member?","include?"),a.defn(V,"$min",H=function(){var a=this,b=H.$$p,c=b||i;H.$$p=null;var d;return c!==i?a.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments);if(void 0===d)return void(d=b);var e=c(b,d);return e===j?(d=j.$v,j):(e===i&&a.$raise(W.get("ArgumentError"),"comparison failed"),void(0>e&&(d=b)))}:a.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments);return void 0===d?void(d=a):void(W.get("Opal").$compare(a,d)<0&&(d=a))},a.$each(),void 0===d?i:d}),a.defn(V,"$min_by",I=function(){var b,c,d,e=this,f=I.$$p,g=f||i;if(I.$$p=null,g===!1||g===i)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).call(c,"min_by");var h,k;return e.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments),c=a.yield1(g,b);return void 0===h?(h=b,void(k=c)):c===j?(h=j.$v,j):void(c["$<=>"](k)<0&&(h=b,k=c))},e.$each(),void 0===h?i:h}),a.defn(V,"$minmax",J=function(){var a,b,c,d,e=this,f=J.$$p,g=f||i;J.$$p=null,(a=g)!==!1&&a!==i?a:g=(b=(c=e).$proc,b.$$p=(d=function(a,b){d.$$s||this;return null==a&&(a=i),null==b&&(b=i),a["$<=>"](b)},d.$$s=e,d),b).call(c);var h=i,j=i,k=!0;return e.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments);if(k)h=j=a,k=!1;else{var b=g.$call(h,a);b===i?e.$raise(W.get("ArgumentError"),"comparison failed"):b>0&&(h=a);var c=g.$call(j,a);c===i?e.$raise(W.get("ArgumentError"),"comparison failed"):0>c&&(j=a)}},e.$each(),[h,j]}),a.defn(V,"$minmax_by",K=function(){var a=this;K.$$p;return K.$$p=null,a.$raise(W.get("NotImplementedError"))}),a.defn(V,"$none?",L=function(){var b,c=this,d=L.$$p,e=d||i;L.$$p=null;var f=!0;return e!==i?c.$each.$$p=function(){var c=a.yieldX(e,arguments);return c===j?(f=j.$v,j):(b=c)===i||b.$$is_boolean&&1!=b?void 0:(f=!1,j)}:c.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments);return(b=a)===i||b.$$is_boolean&&1!=b?void 0:(f=!1,j)},c.$each(),f}),a.defn(V,"$one?",M=function(){var b,c=this,d=M.$$p,e=d||i;M.$$p=null;var f=!1;return e!==i?c.$each.$$p=function(){var c=a.yieldX(e,arguments);if(c===j)return f=j.$v,j;if((b=c)!==i&&(!b.$$is_boolean||1==b)){if(f===!0)return f=!1,j;f=!0}}:c.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments);if((b=a)!==i&&(!b.$$is_boolean||1==b)){if(f===!0)return f=!1,j;f=!0}},c.$each(),f}),a.defn(V,"$partition",N=function(){var b,c,d,e=this,f=N.$$p,g=f||i;if(N.$$p=null,g===i)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).call(c,"partition");var h,k=[],l=[];return e.$each.$$p=function(){var c=W.get("Opal").$destructure(arguments),d=a.yield1(g,c);return d===j?(h=j.$v,j):void((b=d)===i||b.$$is_boolean&&1!=b?l.push(c):k.push(c))},e.$each(),[k,l]}),a.alias(V,"reduce","inject"),a.defn(V,"$reject",O=function(){var b,c,d,e=this,f=O.$$p,g=f||i;if(O.$$p=null,g===i)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).call(c,"reject");var h=[];return e.$each.$$p=function(){var c=W.get("Opal").$destructure(arguments),d=a.yield1(g,c);return d===j?(h=j.$v,j):void(((b=d)===i||b.$$is_boolean&&0==b)&&h.push(c))},e.$each(),h}),a.defn(V,"$reverse_each",P=function(){var b,c,d,e=this,f=P.$$p,g=f||i;if(P.$$p=null,g===i)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$enumerator_size()},d.$$s=e,d),b).call(c,"reverse_each");var h=[];e.$each.$$p=function(){h.push(arguments)},e.$each();for(var j=h.length-1;j>=0;j--)a.yieldX(g,h[j]);return h}),a.alias(V,"select","find_all"),a.defn(V,"$slice_before",Q=function(b){var c,d,e,f=this,g=Q.$$p,h=g||i;return Q.$$p=null,(c=void 0===b&&h===i||arguments.length>1)===i||c.$$is_boolean&&1!=c||f.$raise(W.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),(c=(d=W.get("Enumerator")).$new,c.$$p=(e=function(c){var d,f=e.$$s||this;null==c&&(c=i);var g=[];h!==i?void 0===b?f.$each.$$p=function(){var b=W.get("Opal").$destructure(arguments),e=a.yield1(h,b);(d=e)!==i&&(!d.$$is_boolean||1==d)&&g.length>0&&(c["$<<"](g),g=[]),g.push(b)}:f.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments),e=h(a,b.$dup());(d=e)!==i&&(!d.$$is_boolean||1==d)&&g.length>0&&(c["$<<"](g),g=[]),g.push(a)}:f.$each.$$p=function(){var a=W.get("Opal").$destructure(arguments),e=b["$==="](a);(d=e)!==i&&(!d.$$is_boolean||1==d)&&g.length>0&&(c["$<<"](g),g=[]),g.push(a)},f.$each(),g.length>0&&c["$<<"](g)},e.$$s=f,e),c).call(d)}),a.defn(V,"$sort",R=function(){var a,b,c,d=this,e=R.$$p,f=e||i,g=i;return R.$$p=null,g=d.$to_a(),f!==i||(f=(a=(b=d).$lambda,a.$$p=(c=function(a,b){c.$$s||this;return null==a&&(a=i),null==b&&(b=i),a["$<=>"](b)},c.$$s=d,c),a).call(b)),g.sort(f)}),a.defn(V,"$sort_by",S=function(){var a,b,c,d,e,f,g,h,j,k=this,l=S.$$p,m=l||i,n=i;return S.$$p=null,m===i?(a=(b=k).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$enumerator_size()},c.$$s=k,c),a).call(b,"sort_by"):(n=(a=(d=k).$map,a.$$p=(e=function(){var a=(e.$$s||this,i);return a=W.get("Opal").$destructure(arguments),[m.$call(a),a]},e.$$s=k,e),a).call(d),(a=(f=n)["$sort!"],a.$$p=(g=function(a,b){g.$$s||this;return null==a&&(a=i),null==b&&(b=i),a[0]["$<=>"](b[0])},g.$$s=k,g),a).call(f),(a=(h=n)["$map!"],a.$$p=(j=function(a){j.$$s||this;return null==a&&(a=i),a[1]},j.$$s=k,j),a).call(h))}),a.defn(V,"$take",function(a){var b=this;return b.$first(a)}),a.defn(V,"$take_while",T=function(){var b,c=this,d=T.$$p,e=d||i;if(T.$$p=null,e===!1||e===i)return c.$enum_for("take_while");var f=[];return c.$each.$$p=function(){var c=W.get("Opal").$destructure(arguments),d=a.yield1(e,c);return d===j?(f=j.$v,j):(b=d)===i||b.$$is_boolean&&0==b?j:void f.push(c)},c.$each(),f}),a.alias(V,"to_a","entries"),a.defn(V,"$zip",U=function(){var b,c=this,d=(U.$$p,arguments.length-0);0>d&&(d=0);for(var e=new Array(d),f=0;d>f;f++)e[f]=arguments[f+0];return U.$$p=null,(b=c.$to_a()).$zip.apply(b,a.to_a(e))})}(h.base)},Opal.modules["corelib/enumerator"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="warning";var d=a.top,e=a,f=a.nil,g=a.breaker,h=a.slice,i=a.klass;return a.add_stubs(["$require","$include","$allocate","$new","$to_proc","$coerce_to","$nil?","$empty?","$+","$class","$__send__","$===","$call","$enum_for","$size","$destructure","$inspect","$[]","$raise","$yield","$each","$enumerator_size","$respond_to?","$try_convert","$<","$for"]),d.$require("corelib/enumerable"),function(d,e){function j(){}var k,l,m,n,o=j=i(d,e,"Enumerator",j),p=o.$$proto,q=o.$$scope;return p.size=p.args=p.object=p.method=f,o.$include(q.get("Enumerable")),a.defs(o,"$for",k=function(a,b){var c=this,d=k.$$p,e=d||f,g=arguments.length-2;0>g&&(g=0);for(var h=new Array(g),i=0;g>i;i++)h[i]=arguments[i+2];null==b&&(b="each"),k.$$p=null;var j=c.$allocate();return j.object=a,j.size=e,j.method=b,j.args=h,j}),a.defn(o,"$initialize",l=function(){var a,b,c=this,d=l.$$p,e=d||f;return l.$$p=null,e!==!1&&e!==f?(c.object=(a=(b=q.get("Generator")).$new,a.$$p=e.$to_proc(),a).call(b),c.method="each",c.args=[],c.size=arguments[0]||f,(a=c.size)===f||a.$$is_boolean&&1!=a?f:c.size=q.get("Opal").$coerce_to(c.size,q.get("Integer"),"to_int")):(c.object=arguments[0],c.method=arguments[1]||"each",c.args=h.call(arguments,2),c.size=f)}),a.defn(o,"$each",m=function(){var c,d,e,g=this,h=m.$$p,i=h||f,j=arguments.length-0;0>j&&(j=0);for(var k=new Array(j),l=0;j>l;l++)k[l]=arguments[l+0];return m.$$p=null,d=i["$nil?"](),(c=d!==!1&&d!==f?k["$empty?"]():d)===f||c.$$is_boolean&&1!=c?(k=b(g.args,k),(c=i["$nil?"]())===f||c.$$is_boolean&&1!=c?(d=(e=g.object).$__send__,d.$$p=i.$to_proc(),d).apply(e,[g.method].concat(a.to_a(k))):(c=g.$class()).$new.apply(c,[g.object,g.method].concat(a.to_a(k)))):g}),a.defn(o,"$size",function(){var b,c=this;return(b=q.get("Proc")["$==="](c.size))===f||b.$$is_boolean&&1!=b?c.size:(b=c.size).$call.apply(b,a.to_a(c.args))}),a.defn(o,"$with_index",n=function(a){var b,c,d,e=this,h=n.$$p,i=h||f;if(null==a&&(a=0),n.$$p=null,a=a!==!1&&a!==f?q.get("Opal").$coerce_to(a,q.get("Integer"),"to_int"):0,i===!1||i===f)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=e,d),b).call(c,"with_index",a);var j,k=a;return e.$each.$$p=function(){var a=q.get("Opal").$destructure(arguments),b=i(a,k);return b===g?(j=g.$v,g):(k++,b)},e.$each(),void 0!==j?j:e.object}),a.alias(o,"with_object","each_with_object"),a.defn(o,"$inspect",function(){var a,c=this,d=f;return d="#<"+c.$class()+": "+c.object.$inspect()+":"+c.method,((a=c.args["$empty?"]())===f||a.$$is_boolean&&1!=a)&&(d=b(d,"("+c.args.$inspect()["$[]"](q.get("Range").$new(1,-2))+")")),b(d,">")}),function(b,c){function d(){}var e,h,j=d=i(b,c,"Generator",d),k=j.$$proto,l=j.$$scope;return k.block=f,j.$include(l.get("Enumerable")),a.defn(j,"$initialize",e=function(){var a=this,b=e.$$p,c=b||f;return e.$$p=null,c!==!1&&c!==f||a.$raise(l.get("LocalJumpError"),"no block given"),a.block=c}),a.defn(j,"$each",h=function(){var b,c,d=this,e=h.$$p,i=e||f,j=f,k=arguments.length-0;0>k&&(k=0);for(var m=new Array(k),n=0;k>n;n++)m[n]=arguments[n+0];h.$$p=null,j=(b=(c=l.get("Yielder")).$new,b.$$p=i.$to_proc(),b).call(c);try{if(m.unshift(j),a.yieldX(d.block,m)===g)return g.$v}catch(o){if(o===g)return g.$v;throw o}return d}),f&&"each"}(q.base,null),function(b,c){function d(){}var e,h=d=i(b,c,"Yielder",d),j=h.$$proto;h.$$scope;return j.block=f,a.defn(h,"$initialize",e=function(){var a=this,b=e.$$p,c=b||f;return e.$$p=null,a.block=c}),a.defn(h,"$yield",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+0];var f=a.yieldX(b.block,d);if(f===g)throw g;return f}),a.defn(h,"$<<",function(){var b,c=this,d=arguments.length-0;0>d&&(d=0);for(var e=new Array(d),f=0;d>f;f++)e[f]=arguments[f+0];return(b=c).$yield.apply(b,a.to_a(e)),c}),f&&"<<"}(q.base,null),function(d,e){function j(){}var k,l,m,n,o,p,q,r,s,t=j=i(d,e,"Lazy",j),u=t.$$proto,v=t.$$scope;return u.enumerator=f,function(a,b){function c(){}var d=c=i(a,b,"StopLazyError",c);d.$$proto,d.$$scope;return f}(v.base,v.get("Exception")),a.defn(t,"$initialize",k=function(b,c){var d,e=this,i=k.$$p,j=i||f;return null==c&&(c=f),k.$$p=null,j!==f||e.$raise(v.get("ArgumentError"),"tried to call lazy new without a block"),e.enumerator=b,a.find_super_dispatcher(e,"initialize",k,(d=function(c,e){var i,k,l,m=d.$$s||this;null==c&&(c=f),e=h.call(arguments,1);try{return(i=(k=b).$each,i.$$p=(l=function(b){l.$$s||this;return b=h.call(arguments,0),b.unshift(c),a.yieldX(j,b)===g?g:void 0},l.$$s=m,l),i).apply(k,a.to_a(e))}catch(n){if(!a.rescue(n,[v.get("Exception")]))throw n;try{return f}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}},d.$$s=e,d)).apply(e,[c])}),a.alias(t,"force","to_a"),a.defn(t,"$lazy",function(){var a=this;return a}),a.defn(t,"$collect",l=function(){var b,c,d,e=this,i=l.$$p,j=i||f;return l.$$p=null,j!==!1&&j!==f||e.$raise(v.get("ArgumentError"),"tried to call lazy map without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){d.$$s||this;null==b&&(b=f),c=h.call(arguments,1);var e=a.yieldX(j,c);return e===g?g:void b.$yield(e)},d.$$s=e,d),b).call(c,e,e.$enumerator_size())}),a.defn(t,"$collect_concat",m=function(){var b,c,d,e=this,i=m.$$p,j=i||f;return m.$$p=null,j!==!1&&j!==f||e.$raise(v.get("ArgumentError"),"tried to call lazy map without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var e,i,k,l,m,n=d.$$s||this;null==b&&(b=f),c=h.call(arguments,1);var o=a.yieldX(j,c);if(o===g)return g;if(o["$respond_to?"]("force")&&o["$respond_to?"]("each"))(e=(i=o).$each,e.$$p=(k=function(a){k.$$s||this;return null==a&&(a=f),b.$yield(a)},k.$$s=n,k),e).call(i);else{var p=v.get("Opal").$try_convert(o,v.get("Array"),"to_ary");p===f?b.$yield(o):(e=(l=o).$each,e.$$p=(m=function(a){m.$$s||this;return null==a&&(a=f),b.$yield(a)},m.$$s=n,m),e).call(l)}},d.$$s=e,d),b).call(c,e,f)}),a.defn(t,"$drop",function(d){var e,g,i,j=this,k=f,l=f,m=f;return d=v.get("Opal").$coerce_to(d,v.get("Integer"),"to_int"),c(d,0)&&j.$raise(v.get("ArgumentError"),"attempt to drop negative size"),k=j.$enumerator_size(),l=function(){return(e=v.get("Integer")["$==="](k))===f||e.$$is_boolean&&1!=e?k:c(d,k)?d:k}(),m=0,(e=(g=v.get("Lazy")).$new,e.$$p=(i=function(e,g){var j;i.$$s||this;return null==e&&(e=f),g=h.call(arguments,1),c(m,d)?m=b(m,1):(j=e).$yield.apply(j,a.to_a(g))},i.$$s=j,i),e).call(g,j,l)}),a.defn(t,"$drop_while",n=function(){var b,c,d,e=this,i=n.$$p,j=i||f,k=f;return n.$$p=null,j!==!1&&j!==f||e.$raise(v.get("ArgumentError"),"tried to call lazy drop_while without a block"),k=!0,(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var e,i;d.$$s||this;if(null==b&&(b=f),c=h.call(arguments,1),k===!1||k===f)return(i=b).$yield.apply(i,a.to_a(c));var l=a.yieldX(j,c);return l===g?g:void(((e=l)===f||e.$$is_boolean&&0==e)&&(k=!1,(e=b).$yield.apply(e,a.to_a(c))))},d.$$s=e,d),b).call(c,e,f)}),a.defn(t,"$enum_for",o=function(b){var c,d,e=this,g=o.$$p,h=g||f,i=arguments.length-1;0>i&&(i=0);for(var j=new Array(i),k=0;i>k;k++)j[k]=arguments[k+1];return null==b&&(b="each"),o.$$p=null,(c=(d=e.$class()).$for,c.$$p=h.$to_proc(),c).apply(d,[e,b].concat(a.to_a(j)))}),a.defn(t,"$find_all",p=function(){var b,c,d,e=this,i=p.$$p,j=i||f;return p.$$p=null,j!==!1&&j!==f||e.$raise(v.get("ArgumentError"),"tried to call lazy select without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var e;d.$$s||this;null==b&&(b=f),c=h.call(arguments,1);var i=a.yieldX(j,c);return i===g?g:void((e=i)===f||e.$$is_boolean&&1!=e||(e=b).$yield.apply(e,a.to_a(c)))},d.$$s=e,d),b).call(c,e,f)}),a.alias(t,"flat_map","collect_concat"),a.defn(t,"$grep",q=function(b){var c,d,e,i,j,k=this,l=q.$$p,m=l||f;return q.$$p=null,m!==!1&&m!==f?(c=(d=v.get("Lazy")).$new,c.$$p=(e=function(c,d){var i;e.$$s||this;null==c&&(c=f),d=h.call(arguments,1);var j=v.get("Opal").$destructure(d),k=b["$==="](j);if((i=k)!==f&&(!i.$$is_boolean||1==i)){if(k=a.yield1(m,j),k===g)return g;c.$yield(a.yield1(m,j))}},e.$$s=k,e),c).call(d,k,f):(c=(i=v.get("Lazy")).$new,c.$$p=(j=function(a,c){var d;j.$$s||this;null==a&&(a=f),c=h.call(arguments,1);var e=v.get("Opal").$destructure(c),g=b["$==="](e);(d=g)===f||d.$$is_boolean&&1!=d||a.$yield(e)},j.$$s=k,j),c).call(i,k,f)}),a.alias(t,"map","collect"),a.alias(t,"select","find_all"),a.defn(t,"$reject",r=function(){var b,c,d,e=this,i=r.$$p,j=i||f;return r.$$p=null,j!==!1&&j!==f||e.$raise(v.get("ArgumentError"),"tried to call lazy reject without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var e;d.$$s||this;null==b&&(b=f),c=h.call(arguments,1);var i=a.yieldX(j,c);return i===g?g:void(((e=i)===f||e.$$is_boolean&&0==e)&&(e=b).$yield.apply(e,a.to_a(c)))},d.$$s=e,d),b).call(c,e,f)}),a.defn(t,"$take",function(d){var e,g,i,j=this,k=f,l=f,m=f;return d=v.get("Opal").$coerce_to(d,v.get("Integer"),"to_int"),c(d,0)&&j.$raise(v.get("ArgumentError"),"attempt to take negative size"),k=j.$enumerator_size(),l=function(){return(e=v.get("Integer")["$==="](k))===f||e.$$is_boolean&&1!=e?k:c(d,k)?d:k}(),m=0,(e=(g=v.get("Lazy")).$new,e.$$p=(i=function(e,g){var j,k=i.$$s||this;return null==e&&(e=f),g=h.call(arguments,1),c(m,d)?((j=e).$yield.apply(j,a.to_a(g)),m=b(m,1)):k.$raise(v.get("StopLazyError"))},i.$$s=j,i),e).call(g,j,l)}),a.defn(t,"$take_while",s=function(){var b,c,d,e=this,i=s.$$p,j=i||f;return s.$$p=null,j!==!1&&j!==f||e.$raise(v.get("ArgumentError"),"tried to call lazy take_while without a block"),(b=(c=v.get("Lazy")).$new,b.$$p=(d=function(b,c){var e,i=d.$$s||this;null==b&&(b=f),c=h.call(arguments,1);var k=a.yieldX(j,c);return k===g?g:void((e=k)===f||e.$$is_boolean&&1!=e?i.$raise(v.get("StopLazyError")):(e=b).$yield.apply(e,a.to_a(c)))},d.$$s=e,d),b).call(c,e,f)}),a.alias(t,"to_enum","enum_for"),a.defn(t,"$inspect",function(){var a=this;return"#<"+a.$class()+": "+a.enumerator.$inspect()+">"}),f&&"inspect"}(q.base,o)}(e.base,null)},Opal.modules["corelib/numeric"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="warning";var g=a.top,h=a,i=a.nil,j=(a.breaker,a.slice,a.klass);return a.add_stubs(["$require","$include","$instance_of?","$class","$Float","$coerce","$===","$raise","$__send__","$equal?","$coerce_to!","$-@","$**","$-","$*","$div","$<","$ceil","$to_f","$denominator","$to_r","$==","$floor","$/","$%","$Complex","$zero?","$numerator","$abs","$arg","$round","$to_i","$truncate","$>"]),g.$require("corelib/comparable"),function(g,h){function k(){}var l=k=j(g,h,"Numeric",k),m=(l.$$proto,l.$$scope);return l.$include(m.get("Comparable")),a.defn(l,"$coerce",function(a){var b,c=this;return(b=a["$instance_of?"](c.$class()))===i||b.$$is_boolean&&1!=b?[c.$Float(a),c.$Float(c)]:[a,c]}),a.defn(l,"$__coerced__",function(b,c){var d,e=this,f=i,g=i,h=i;try{d=a.to_ary(c.$coerce(e)),f=null==d[0]?i:d[0],g=null==d[1]?i:d[1]}catch(j){try{h=b,"+"["$==="](h)||"-"["$==="](h)||"*"["$==="](h)||"/"["$==="](h)||"%"["$==="](h)||"&"["$==="](h)||"|"["$==="](h)||"^"["$==="](h)||"**"["$==="](h)?e.$raise(m.get("TypeError"),""+c.$class()+" can't be coerce into Numeric"):(">"["$==="](h)||">="["$==="](h)||"<"["$==="](h)||"<="["$==="](h)||"<=>"["$==="](h))&&e.$raise(m.get("ArgumentError"),"comparison of "+e.$class()+" with "+c.$class()+" failed")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return f.$__send__(b,g)}),a.defn(l,"$<=>",function(a){var b,c=this;return(b=c["$equal?"](a))===i||b.$$is_boolean&&1!=b?i:0}),a.defn(l,"$[]",function(a){var c=this,d=i,e=i;return a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int"),d=2["$**"](30)["$-@"](),e=b(2["$**"](30),1),d>a||a>e?0:(c>>a)%2}),a.defn(l,"$+@",function(){var a=this;return a}),a.defn(l,"$-@",function(){var a=this;return b(0,a)}),a.defn(l,"$%",function(a){var d=this;return b(d,c(a,d.$div(a)))}),a.defn(l,"$abs",function(){var a=this;return d(a,0)?a["$-@"]():a}),a.defn(l,"$abs2",function(){var a=this;return c(a,a)}),a.defn(l,"$angle",function(){var a=this;return d(a,0)?m.get("Math").$$scope.get("PI"):0}),a.alias(l,"arg","angle"),a.defn(l,"$ceil",function(){var a=this;return a.$to_f().$ceil()}),a.defn(l,"$conj",function(){var a=this;return a}),a.alias(l,"conjugate","conj"),a.defn(l,"$denominator",function(){var a=this;return a.$to_r().$denominator()}),a.defn(l,"$div",function(a){var b=this;return a["$=="](0)&&b.$raise(m.get("ZeroDivisionError"),"divided by o"),e(b,a).$floor()}),a.defn(l,"$divmod",function(a){var b=this;return[b.$div(a),b["$%"](a)]}),a.defn(l,"$fdiv",function(a){var b=this;return e(b.$to_f(),a)}),a.defn(l,"$floor",function(){var a=this;return a.$to_f().$floor()}),a.defn(l,"$i",function(){var a=this;return a.$Complex(0,a)}),a.defn(l,"$imag",function(){return 0}),a.alias(l,"imaginary","imag"),a.defn(l,"$integer?",function(){return!1}),a.alias(l,"magnitude","abs"),a.alias(l,"modulo","%"),a.defn(l,"$nonzero?",function(){var a,b=this;return(a=b["$zero?"]())===i||a.$$is_boolean&&1!=a?b:i}),a.defn(l,"$numerator",function(){var a=this;return a.$to_r().$numerator()}),a.alias(l,"phase","arg"),a.defn(l,"$polar",function(){var a=this;return[a.$abs(),a.$arg()]}),a.defn(l,"$quo",function(a){var b=this;return e(m.get("Opal")["$coerce_to!"](b,m.get("Rational"),"to_r"),a)}),a.defn(l,"$real",function(){var a=this;return a}),a.defn(l,"$real?",function(){return!0}),a.defn(l,"$rect",function(){var a=this;return[a,0]}),a.alias(l,"rectangular","rect"),a.defn(l,"$round",function(a){var b=this;return b.$to_f().$round(a)}),a.defn(l,"$to_c",function(){var a=this;return a.$Complex(a,0)}),a.defn(l,"$to_int",function(){var a=this;return a.$to_i()}),a.defn(l,"$truncate",function(){var a=this;return a.$to_f().$truncate()}),a.defn(l,"$zero?",function(){var a=this;return a["$=="](0)}),a.defn(l,"$positive?",function(){var a=this;return f(a,0)}),a.defn(l,"$negative?",function(){var a=this;return d(a,0)}),a.defn(l,"$dup",function(){var a=this;return a.$raise(m.get("TypeError"),"can't dup "+a.$class())}),a.defn(l,"$clone",function(){var a=this;return a.$raise(m.get("TypeError"),"can't clone "+a.$class())}),i&&"clone"}(h.base,null)},Opal.modules["corelib/array"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="warning";var e=a.top,f=a,g=a.nil,h=a.breaker,i=(a.slice,a.klass),j=a.hash2,k=a.gvars;return a.add_stubs(["$require","$include","$raise","$===","$to_a","$respond_to?","$to_ary","$coerce_to","$initialize","$to_proc","$coerce_to?","$join","$to_str","$class","$clone","$hash","$<=>","$==","$object_id","$inspect","$enum_for","$coerce_to!","$>","$*","$enumerator_size","$empty?","$copy_singleton_methods","$initialize_clone","$initialize_dup","$replace","$size","$eql?","$length","$begin","$end","$exclude_end?","$flatten","$__id__","$[]","$to_s","$new","$!","$delete_if","$each","$reverse","$rotate","$rand","$at","$keep_if","$shuffle!","$dup","$<","$sort","$!=","$times","$[]=","$<<","$kind_of?","$last","$first","$upto"]),e.$require("corelib/enumerable"),e.$require("corelib/numeric"),function(e,f){function l(){}function m(a,b){return a===b||0===b?1:b>0&&a>b?m(a-1,b-1)+m(a-1,b):0}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q=l=i(e,f,"Array",l),R=Q.$$proto,S=Q.$$scope;return R.length=g,Q.$include(S.get("Enumerable")),R.$$is_array=!0,a.defs(Q,"$[]",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=new Array(a),c=0;a>c;c++)b[c]=arguments[c+0];return b}),a.defn(Q,"$initialize",n=function(a,b){var c,d=this,e=n.$$p,f=e||g;if(null==a&&(a=g),null==b&&(b=g),n.$$p=null,(c=arguments.length>2)===g||c.$$is_boolean&&1!=c||d.$raise(S.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),0===arguments.length)return d.splice(0,d.length),d;if((c=1===arguments.length)!==g&&(!c.$$is_boolean||1==c)){if(!((c=S.get("Array")["$==="](a))===g||c.$$is_boolean&&1!=c))return a.$to_a();if((c=a["$respond_to?"]("to_ary"))!==g&&(!c.$$is_boolean||1==c))return a.$to_ary()}a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),(c=0>a)===g||c.$$is_boolean&&1!=c||d.$raise(S.get("ArgumentError"),"negative array size"),d.splice(0,d.length);var i,j;if(f===g)for(i=0;a>i;i++)d.push(b);else for(i=0,j;a>i;i++){if(j=f(i),j===h)return h.$v;d[i]=j}return d}),a.defs(Q,"$new",o=function(){var b,c,d=o.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return o.$$p=null,(b=(c=[]).$initialize,b.$$p=e.$to_proc(),b).apply(c,a.to_a(h))}),a.defs(Q,"$try_convert",function(a){return S.get("Opal")["$coerce_to?"](a,S.get("Array"),"to_ary")}),a.defn(Q,"$&",function(b){var c,d=this;b=(c=S.get("Array")["$==="](b))===g||c.$$is_boolean&&1!=c?S.get("Opal").$coerce_to(b,S.get("Array"),"to_ary").$to_a():b.$to_a();var e,f,h,i=[],k=j([],{});for(e=0,f=b.length;f>e;e++)a.hash_put(k,b[e],!0);for(e=0,f=d.length;f>e;e++)h=d[e],void 0!==a.hash_delete(k,h)&&i.push(h);return i}),a.defn(Q,"$|",function(b){var c,d=this;b=(c=S.get("Array")["$==="](b))===g||c.$$is_boolean&&1!=c?S.get("Opal").$coerce_to(b,S.get("Array"),"to_ary").$to_a():b.$to_a();var e,f,h=j([],{});for(e=0,f=d.length;f>e;e++)a.hash_put(h,d[e],!0);for(e=0,f=b.length;f>e;e++)a.hash_put(h,b[e],!0);return h.$keys()}),a.defn(Q,"$*",function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))!==g&&(!b.$$is_boolean||1==b))return c.$join(a.$to_str());((b=a["$respond_to?"]("to_int"))===g||b.$$is_boolean&&1!=b)&&c.$raise(S.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"),a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),(b=0>a)===g||b.$$is_boolean&&1!=b||c.$raise(S.get("ArgumentError"),"negative argument");for(var d=[],e=0;a>e;e++)d=d.concat(c);return d}),a.defn(Q,"$+",function(a){var b,c=this;return a=(b=S.get("Array")["$==="](a))===g||b.$$is_boolean&&1!=b?S.get("Opal").$coerce_to(a,S.get("Array"),"to_ary").$to_a():a.$to_a(),c.concat(a)}),a.defn(Q,"$-",function(b){var c,d=this;if(b=(c=S.get("Array")["$==="](b))===g||c.$$is_boolean&&1!=c?S.get("Opal").$coerce_to(b,S.get("Array"),"to_ary").$to_a():b.$to_a(),(c=0===d.length)!==g&&(!c.$$is_boolean||1==c))return[];if((c=0===b.length)!==g&&(!c.$$is_boolean||1==c))return d.$clone();var e,f,h,i=[],k=j([],{});for(e=0,f=b.length;f>e;e++)a.hash_put(k,b[e],!0);for(e=0,f=d.length;f>e;e++)h=d[e],void 0===a.hash_get(k,h)&&i.push(h);return i}),a.defn(Q,"$<<",function(a){var b=this;return b.push(a),b}),a.defn(Q,"$<=>",function(a){var b,c=this;if((b=S.get("Array")["$==="](a))===g||b.$$is_boolean&&1!=b){if((b=a["$respond_to?"]("to_ary"))===g||b.$$is_boolean&&1!=b)return g;a=a.$to_ary().$to_a()}else a=a.$to_a();if(c.$hash()===a.$hash())return 0;for(var d=Math.min(c.length,a.length),e=0;d>e;e++){var f=c[e]["$<=>"](a[e]);if(0!==f)return f}return c.length["$<=>"](a.length)}),a.defn(Q,"$==",function(a){function b(a,c){var e,f,g,h;if(!c.$$is_array)return S.get("Opal")["$respond_to?"](c,"to_ary")?c["$=="](a):!1;if(c=c.$to_a(),a.length!==c.length)return!1;for(d[a.$object_id()]=!0,e=0,f=a.length;f>e;e++)if(g=a[e],h=c[e],g.$$is_array){if(h.$$is_array&&h.length!==g.length)return!1;if(!d.hasOwnProperty(g.$object_id())&&!b(g,h))return!1}else if(!g["$=="](h))return!1;return!0}var c=this,d={};return b(c,a)}),a.defn(Q,"$[]",function(a,b){var c,d,e,f=this,h=f.length;return a.$$is_range?(c=a.exclude,d=S.get("Opal").$coerce_to(a.begin,S.get("Integer"),"to_int"),e=S.get("Opal").$coerce_to(a.end,S.get("Integer"),"to_int"),0>d&&(d+=h,0>d)?g:d>h?g:0>e&&(e+=h,0>e)?[]:(c||(e+=1),f.slice(d,e))):(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),0>a&&(a+=h,0>a)?g:void 0===b?a>=h||0>a?g:f[a]:(b=S.get("Opal").$coerce_to(b,S.get("Integer"),"to_int"),0>b||a>h||0>a?g:f.slice(a,a+b)))}),a.defn(Q,"$[]=",function(a,b,c){var d,e,f=this,h=g,i=g,j=f.length;if((d=S.get("Range")["$==="](a))===g||d.$$is_boolean&&1!=d){(d=void 0===c)===g||d.$$is_boolean&&1!=d?(i=b,b=c,h=(d=S.get("Array")["$==="](b))===g||d.$$is_boolean&&1!=d?(d=b["$respond_to?"]("to_ary"))===g||d.$$is_boolean&&1!=d?[b]:b.$to_ary().$to_a():b.$to_a()):i=1;var k;if(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),i=S.get("Opal").$coerce_to(i,S.get("Integer"),"to_int"),0>a&&(k=a,a+=j,0>a&&f.$raise(S.get("IndexError"),"index "+k+" too small for array; minimum "+-f.length)),0>i&&f.$raise(S.get("IndexError"),"negative length ("+i+")"),a>j)for(e=j;a>e;e++)f[e]=g;return void 0===c?f[a]=b:f.splice.apply(f,[a,i].concat(h)),b}h=(d=S.get("Array")["$==="](b))===g||d.$$is_boolean&&1!=d?(d=b["$respond_to?"]("to_ary"))===g||d.$$is_boolean&&1!=d?[b]:b.$to_ary().$to_a():b.$to_a();var l=a.exclude,m=S.get("Opal").$coerce_to(a.begin,S.get("Integer"),"to_int"),n=S.get("Opal").$coerce_to(a.end,S.get("Integer"),"to_int");if(0>m&&(m+=j,0>m&&f.$raise(S.get("RangeError"),""+a.$inspect()+" out of range")),0>n&&(n+=j),l||(n+=1),m>j)for(e=j;m>e;e++)f[e]=g;return 0>n?f.splice.apply(f,[m,0].concat(h)):f.splice.apply(f,[m,n-m].concat(h)),
b}),a.defn(Q,"$assoc",function(a){for(var b,c=this,d=0,e=c.length;e>d;d++)if(b=c[d],b.length&&b[0]["$=="](a))return b;return g}),a.defn(Q,"$at",function(a){var b=this;return a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),0>a&&(a+=b.length),0>a||a>=b.length?g:b[a]}),a.defn(Q,"$bsearch",p=function(){var a=this,b=p.$$p,c=b||g;if(p.$$p=null,c===g)return a.$enum_for("bsearch");for(var d,e,f,i=0,j=a.length,k=!1,l=g;j>i;){if(d=i+Math.floor((j-i)/2),e=a[d],f=c(e),f===h)return h.$v;if(f===!0)l=e,k=!0;else if(f===!1||f===g)k=!1;else if(f.$$is_number){if(0===f)return e;k=0>f}else a.$raise(S.get("TypeError"),"wrong argument type "+f.$class()+" (must be numeric, true, false or nil)");k?j=d:i=d+1}return l}),a.defn(Q,"$cycle",q=function(d){var e,f,i,j,k=this,l=q.$$p,m=l||g;if(null==d&&(d=g),q.$$p=null,m===g)return(e=(f=k).$enum_for,e.$$p=(i=function(){var a=i.$$s||this;return d["$=="](g)?S.get("Float").$$scope.get("INFINITY"):(d=S.get("Opal")["$coerce_to!"](d,S.get("Integer"),"to_int"),b(d,0)?c(a.$enumerator_size(),d):0)},i.$$s=k,i),e).call(f,"cycle",d);if((e=(j=k["$empty?"]())!==!1&&j!==g?j:d["$=="](0))!==g&&(!e.$$is_boolean||1==e))return g;var n,o,p;if(d===g){for(;;)for(n=0,o=k.length;o>n;n++)if(p=a.yield1(m,k[n]),p===h)return h.$v}else{if(d=S.get("Opal")["$coerce_to!"](d,S.get("Integer"),"to_int"),0>=d)return k;for(;d>0;){for(n=0,o=k.length;o>n;n++)if(p=a.yield1(m,k[n]),p===h)return h.$v;d--}}return k}),a.defn(Q,"$clear",function(){var a=this;return a.splice(0,a.length),a}),a.defn(Q,"$clone",function(){var a=this,b=g;return b=[],b.$copy_singleton_methods(a),b.$initialize_clone(a),b}),a.defn(Q,"$dup",function(){var a=this,b=g;return b=[],b.$initialize_dup(a),b}),a.defn(Q,"$initialize_copy",function(a){var b=this;return b.$replace(a)}),a.defn(Q,"$collect",r=function(){var b,c,d,e=this,f=r.$$p,i=f||g;if(r.$$p=null,i===g)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=e,d),b).call(c,"collect");for(var j=[],k=0,l=e.length;l>k;k++){var m=a.yield1(i,e[k]);if(m===h)return h.$v;j.push(m)}return j}),a.defn(Q,"$collect!",s=function(){var b,c,d,e=this,f=s.$$p,i=f||g;if(s.$$p=null,i===g)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=e,d),b).call(c,"collect!");for(var j=0,k=e.length;k>j;j++){var l=a.yield1(i,e[j]);if(l===h)return h.$v;e[j]=l}return e}),a.defn(Q,"$combination",t=function(b){var c,d,e,f=this,i=t.$$p,j=i||g,k=g;if(t.$$p=null,k=S.get("Opal")["$coerce_to!"](b,S.get("Integer"),"to_int"),j===g)return(c=(d=f).$enum_for,c.$$p=(e=function(){var a=e.$$s||this;return m(a.length,k)},e.$$s=f,e),c).call(d,"combination",k);var l,n,o,p,q,r,s;if(0===k)(c=a.yield1(j,[]))===h?h.$v:c;else if(1===k)for(l=0,n=f.length;n>l;l++)(c=a.yield1(j,[f[l]]))===h?h.$v:c;else if(k===f.length)(c=a.yield1(j,f.slice()))===h?h.$v:c;else if(k>=0&&k<f.length){for(o=[],l=0;k+1>=l;l++)o.push(0);for(p=[],q=0,r=!1,o[0]=-1;!r;){for(p[q]=f[o[q+1]];k-1>q;)q++,s=o[q+1]=o[q]+1,p[q]=f[s];(c=a.yield1(j,p.slice()))===h?h.$v:c,q++;do r=0===q,o[q]++,q--;while(o[q+1]+k===f.length+q+1)}}return f}),a.defn(Q,"$compact",function(){for(var a,b=this,c=[],d=0,e=b.length;e>d;d++)(a=b[d])!==g&&c.push(a);return c}),a.defn(Q,"$compact!",function(){for(var a=this,b=a.length,c=0,d=a.length;d>c;c++)a[c]===g&&(a.splice(c,1),d--,c--);return a.length===b?g:a}),a.defn(Q,"$concat",function(a){var b,c=this;a=(b=S.get("Array")["$==="](a))===g||b.$$is_boolean&&1!=b?S.get("Opal").$coerce_to(a,S.get("Array"),"to_ary").$to_a():a.$to_a();for(var d=0,e=a.length;e>d;d++)c.push(a[d]);return c}),a.defn(Q,"$delete",u=function(b){var c,d=this,e=u.$$p,f=e||g;u.$$p=null;for(var i=d.length,j=0,k=i;k>j;j++)d[j]["$=="](b)&&(d.splice(j,1),k--,j--);return d.length===i?f!==g?(c=a.yieldX(f,[]))===h?h.$v:c:g:b}),a.defn(Q,"$delete_at",function(a){var b=this;if(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),0>a&&(a+=b.length),0>a||a>=b.length)return g;var c=b[a];return b.splice(a,1),c}),a.defn(Q,"$delete_if",v=function(){var a,b,c,d=this,e=v.$$p,f=e||g;if(v.$$p=null,f===g)return(a=(b=d).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$size()},c.$$s=d,c),a).call(b,"delete_if");for(var i,j=0,k=d.length;k>j;j++){if((i=f(d[j]))===h)return h.$v;i!==!1&&i!==g&&(d.splice(j,1),k--,j--)}return d}),a.defn(Q,"$drop",function(a){var b=this;return 0>a&&b.$raise(S.get("ArgumentError")),b.slice(a)}),a.defn(Q,"$each",w=function(){var b,c,d,e=this,f=w.$$p,i=f||g;if(w.$$p=null,i===g)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=e,d),b).call(c,"each");for(var j=0,k=e.length;k>j;j++){var l=a.yield1(i,e[j]);if(l==h)return h.$v}return e}),a.defn(Q,"$each_index",x=function(){var b,c,d,e=this,f=x.$$p,i=f||g;if(x.$$p=null,i===g)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=e,d),b).call(c,"each_index");for(var j=0,k=e.length;k>j;j++){var l=a.yield1(i,j);if(l===h)return h.$v}return e}),a.defn(Q,"$empty?",function(){var a=this;return 0===a.length}),a.defn(Q,"$eql?",function(a){function b(a,c){var e,f,g,h;if(!c.$$is_array)return!1;if(c=c.$to_a(),a.length!==c.length)return!1;for(d[a.$object_id()]=!0,e=0,f=a.length;f>e;e++)if(g=a[e],h=c[e],g.$$is_array){if(h.$$is_array&&h.length!==g.length)return!1;if(!d.hasOwnProperty(g.$object_id())&&!b(g,h))return!1}else if(!g["$eql?"](h))return!1;return!0}var c=this,d={};return b(c,a)}),a.defn(Q,"$fetch",y=function(a,b){var c=this,d=y.$$p,e=d||g;y.$$p=null;var f=a;return a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),0>a&&(a+=c.length),a>=0&&a<c.length?c[a]:e!==g?e(f):null!=b?b:void(0===c.length?c.$raise(S.get("IndexError"),"index "+f+" outside of array bounds: 0...0"):c.$raise(S.get("IndexError"),"index "+f+" outside of array bounds: -"+c.length+"..."+c.length))}),a.defn(Q,"$fill",z=function(){var b,c=this,d=z.$$p,e=d||g,f=g,i=g,j=g,k=g,l=g,m=arguments.length-0;0>m&&(m=0);for(var n=new Array(m),o=0;m>o;o++)n[o]=arguments[o+0];z.$$p=null;var p,q,r;if(e!==!1&&e!==g?((b=n.length>2)===g||b.$$is_boolean&&1!=b||c.$raise(S.get("ArgumentError"),"wrong number of arguments ("+n.$length()+" for 0..2)"),b=a.to_ary(n),f=null==b[0]?g:b[0],i=null==b[1]?g:b[1]):((b=0==n.length)===g||b.$$is_boolean&&1!=b?(b=n.length>3)===g||b.$$is_boolean&&1!=b||c.$raise(S.get("ArgumentError"),"wrong number of arguments ("+n.$length()+" for 1..3)"):c.$raise(S.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),b=a.to_ary(n),j=null==b[0]?g:b[0],f=null==b[1]?g:b[1],i=null==b[2]?g:b[2]),(b=S.get("Range")["$==="](f))===g||b.$$is_boolean&&1!=b)if(f!==!1&&f!==g)if(k=S.get("Opal").$coerce_to(f,S.get("Integer"),"to_int"),(b=0>k)===g||b.$$is_boolean&&1!=b||(k+=c.length),(b=0>k)===g||b.$$is_boolean&&1!=b||(k=0),i!==!1&&i!==g){if(l=S.get("Opal").$coerce_to(i,S.get("Integer"),"to_int"),(b=0==l)!==g&&(!b.$$is_boolean||1==b))return c;l+=k}else l=c.length;else k=0,l=c.length;else if(i!==!1&&i!==g&&c.$raise(S.get("TypeError"),"length invalid with range"),k=S.get("Opal").$coerce_to(f.$begin(),S.get("Integer"),"to_int"),(b=0>k)===g||b.$$is_boolean&&1!=b||(k+=c.length),(b=0>k)===g||b.$$is_boolean&&1!=b||c.$raise(S.get("RangeError"),""+f.$inspect()+" out of range"),l=S.get("Opal").$coerce_to(f.$end(),S.get("Integer"),"to_int"),(b=0>l)===g||b.$$is_boolean&&1!=b||(l+=c.length),((b=f["$exclude_end?"]())===g||b.$$is_boolean&&1!=b)&&(l+=1),(b=k>=l)!==g&&(!b.$$is_boolean||1==b))return c;if((b=k>c.length)!==g&&(!b.$$is_boolean||1==b))for(p=c.length;l>p;p++)c[p]=g;if((b=l>c.length)===g||b.$$is_boolean&&1!=b||(c.length=l),e!==!1&&e!==g)for(q=c.length;l>k;k++){if(r=e(k),r===h)return h.$v;c[k]=r}else for(q=c.length;l>k;k++)c[k]=j;return c}),a.defn(Q,"$first",function(a){var b=this;return null==a?0===b.length?g:b[0]:(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),0>a&&b.$raise(S.get("ArgumentError"),"negative array size"),b.slice(0,a))}),a.defn(Q,"$flatten",function(a){function b(a,d){var e,f,h,i,j=[];for(a=a.$to_a(),e=0,f=a.length;f>e;e++)if(h=a[e],S.get("Opal")["$respond_to?"](h,"to_ary"))if(i=h.$to_ary(),i!==g)switch(i.$$is_array||c.$raise(S.get("TypeError")),i===c&&c.$raise(S.get("ArgumentError")),d){case void 0:j.push.apply(j,b(i));break;case 0:j.push(i);break;default:j.push.apply(j,b(i,d-1))}else j.push(h);else j.push(h);return j}var c=this;return void 0!==a&&(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int")),b(c,a)}),a.defn(Q,"$flatten!",function(a){var b=this,c=b.$flatten(a);if(b.length==c.length){for(var d=0,e=b.length;e>d&&b[d]===c[d];d++);if(d==e)return g}return b.$replace(c),b}),a.defn(Q,"$hash",function(){var b,c,d,e=this,f=void 0==a.hash_ids,g=["A"],h=e.$object_id();try{if(f&&(a.hash_ids={}),a.hash_ids.hasOwnProperty(h))return"self";for(d in a.hash_ids)if(a.hash_ids.hasOwnProperty(d)&&(b=a.hash_ids[d],e["$eql?"](b)))return"self";for(a.hash_ids[h]=e,c=0;c<e.length;c++)b=e[c],g.push(b.$hash());return g.join(",")}finally{f&&delete a.hash_ids}}),a.defn(Q,"$include?",function(a){for(var b=this,c=0,d=b.length;d>c;c++)if(b[c]["$=="](a))return!0;return!1}),a.defn(Q,"$index",A=function(a){var b=this,c=A.$$p,d=c||g;A.$$p=null;var e,f,i;if(null!=a){for(e=0,f=b.length;f>e;e++)if(b[e]["$=="](a))return e}else{if(d===g)return b.$enum_for("index");for(e=0,f=b.length;f>e;e++){if((i=d(b[e]))===h)return h.$v;if(i!==!1&&i!==g)return e}}return g}),a.defn(Q,"$insert",function(a){var b=this,c=arguments.length-1;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+1];if(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),d.length>0){if(0>a&&(a+=b.length+1,0>a&&b.$raise(S.get("IndexError"),""+a+" is out of bounds")),a>b.length)for(var f=b.length;a>f;f++)b.push(g);b.splice.apply(b,[a,0].concat(d))}return b}),a.defn(Q,"$inspect",function(){for(var a=this,b=[],c=a.$__id__(),d=0,e=a.length;e>d;d++){var f=a["$[]"](d);f.$__id__()===c?b.push("[...]"):b.push(f.$inspect())}return"["+b.join(", ")+"]"}),a.defn(Q,"$join",function(a){var b,c=this;if(null==k[","]&&(k[","]=g),null==a&&(a=g),(b=0===c.length)!==g&&(!b.$$is_boolean||1==b))return"";(b=a===g)===g||b.$$is_boolean&&1!=b||(a=k[","]);var d,e,f,h,i=[];for(d=0,e=c.length;e>d;d++)f=c[d],S.get("Opal")["$respond_to?"](f,"to_str")&&(h=f.$to_str(),h!==g)?i.push(h.$to_s()):S.get("Opal")["$respond_to?"](f,"to_ary")&&(h=f.$to_ary(),h===c&&c.$raise(S.get("ArgumentError")),h!==g)?i.push(h.$join(a)):S.get("Opal")["$respond_to?"](f,"to_s")&&(h=f.$to_s(),h!==g)?i.push(h):c.$raise(S.get("NoMethodError").$new(""+S.get("Opal").$inspect(f)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"));return a===g?i.join(""):i.join(S.get("Opal")["$coerce_to!"](a,S.get("String"),"to_str").$to_s())}),a.defn(Q,"$keep_if",B=function(){var a,b,c,d=this,e=B.$$p,f=e||g;if(B.$$p=null,f===g)return(a=(b=d).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$size()},c.$$s=d,c),a).call(b,"keep_if");for(var i,j=0,k=d.length;k>j;j++){if((i=f(d[j]))===h)return h.$v;(i===!1||i===g)&&(d.splice(j,1),k--,j--)}return d}),a.defn(Q,"$last",function(a){var b=this;return null==a?0===b.length?g:b[b.length-1]:(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),0>a&&b.$raise(S.get("ArgumentError"),"negative array size"),a>b.length&&(a=b.length),b.slice(b.length-a,b.length))}),a.defn(Q,"$length",function(){var a=this;return a.length}),a.alias(Q,"map","collect"),a.alias(Q,"map!","collect!"),a.defn(Q,"$permutation",C=function(b){var c,d,e,f=this,i=C.$$p,j=i||g,k=g,l=g;if(C.$$p=null,j===g)return(c=(d=f).$enum_for,c.$$p=(e=function(){var a=e.$$s||this;return a.$size()},e.$$s=f,e),c).call(d,"permutation",b);var m,n,o;if(b=void 0===b?f.length:S.get("Opal").$coerce_to(b,S.get("Integer"),"to_int"),0>b||f.length<b);else if(0===b)(c=a.yield1(j,[]))===h?h.$v:c;else if(1===b)for(var p=0;p<f.length;p++)(c=a.yield1(j,[f[p]]))===h?h.$v:c;else k=S.get("Array").$new(b),l=S.get("Array").$new(f.length,!1),m=function(b,c,d,e,g){f=this;for(var h=0;h<f.length;h++)if(e["$[]"](h)["$!"]())if(c[d]=h,b-1>d)e[h]=!0,m.call(f,b,c,d+1,e,g),e[h]=!1;else{o=[];for(var i=0;i<c.length;i++)o.push(f[c[i]]);a.yield1(g,o)}},j!==g?(n=f.slice(),m.call(n,b,k,0,l,j)):m.call(f,b,k,0,l,j);return f}),a.defn(Q,"$pop",function(a){var b,c=this;return(b=void 0===a)===g||b.$$is_boolean&&1!=b?(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),(b=0>a)===g||b.$$is_boolean&&1!=b||c.$raise(S.get("ArgumentError"),"negative array size"),(b=0===c.length)===g||b.$$is_boolean&&1!=b?(b=a>c.length)===g||b.$$is_boolean&&1!=b?c.splice(c.length-a,c.length):c.splice(0,c.length):[]):(b=0===c.length)===g||b.$$is_boolean&&1!=b?c.pop():g}),a.defn(Q,"$product",D=function(){var b,c=this,d=D.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var i=new Array(f),j=0;f>j;j++)i[j]=arguments[j+0];D.$$p=null;var k,l,m,n,o=e!==g?null:[],p=i.length+1,q=new Array(p),r=new Array(p),s=new Array(p),t=1;for(s[0]=c,k=1;p>k;k++)s[k]=S.get("Opal").$coerce_to(i[k-1],S.get("Array"),"to_ary");for(k=0;p>k;k++){if(n=s[k].length,0===n)return o||c;t*=n,t>2147483647&&c.$raise(S.get("RangeError"),"too big to product"),r[k]=n,q[k]=0}a:for(;;){for(m=[],k=0;p>k;k++)m.push(s[k][q[k]]);for(o?o.push(m):(b=a.yield1(e,m))===h?h.$v:b,l=p-1,q[l]++;q[l]===r[l];){if(q[l]=0,--l<0)break a;q[l]++}}return o||c}),a.defn(Q,"$push",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];for(var e=0,f=c.length;f>e;e++)a.push(c[e]);return a}),a.defn(Q,"$rassoc",function(a){for(var b,c=this,d=0,e=c.length;e>d;d++)if(b=c[d],b.length&&void 0!==b[1]&&b[1]["$=="](a))return b;return g}),a.defn(Q,"$reject",E=function(){var a,b,c,d=this,e=E.$$p,f=e||g;if(E.$$p=null,f===g)return(a=(b=d).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$size()},c.$$s=d,c),a).call(b,"reject");for(var i,j=[],k=0,l=d.length;l>k;k++){if((i=f(d[k]))===h)return h.$v;(i===!1||i===g)&&j.push(d[k])}return j}),a.defn(Q,"$reject!",F=function(){var a,b,c,d,e=this,f=F.$$p,h=f||g,i=g;return F.$$p=null,h===g?(a=(b=e).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$size()},c.$$s=e,c),a).call(b,"reject!"):(i=e.$length(),(a=(d=e).$delete_if,a.$$p=h.$to_proc(),a).call(d),e.$length()["$=="](i)?g:e)}),a.defn(Q,"$replace",function(a){var b,c=this;return a=(b=S.get("Array")["$==="](a))===g||b.$$is_boolean&&1!=b?S.get("Opal").$coerce_to(a,S.get("Array"),"to_ary").$to_a():a.$to_a(),c.splice(0,c.length),c.push.apply(c,a),c}),a.defn(Q,"$reverse",function(){var a=this;return a.slice(0).reverse()}),a.defn(Q,"$reverse!",function(){var a=this;return a.reverse()}),a.defn(Q,"$reverse_each",G=function(){var a,b,c,d,e=this,f=G.$$p,h=f||g;return G.$$p=null,h===g?(a=(b=e).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$size()},c.$$s=e,c),a).call(b,"reverse_each"):((a=(d=e.$reverse()).$each,a.$$p=h.$to_proc(),a).call(d),e)}),a.defn(Q,"$rindex",H=function(a){var b=this,c=H.$$p,d=c||g;H.$$p=null;var e,f;if(null!=a){for(e=b.length-1;e>=0&&!(e>=b.length);e--)if(b[e]["$=="](a))return e}else if(d!==g)for(e=b.length-1;e>=0&&!(e>=b.length);e--){if((f=d(b[e]))===h)return h.$v;if(f!==!1&&f!==g)return e}else if(null==a)return b.$enum_for("rindex");return g}),a.defn(Q,"$rotate",function(a){var b=this;null==a&&(a=1),a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int");var c,d,e,f;return 1===b.length?b.slice():0===b.length?[]:(c=b.slice(),d=a%c.length,e=c.slice(d),f=c.slice(0,d),e.concat(f))}),a.defn(Q,"$rotate!",function(a){var b=this,c=g;return null==a&&(a=1),0===b.length||1===b.length?b:(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),c=b.$rotate(a),b.$replace(c))}),function(b,c){function d(){}var e=d=i(b,c,"SampleRandom",d),f=e.$$proto,h=e.$$scope;return f.rng=g,a.defn(e,"$initialize",function(a){var b=this;return b.rng=a}),a.defn(e,"$rand",function(a){var b,c=this,d=g;return d=h.get("Opal").$coerce_to(c.rng.$rand(a),h.get("Integer"),"to_int"),(b=0>d)===g||b.$$is_boolean&&1!=b||c.$raise(h.get("RangeError"),"random value must be >= 0"),((b=a>d)===g||b.$$is_boolean&&1!=b)&&c.$raise(h.get("RangeError"),"random value must be less than Array size"),d}),g&&"rand"}(S.base,null),a.defn(Q,"$sample",function(a,b){var c,d,e=this,f=g,h=g;if((c=void 0===a)!==g&&(!c.$$is_boolean||1==c))return e.$at(S.get("Kernel").$rand(e.length));if((c=void 0===b)===g||c.$$is_boolean&&1!=c?(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),b=S.get("Opal").$coerce_to(b,S.get("Hash"),"to_hash")):(c=f=S.get("Opal")["$coerce_to?"](a,S.get("Hash"),"to_hash"))===g||c.$$is_boolean&&1!=c?(b=g,a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int")):(b=f,a=g),(c=(d=a!==!1&&a!==g)?0>a:a)===g||c.$$is_boolean&&1!=c||e.$raise(S.get("ArgumentError"),"count must be greater than 0"),b!==!1&&b!==g&&(h=b["$[]"]("random")),h=(c=(d=h!==!1&&h!==g)?h["$respond_to?"]("rand"):h)===g||c.$$is_boolean&&1!=c?S.get("Kernel"):S.get("SampleRandom").$new(h),a===!1||a===g)return e[h.$rand(e.length)];var i,j,k,l,m,n,o,p;switch(a>e.length&&(a=e.length),a){case 0:return[];case 1:return[e[h.$rand(e.length)]];case 2:return l=h.$rand(e.length),m=h.$rand(e.length),l===m&&(m=0===l?l+1:l-1),[e[l],e[m]];default:if(e.length/a>3){for(i=!1,j=0,k=S.get("Array").$new(a),l=1,k[0]=h.$rand(e.length);a>l;){for(n=h.$rand(e.length),m=0;l>m;){for(;n===k[m];){if(j++,j>100){i=!0;break}n=h.$rand(e.length)}if(i)break;m++}if(i)break;k[l]=n,l++}if(!i){for(l=0;a>l;)k[l]=e[k[l]],l++;return k}}k=e.slice();for(var q=0;a>q;q++)o=h.$rand(e.length),p=k[q],k[q]=k[o],k[o]=p;return a===e.length?k:k["$[]"](0,a)}}),a.defn(Q,"$select",I=function(){var b,c,d,e=this,f=I.$$p,i=f||g;if(I.$$p=null,i===g)return(b=(c=e).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=e,d),b).call(c,"select");for(var j,k,l=[],m=0,n=e.length;n>m;m++){if(j=e[m],(k=a.yield1(i,j))===h)return h.$v;k!==!1&&k!==g&&l.push(j)}return l}),a.defn(Q,"$select!",J=function(){var a,b,c,d,e=this,f=J.$$p,h=f||g;if(J.$$p=null,h===g)return(a=(b=e).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$size()},c.$$s=e,c),a).call(b,"select!");var i=e.length;return(a=(d=e).$keep_if,a.$$p=h.$to_proc(),a).call(d),e.length===i?g:e}),a.defn(Q,"$shift",function(a){var b,c=this;return(b=void 0===a)===g||b.$$is_boolean&&1!=b?(a=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),(b=0>a)===g||b.$$is_boolean&&1!=b||c.$raise(S.get("ArgumentError"),"negative array size"),(b=0===c.length)===g||b.$$is_boolean&&1!=b?c.splice(0,a):[]):(b=0===c.length)===g||b.$$is_boolean&&1!=b?c.shift():g}),a.alias(Q,"size","length"),a.defn(Q,"$shuffle",function(a){var b=this;return b.$dup()["$shuffle!"](a)}),a.defn(Q,"$shuffle!",function(a){var b,c,d,e=this,f=e.length;for(void 0!==a&&(a=S.get("Opal")["$coerce_to?"](a,S.get("Hash"),"to_hash"),a!==g&&(a=a["$[]"]("random"),a!==g&&a["$respond_to?"]("rand")&&(b=a)));f;)b?(c=b.$rand(f).$to_int(),0>c&&e.$raise(S.get("RangeError"),"random number too small "+c),c>=f&&e.$raise(S.get("RangeError"),"random number too big "+c)):c=Math.floor(Math.random()*f),d=e[--f],e[f]=e[c],e[c]=d;return e}),a.alias(Q,"slice","[]"),a.defn(Q,"$slice!",function(a,b){var c=this;return 0>a&&(a+=c.length),null!=b?c.splice(a,b):0>a||a>=c.length?g:c.splice(a,1)[0]}),a.defn(Q,"$sort",K=function(){var a,c=this,e=K.$$p,f=e||g;if(K.$$p=null,(a=c.length>1)===g||a.$$is_boolean&&1!=a)return c;f===g&&(f=function(a,b){return a["$<=>"](b)});try{return c.slice().sort(function(a,e){var i=f(a,e);if(i===h)throw h;return i===g&&c.$raise(S.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+e.$inspect()+" failed"),b(i,0)?1:d(i,0)?-1:0})}catch(i){if(i===h)return h.$v;throw i}}),a.defn(Q,"$sort!",L=function(){var a,b,c=this,d=L.$$p,e=d||g;L.$$p=null;var f;f=e!==g?(a=(b=c.slice()).$sort,a.$$p=e.$to_proc(),a).call(b):c.slice().$sort(),c.length=0;for(var h=0,i=f.length;i>h;h++)c.push(f[h]);return c}),a.defn(Q,"$take",function(a){var b=this;return 0>a&&b.$raise(S.get("ArgumentError")),b.slice(0,a)}),a.defn(Q,"$take_while",M=function(){var a=this,b=M.$$p,c=b||g;M.$$p=null;for(var d,e,f=[],i=0,j=a.length;j>i;i++){if(d=a[i],(e=c(d))===h)return h.$v;if(e===!1||e===g)return f;f.push(d)}return f}),a.defn(Q,"$to_a",function(){var a=this;return a}),a.alias(Q,"to_ary","to_a"),a.defn(Q,"$to_h",function(){var b,c,d,e,f=this,g=f.length,h=j([],{});for(b=0;g>b;b++)c=S.get("Opal")["$coerce_to?"](f[b],S.get("Array"),"to_ary"),c.$$is_array||f.$raise(S.get("TypeError"),"wrong element type "+c.$class()+" at "+b+" (expected array)"),2!==c.length&&f.$raise(S.get("ArgumentError"),"wrong array length at "+b+" (expected 2, was "+c.$length()+")"),d=c[0],e=c[1],a.hash_put(h,d,e);return h}),a.alias(Q,"to_s","inspect"),a.defn(Q,"$transpose",function(){var a,b,c,d=this,e=g,f=g;return(a=d["$empty?"]())===g||a.$$is_boolean&&1!=a?(e=[],f=g,(a=(b=d).$each,a.$$p=(c=function(a){var b,d,h,i=c.$$s||this;return null==a&&(a=g),a=(b=S.get("Array")["$==="](a))===g||b.$$is_boolean&&1!=b?S.get("Opal").$coerce_to(a,S.get("Array"),"to_ary").$to_a():a.$to_a(),(b=f)!==!1&&b!==g?b:f=a.length,(b=a.length["$!="](f))===g||b.$$is_boolean&&1!=b||i.$raise(S.get("IndexError"),"element size differs ("+a.length+" should be "+f),(b=(d=a.length).$times,b.$$p=(h=function(b){var c,d,f,i=(h.$$s||this,g);return null==b&&(b=g),c=b,d=e,i=(f=d["$[]"](c))!==!1&&f!==g?f:d["$[]="](c,[]),i["$<<"](a.$at(b))},h.$$s=i,h),b).call(d)},c.$$s=d,c),a).call(b),e):[]}),a.defn(Q,"$uniq",N=function(){var b=this,c=N.$$p,d=c||g;N.$$p=null;var e,f,h,i,k=j([],{});if(d===g)for(e=0,f=b.length;f>e;e++)h=b[e],void 0===a.hash_get(k,h)&&a.hash_put(k,h,h);else for(e=0,f=b.length;f>e;e++)h=b[e],i=a.yield1(d,h),void 0===a.hash_get(k,i)&&a.hash_put(k,i,h);return k.$values()}),a.defn(Q,"$uniq!",O=function(){var b=this,c=O.$$p,d=c||g;O.$$p=null;var e,f,h,i,k=b.length,l=j([],{});for(e=0,f=k;f>e;e++)h=b[e],i=d===g?h:a.yield1(d,h),void 0!==a.hash_get(l,i)?(b.splice(e,1),f--,e--):a.hash_put(l,i,h);return b.length===k?g:b}),a.defn(Q,"$unshift",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];for(var e=c.length-1;e>=0;e--)a.unshift(c[e]);return a}),a.defn(Q,"$values_at",function(){var a,b,c,d=this,e=g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return e=[],(a=(b=h).$each,a.$$p=(c=function(a){var b,d,f,h=c.$$s||this,i=g,j=g,k=g;return null==a&&(a=g),(b=a["$kind_of?"](S.get("Range")))===g||b.$$is_boolean&&1!=b?(k=S.get("Opal").$coerce_to(a,S.get("Integer"),"to_int"),e["$<<"](h.$at(k))):(i=S.get("Opal").$coerce_to(a.$last(),S.get("Integer"),"to_int"),j=S.get("Opal").$coerce_to(a.$first(),S.get("Integer"),"to_int"),0>j?(j+=h.length,g):(0>i&&(i+=h.length),a["$exclude_end?"]()&&i--,j>i?g:(b=(d=j).$upto,b.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=g),e["$<<"](b.$at(a))},f.$$s=h,f),b).call(d,i)))},c.$$s=d,c),a).call(b),e}),a.defn(Q,"$zip",P=function(){var a,b=this,c=P.$$p,d=c||g,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),h=0;e>h;h++)f[h]=arguments[h+0];P.$$p=null;var i,j,k,l,m,n=[],o=b.length;for(l=0,m=f.length;m>l;l++)j=f[l],j.$$is_array||(f[l]=((a=S.get("Opal")["$coerce_to?"](j,S.get("Array"),"to_ary"))!==!1&&a!==g?a:S.get("Opal")["$coerce_to!"](j,S.get("Enumerator"),"each")).$to_a());for(k=0;o>k;k++){for(i=[b[k]],l=0,m=f.length;m>l;l++)j=f[l][k],null==j&&(j=g),i[l+1]=j;n[k]=i}if(d!==g){for(k=0;o>k;k++)d(n[k]);return g}return n}),g&&"zip"}(f.base,Array)},Opal.modules["corelib/hash"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil,e=a.breaker,f=(a.slice,a.klass);return a.add_stubs(["$require","$include","$coerce_to?","$[]","$merge!","$allocate","$raise","$==","$coerce_to!","$lambda?","$abs","$arity","$call","$enum_for","$size","$inspect","$flatten","$eql?","$default","$to_proc","$dup","$===","$default_proc","$default_proc=","$default=","$alias_method"]),b.$require("corelib/enumerable"),function(b,c){function g(){}var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=g=f(b,c,"Hash",g),w=v.$$proto,x=v.$$scope;w.proc=w.none=d,v.$include(x.get("Enumerable")),w.$$is_hash=!0,a.defs(v,"$[]",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),e=0;b>e;e++)c[e]=arguments[e+0];var f,g,h=c.length;if(1===h){if(f=x.get("Opal")["$coerce_to?"](c["$[]"](0),x.get("Hash"),"to_hash"),f!==d)return a.$allocate()["$merge!"](f);for(c=x.get("Opal")["$coerce_to?"](c["$[]"](0),x.get("Array"),"to_ary"),c===d&&a.$raise(x.get("ArgumentError"),"odd number of arguments for Hash"),h=c.length,f=a.$allocate(),g=0;h>g;g++)if(c[g].$$is_array)switch(c[g].length){case 1:f.$store(c[g][0],d);break;case 2:f.$store(c[g][0],c[g][1]);break;default:a.$raise(x.get("ArgumentError"),"invalid number of elements ("+c[g].length+" for 1..2)")}return f}for(h%2!==0&&a.$raise(x.get("ArgumentError"),"odd number of arguments for Hash"),f=a.$allocate(),g=0;h>g;g+=2)f.$store(c[g],c[g+1]);return f}),a.defs(v,"$allocate",function(){var b=this,c=new b.$$alloc;return a.hash_init(c),c.none=d,c.proc=d,c}),a.defs(v,"$try_convert",function(a){return x.get("Opal")["$coerce_to?"](a,x.get("Hash"),"to_hash")}),a.defn(v,"$initialize",h=function(a){var b=this,c=h.$$p,e=c||d;return h.$$p=null,void 0!==a&&e!==d&&b.$raise(x.get("ArgumentError"),"wrong number of arguments (1 for 0)"),b.none=void 0===a?d:a,b.proc=e,b}),a.defn(v,"$==",function(b){var c=this;if(c===b)return!0;if(!b.$$is_hash)return!1;if(c.keys.length!==b.keys.length)return!1;for(var d,e,f,g=0,h=c.keys,i=h.length;i>g;g++)if(d=h[g],d.$$is_string?(e=c.smap[d],f=b.smap[d]):(e=d.value,f=a.hash_get(b,d.key)),void 0===f||!e["$eql?"](f))return!1;return!0}),a.defn(v,"$[]",function(b){var c=this,d=a.hash_get(c,b);return void 0!==d?d:c.$default(b)}),a.defn(v,"$[]=",function(b,c){var d=this;return a.hash_put(d,b,c),c}),a.defn(v,"$assoc",function(a){for(var b,c=this,e=0,f=c.keys,g=f.length;g>e;e++)if(b=f[e],b.$$is_string){if(b["$=="](a))return[b,c.smap[b]]}else if(b.key["$=="](a))return[b.key,b.value];return d}),a.defn(v,"$clear",function(){var b=this;return a.hash_init(b),b}),a.defn(v,"$clone",function(){var b=this,c=new b.$$class.$$alloc;return a.hash_init(c),a.hash_clone(b,c),c}),a.defn(v,"$default",function(a){var b=this;return void 0!==a&&b.proc!==d?b.proc.$call(b,a):b.none}),a.defn(v,"$default=",function(a){var b=this;return b.proc=d,b.none=a,a}),a.defn(v,"$default_proc",function(){var a=this;return a.proc}),a.defn(v,"$default_proc=",function(a){var b=this;return a!==d&&(a=x.get("Opal")["$coerce_to!"](a,x.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&b.$raise(x.get("TypeError"),"default_proc takes two arguments")),b.none=d,b.proc=a,a}),a.defn(v,"$delete",i=function(b){var c=this,e=i.$$p,f=e||d;i.$$p=null;var g=a.hash_delete(c,b);return void 0!==g?g:f!==d?f.$call(b):d}),a.defn(v,"$delete_if",j=function(){var b,c,f,g=this,h=j.$$p,i=h||d;if(j.$$p=null,i===!1||i===d)return(b=(c=g).$enum_for,b.$$p=(f=function(){var a=f.$$s||this;return a.$size()},f.$$s=g,f),b).call(c,"delete_if");for(var k,l,m,n=0,o=g.keys,p=o.length;p>n;n++){if(k=o[n],k.$$is_string?l=g.smap[k]:(l=k.value,k=k.key),m=i(k,l),m===e)return e.$v;m!==!1&&m!==d&&void 0!==a.hash_delete(g,k)&&(p--,n--)}return g}),a.alias(v,"dup","clone"),a.defn(v,"$each",k=function(){var b,c,f,g=this,h=k.$$p,i=h||d;if(k.$$p=null,i===!1||i===d)return(b=(c=g).$enum_for,b.$$p=(f=function(){var a=f.$$s||this;return a.$size()},f.$$s=g,f),b).call(c,"each");for(var j,l,m,n=0,o=g.keys,p=o.length;p>n;n++)if(j=o[n],j.$$is_string?l=g.smap[j]:(l=j.value,j=j.key),m=a.yield1(i,[j,l]),m===e)return e.$v;return g}),a.defn(v,"$each_key",l=function(){var a,b,c,f=this,g=l.$$p,h=g||d;if(l.$$p=null,h===!1||h===d)return(a=(b=f).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$size()},c.$$s=f,c),a).call(b,"each_key");for(var i,j=0,k=f.keys,m=k.length;m>j;j++)if(i=k[j],h(i.$$is_string?i:i.key)===e)return e.$v;return f}),a.alias(v,"each_pair","each"),a.defn(v,"$each_value",m=function(){var a,b,c,f=this,g=m.$$p,h=g||d;if(m.$$p=null,h===!1||h===d)return(a=(b=f).$enum_for,a.$$p=(c=function(){var a=c.$$s||this;return a.$size()},c.$$s=f,c),a).call(b,"each_value");for(var i,j=0,k=f.keys,l=k.length;l>j;j++)if(i=k[j],h(i.$$is_string?f.smap[i]:i.value)===e)return e.$v;return f}),a.defn(v,"$empty?",function(){var a=this;return 0===a.keys.length}),a.alias(v,"eql?","=="),a.defn(v,"$fetch",n=function(b,c){var f=this,g=n.$$p,h=g||d;n.$$p=null;var i=a.hash_get(f,b);return void 0!==i?i:h!==d?(i=h(b),i===e?e.$v:i):void 0!==c?c:f.$raise(x.get("KeyError"),"key not found: "+b.$inspect())}),a.defn(v,"$flatten",function(a){var b=this;null==a&&(a=1),a=x.get("Opal")["$coerce_to!"](a,x.get("Integer"),"to_int");for(var c,d,e=[],f=0,g=b.keys,h=g.length;h>f;f++)if(c=g[f],c.$$is_string?d=b.smap[c]:(d=c.value,c=c.key),e.push(c),d.$$is_array){if(1===a){e.push(d);continue}e=e.concat(d.$flatten(a-2))}else e.push(d);return e}),a.defn(v,"$has_key?",function(b){var c=this;return void 0!==a.hash_get(c,b)}),a.defn(v,"$has_value?",function(a){for(var b,c=this,d=0,e=c.keys,f=e.length;f>d;d++)if(b=e[d],(b.$$is_string?c.smap[b]:b.value)["$=="](a))return!0;return!1}),a.defn(v,"$hash",function(){var b,c,d=this,e=void 0===a.hash_ids,f=d.$object_id(),g=["Hash"];try{if(e&&(a.hash_ids={}),a.hash_ids.hasOwnProperty(f))return"self";for(b in a.hash_ids)if(a.hash_ids.hasOwnProperty(b)&&(c=a.hash_ids[b],d["$eql?"](c)))return"self";a.hash_ids[f]=d;for(var h=0,i=d.keys,j=i.length;j>h;h++)b=i[h],b.$$is_string?g.push([b,d.smap[b].$hash()]):g.push([b.key_hash,b.value.$hash()]);return g.sort().join()}finally{e&&delete a.hash_ids}}),a.alias(v,"include?","has_key?"),a.defn(v,"$index",function(a){for(var b,c,e=this,f=0,g=e.keys,h=g.length;h>f;f++)if(b=g[f],b.$$is_string?c=e.smap[b]:(c=b.value,b=b.key),c["$=="](a))return b;return d}),a.defn(v,"$indexes",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+0];for(var f,g,h=[],i=0,j=d.length;j>i;i++)f=d[i],g=a.hash_get(b,f),void 0!==g?h.push(g):h.push(b.$default());return h}),a.alias(v,"indices","indexes");var y;return a.defn(v,"$inspect",function(){var a=this,b=void 0===y,c=a.$object_id(),d=[];try{if(b&&(y={}),y.hasOwnProperty(c))return"{...}";y[c]=!0;for(var e,f,g=0,h=a.keys,i=h.length;i>g;g++)e=h[g],e.$$is_string?f=a.smap[e]:(f=e.value,e=e.key),d.push(e.$inspect()+"=>"+f.$inspect());return"{"+d.join(", ")+"}"}finally{b&&(y=void 0)}}),a.defn(v,"$invert",function(){for(var b,c,d=this,e=a.hash(),f=0,g=d.keys,h=g.length;h>f;f++)b=g[f],b.$$is_string?c=d.smap[b]:(c=b.value,b=b.key),a.hash_put(e,c,b);return e}),a.defn(v,"$keep_if",o=function(){var b,c,f,g=this,h=o.$$p,i=h||d;if(o.$$p=null,i===!1||i===d)return(b=(c=g).$enum_for,b.$$p=(f=function(){var a=f.$$s||this;return a.$size()},f.$$s=g,f),b).call(c,"keep_if");for(var j,k,l,m=0,n=g.keys,p=n.length;p>m;m++){if(j=n[m],j.$$is_string?k=g.smap[j]:(k=j.value,j=j.key),l=i(j,k),l===e)return e.$v;(l===!1||l===d)&&void 0!==a.hash_delete(g,j)&&(p--,m--)}return g}),a.alias(v,"key","index"),a.alias(v,"key?","has_key?"),a.defn(v,"$keys",function(){for(var a,b=this,c=[],d=0,e=b.keys,f=e.length;f>d;d++)a=e[d],a.$$is_string?c.push(a):c.push(a.key);return c}),a.defn(v,"$length",function(){var a=this;return a.keys.length}),a.alias(v,"member?","has_key?"),a.defn(v,"$merge",p=function(a){var b,c,e=this,f=p.$$p,g=f||d;return p.$$p=null,(b=(c=e.$dup())["$merge!"],b.$$p=g.$to_proc(),b).call(c,a)}),a.defn(v,"$merge!",q=function(b){var c=this,e=q.$$p,f=e||d;q.$$p=null,x.get("Hash")["$==="](b)||(b=x.get("Opal")["$coerce_to!"](b,x.get("Hash"),"to_hash"));var g,h,i,j,k=b.keys,l=k.length;if(f===d){for(g=0;l>g;g++)h=k[g],h.$$is_string?j=b.smap[h]:(j=h.value,h=h.key),a.hash_put(c,h,j);return c}for(g=0;l>g;g++)h=k[g],h.$$is_string?j=b.smap[h]:(j=h.value,h=h.key),i=a.hash_get(c,h),void 0!==i?a.hash_put(c,h,f(h,i,j)):a.hash_put(c,h,j);return c}),a.defn(v,"$rassoc",function(a){for(var b,c,e=this,f=0,g=e.keys,h=g.length;h>f;f++)if(b=g[f],b.$$is_string?c=e.smap[b]:(c=b.value,b=b.key),c["$=="](a))return[b,c];return d}),a.defn(v,"$rehash",function(){var b=this;return a.hash_rehash(b),b}),a.defn(v,"$reject",r=function(){var b,c,f,g=this,h=r.$$p,i=h||d;if(r.$$p=null,i===!1||i===d)return(b=(c=g).$enum_for,b.$$p=(f=function(){var a=f.$$s||this;return a.$size()},f.$$s=g,f),b).call(c,"reject");for(var j,k,l,m=a.hash(),n=0,o=g.keys,p=o.length;p>n;n++){if(j=o[n],
j.$$is_string?k=g.smap[j]:(k=j.value,j=j.key),l=i(j,k),l===e)return e.$v;(l===!1||l===d)&&a.hash_put(m,j,k)}return m}),a.defn(v,"$reject!",s=function(){var b,c,f,g=this,h=s.$$p,i=h||d;if(s.$$p=null,i===!1||i===d)return(b=(c=g).$enum_for,b.$$p=(f=function(){var a=f.$$s||this;return a.$size()},f.$$s=g,f),b).call(c,"reject!");for(var j,k,l,m=!1,n=0,o=g.keys,p=o.length;p>n;n++){if(j=o[n],j.$$is_string?k=g.smap[j]:(k=j.value,j=j.key),l=i(j,k),l===e)return e.$v;l!==!1&&l!==d&&void 0!==a.hash_delete(g,j)&&(m=!0,p--,n--)}return m?g:d}),a.defn(v,"$replace",function(b){var c,e,f=this;b=x.get("Opal")["$coerce_to!"](b,x.get("Hash"),"to_hash"),a.hash_init(f);for(var g,h,i=0,j=b.keys,k=j.length;k>i;i++)g=j[i],g.$$is_string?h=b.smap[g]:(h=g.value,g=g.key),a.hash_put(f,g,h);return(c=b.$default_proc())===d||c.$$is_boolean&&1!=c?(c=[b.$default()],e=f,e["$default="].apply(e,c),c[c.length-1]):(c=[b.$default_proc()],e=f,e["$default_proc="].apply(e,c),c[c.length-1]),f}),a.defn(v,"$select",t=function(){var b,c,f,g=this,h=t.$$p,i=h||d;if(t.$$p=null,i===!1||i===d)return(b=(c=g).$enum_for,b.$$p=(f=function(){var a=f.$$s||this;return a.$size()},f.$$s=g,f),b).call(c,"select");for(var j,k,l,m=a.hash(),n=0,o=g.keys,p=o.length;p>n;n++){if(j=o[n],j.$$is_string?k=g.smap[j]:(k=j.value,j=j.key),l=i(j,k),l===e)return e.$v;l!==!1&&l!==d&&a.hash_put(m,j,k)}return m}),a.defn(v,"$select!",u=function(){var b,c,f,g=this,h=u.$$p,i=h||d;if(u.$$p=null,i===!1||i===d)return(b=(c=g).$enum_for,b.$$p=(f=function(){var a=f.$$s||this;return a.$size()},f.$$s=g,f),b).call(c,"select!");for(var j,k,l,m=d,n=0,o=g.keys,p=o.length;p>n;n++){if(j=o[n],j.$$is_string?k=g.smap[j]:(k=j.value,j=j.key),l=i(j,k),l===e)return e.$v;(l===!1||l===d)&&(void 0!==a.hash_delete(g,j)&&(p--,n--),m=g)}return m}),a.defn(v,"$shift",function(){var b,c=this,e=c.keys;return e.length>0?(b=e[0],b=b.$$is_string?b:b.key,[b,a.hash_delete(c,b)]):c.$default(d)}),a.alias(v,"size","length"),v.$alias_method("store","[]="),a.defn(v,"$to_a",function(){for(var a,b,c=this,d=[],e=0,f=c.keys,g=f.length;g>e;e++)a=f[e],a.$$is_string?b=c.smap[a]:(b=a.value,a=a.key),d.push([a,b]);return d}),a.defn(v,"$to_h",function(){var b=this;if(b.$$class===a.Hash)return b;var c=new a.Hash.$$alloc;return a.hash_init(c),a.hash_clone(b,c),c}),a.defn(v,"$to_hash",function(){var a=this;return a}),a.alias(v,"to_s","inspect"),a.alias(v,"update","merge!"),a.alias(v,"value?","has_value?"),a.alias(v,"values_at","indexes"),a.defn(v,"$values",function(){for(var a,b=this,c=[],d=0,e=b.keys,f=e.length;f>d;d++)a=e[d],a.$$is_string?c.push(b.smap[a]):c.push(a.value);return c}),d&&"values"}(c.base,null)},Opal.modules["corelib/number"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function h(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function i(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}a.dynamic_require_severity="warning";var j=a.top,k=a,l=a.nil,m=a.breaker,n=a.slice,o=a.klass;return a.add_stubs(["$require","$bridge","$raise","$class","$Float","$respond_to?","$coerce_to!","$__coerced__","$===","$!","$>","$**","$new","$<","$to_f","$==","$nan?","$infinite?","$enum_for","$+","$-","$gcd","$lcm","$/","$frexp","$to_i","$ldexp","$rationalize","$*","$<<","$to_r","$-@","$size","$<=","$>="]),j.$require("corelib/numeric"),function(j,k){function p(){}var q,r,s,t,u,v,w,x,y,z,A=p=o(j,k,"Number",p),B=(A.$$proto,A.$$scope);return B.get("Opal").$bridge(A,Number),Number.prototype.$$is_number=!0,a.defn(A,"$coerce",function(a){var b=this;if(a===l)b.$raise(B.get("TypeError"),"can't convert "+a.$class()+" into Float");else{if(a.$$is_string)return[b.$Float(a),b];if(a["$respond_to?"]("to_f"))return[B.get("Opal")["$coerce_to!"](a,B.get("Float"),"to_f"),b];if(a.$$is_number)return[a,b];b.$raise(B.get("TypeError"),"can't convert "+a.$class()+" into Float")}}),a.defn(A,"$__id__",function(){var a=this;return 2*a+1}),a.alias(A,"object_id","__id__"),a.defn(A,"$+",function(a){var b=this;return a.$$is_number?b+a:b.$__coerced__("+",a)}),a.defn(A,"$-",function(a){var b=this;return a.$$is_number?b-a:b.$__coerced__("-",a)}),a.defn(A,"$*",function(a){var b=this;return a.$$is_number?b*a:b.$__coerced__("*",a)}),a.defn(A,"$/",function(a){var b=this;return a.$$is_number?b/a:b.$__coerced__("/",a)}),a.alias(A,"fdiv","/"),a.defn(A,"$%",function(a){var b=this;return a.$$is_number?a==-(1/0)?a:0!=a?0>a||0>b?(b%a+a)%a:b%a:void b.$raise(B.get("ZeroDivisionError"),"divided by 0"):b.$__coerced__("%",a)}),a.defn(A,"$&",function(a){var b=this;return a.$$is_number?b&a:b.$__coerced__("&",a)}),a.defn(A,"$|",function(a){var b=this;return a.$$is_number?b|a:b.$__coerced__("|",a)}),a.defn(A,"$^",function(a){var b=this;return a.$$is_number?b^a:b.$__coerced__("^",a)}),a.defn(A,"$<",function(a){var b=this;return a.$$is_number?a>b:b.$__coerced__("<",a)}),a.defn(A,"$<=",function(a){var b=this;return a.$$is_number?a>=b:b.$__coerced__("<=",a)}),a.defn(A,"$>",function(a){var b=this;return a.$$is_number?b>a:b.$__coerced__(">",a)}),a.defn(A,"$>=",function(a){var b=this;return a.$$is_number?b>=a:b.$__coerced__(">=",a)}),a.defn(A,"$<=>",function(b){var c=this;try{return b.$$is_number?isNaN(c)||isNaN(b)?l:c>b?1:b>c?-1:0:c.$__coerced__("<=>",b)}catch(d){if(!a.rescue(d,[B.get("ArgumentError")]))throw d;try{return l}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(A,"$<<",function(a){var b=this;return a=B.get("Opal")["$coerce_to!"](a,B.get("Integer"),"to_int"),a>0?b<<a:b>>-a}),a.defn(A,"$>>",function(a){var b=this;return a=B.get("Opal")["$coerce_to!"](a,B.get("Integer"),"to_int"),a>0?b>>a:b<<-a}),a.defn(A,"$[]",function(a){var b=this;return a=B.get("Opal")["$coerce_to!"](a,B.get("Integer"),"to_int"),a<B.get("Integer").$$scope.get("MIN")||a>B.get("Integer").$$scope.get("MAX")?0:0>b?(~b+1>>a)%2:(b>>a)%2}),a.defn(A,"$+@",function(){var a=this;return+a}),a.defn(A,"$-@",function(){var a=this;return-a}),a.defn(A,"$~",function(){var a=this;return~a}),a.defn(A,"$**",function(a){var d,e,f,g=this;return(d=B.get("Integer")["$==="](a))===l||d.$$is_boolean&&1!=d?(d=(e=c(g,0))?(f=B.get("Float")["$==="](a))!==!1&&f!==l?f:B.get("Rational")["$==="](a):c(g,0))===l||d.$$is_boolean&&1!=d?(d=null!=a.$$is_number)===l||d.$$is_boolean&&1!=d?g.$__coerced__("**",a):Math.pow(g,a):B.get("Complex").$new(g,0)["$**"](a.$to_f()):(d=(e=B.get("Integer")["$==="](g)["$!"]())!==!1&&e!==l?e:b(a,0))===l||d.$$is_boolean&&1!=d?B.get("Rational").$new(g,1)["$**"](a):Math.pow(g,a)}),a.defn(A,"$==",function(a){var b=this;return a.$$is_number?b==Number(a):a["$respond_to?"]("==")?a["$=="](b):!1}),a.defn(A,"$abs",function(){var a=this;return Math.abs(a)}),a.defn(A,"$abs2",function(){var a=this;return Math.abs(a*a)}),a.defn(A,"$angle",function(){var a,b=this;return(a=b["$nan?"]())===l||a.$$is_boolean&&1!=a?0==b?1/b>0?0:Math.PI:0>b?Math.PI:0:b}),a.alias(A,"arg","angle"),a.alias(A,"phase","angle"),a.defn(A,"$bit_length",function(){var a,b=this;if(((a=B.get("Integer")["$==="](b))===l||a.$$is_boolean&&1!=a)&&b.$raise(B.get("NoMethodError").$new("undefined method `bit_length` for "+b+":Float","bit_length")),0===b||-1===b)return 0;for(var c=0,d=0>b?~b:b;0!=d;)c+=1,d>>>=1;return c}),a.defn(A,"$ceil",function(){var a=this;return Math.ceil(a)}),a.defn(A,"$chr",function(a){var b=this;return String.fromCharCode(b)}),a.defn(A,"$denominator",q=function(){var b,c,d=n.call(arguments,0),e=this,f=q.$$p;return q.$$p=null,(b=(c=e["$nan?"]())!==!1&&c!==l?c:e["$infinite?"]())===l||b.$$is_boolean&&1!=b?a.find_super_dispatcher(e,"denominator",q,f).apply(e,d):1}),a.defn(A,"$downto",r=function(a){var c,f,g,h=this,i=r.$$p,j=i||l;if(r.$$p=null,j===l)return(c=(f=h).$enum_for,c.$$p=(g=function(){var c,f=g.$$s||this;return((c=B.get("Numeric")["$==="](a))===l||c.$$is_boolean&&1!=c)&&f.$raise(B.get("ArgumentError"),"comparison of "+f.$class()+" with "+a.$class()+" failed"),b(a,f)?0:d(e(f,a),1)},g.$$s=h,g),c).call(f,"downto",a);a.$$is_number||h.$raise(B.get("ArgumentError"),"comparison of "+h.$class()+" with "+a.$class()+" failed");for(var k=h;k>=a;k--)if(j(k)===m)return m.$v;return h}),a.alias(A,"eql?","=="),a.defn(A,"$equal?",function(a){var b,c=this;return(b=c["$=="](a))!==!1&&b!==l?b:isNaN(c)&&isNaN(a)}),a.defn(A,"$even?",function(){var a=this;return a%2===0}),a.defn(A,"$floor",function(){var a=this;return Math.floor(a)}),a.defn(A,"$gcd",function(a){var b,c=this;((b=B.get("Integer")["$==="](a))===l||b.$$is_boolean&&1!=b)&&c.$raise(B.get("TypeError"),"not an integer");for(var d=Math.abs(c),e=Math.abs(a);d>0;){var f=d;d=e%d,e=f}return e}),a.defn(A,"$gcdlcm",function(a){var b=this;return[b.$gcd(),b.$lcm()]}),a.defn(A,"$hash",function(){var a=this;return"Numeric:"+a.toString()}),a.defn(A,"$integer?",function(){var a=this;return a%1===0}),a.defn(A,"$is_a?",s=function(b){var c,d,e=n.call(arguments,0),f=this,g=s.$$p;return s.$$p=null,((c=(d=b["$=="](B.get("Fixnum")))?B.get("Integer")["$==="](f):b["$=="](B.get("Fixnum")))===l||c.$$is_boolean&&1!=c)&&((c=(d=b["$=="](B.get("Integer")))?B.get("Integer")["$==="](f):b["$=="](B.get("Integer")))===l||c.$$is_boolean&&1!=c)&&((c=(d=b["$=="](B.get("Float")))?B.get("Float")["$==="](f):b["$=="](B.get("Float")))===l||c.$$is_boolean&&1!=c)?a.find_super_dispatcher(f,"is_a?",s,g).apply(f,e):!0}),a.alias(A,"kind_of?","is_a?"),a.defn(A,"$instance_of?",t=function(b){var c,d,e=n.call(arguments,0),f=this,g=t.$$p;return t.$$p=null,((c=(d=b["$=="](B.get("Fixnum")))?B.get("Integer")["$==="](f):b["$=="](B.get("Fixnum")))===l||c.$$is_boolean&&1!=c)&&((c=(d=b["$=="](B.get("Integer")))?B.get("Integer")["$==="](f):b["$=="](B.get("Integer")))===l||c.$$is_boolean&&1!=c)&&((c=(d=b["$=="](B.get("Float")))?B.get("Float")["$==="](f):b["$=="](B.get("Float")))===l||c.$$is_boolean&&1!=c)?a.find_super_dispatcher(f,"instance_of?",t,g).apply(f,e):!0}),a.defn(A,"$lcm",function(a){var b,c=this;return((b=B.get("Integer")["$==="](a))===l||b.$$is_boolean&&1!=b)&&c.$raise(B.get("TypeError"),"not an integer"),0==c||0==a?0:Math.abs(c*a/c.$gcd(a))}),a.alias(A,"magnitude","abs"),a.alias(A,"modulo","%"),a.defn(A,"$next",function(){var a=this;return a+1}),a.defn(A,"$nonzero?",function(){var a=this;return 0==a?l:a}),a.defn(A,"$numerator",u=function(){var b,c,d=n.call(arguments,0),e=this,f=u.$$p;return u.$$p=null,(b=(c=e["$nan?"]())!==!1&&c!==l?c:e["$infinite?"]())===l||b.$$is_boolean&&1!=b?a.find_super_dispatcher(e,"numerator",u,f).apply(e,d):e}),a.defn(A,"$odd?",function(){var a=this;return a%2!==0}),a.defn(A,"$ord",function(){var a=this;return a}),a.defn(A,"$pred",function(){var a=this;return a-1}),a.defn(A,"$quo",v=function(b){var c,d=n.call(arguments,0),e=this,g=v.$$p;return v.$$p=null,(c=B.get("Integer")["$==="](e))===l||c.$$is_boolean&&1!=c?f(e,b):a.find_super_dispatcher(e,"quo",v,g).apply(e,d)}),a.defn(A,"$rationalize",function(b){var c,d=this,f=l,h=l;return arguments.length>1&&d.$raise(B.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),(c=B.get("Integer")["$==="](d))===l||c.$$is_boolean&&1!=c?(c=d["$infinite?"]())===l||c.$$is_boolean&&1!=c?(c=d["$nan?"]())===l||c.$$is_boolean&&1!=c?(c=null==b)===l||c.$$is_boolean&&1!=c?d.$to_r().$rationalize(b):(c=a.to_ary(B.get("Math").$frexp(d)),f=null==c[0]?l:c[0],h=null==c[1]?l:c[1],f=B.get("Math").$ldexp(f,B.get("Float").$$scope.get("MANT_DIG")).$to_i(),h=e(h,B.get("Float").$$scope.get("MANT_DIG")),B.get("Rational").$new(g(2,f),1["$<<"](e(1,h))).$rationalize(B.get("Rational").$new(1,1["$<<"](e(1,h))))):d.$raise(B.get("FloatDomainError"),"NaN"):d.$raise(B.get("FloatDomainError"),"Infinity"):B.get("Rational").$new(d,1)}),a.defn(A,"$round",function(g){var j,k,m=this,n=l,o=l;if((j=B.get("Integer")["$==="](m))===l||j.$$is_boolean&&1!=j){if(k=m["$nan?"](),(j=k!==!1&&k!==l?null==g:k)===l||j.$$is_boolean&&1!=j||m.$raise(B.get("FloatDomainError"),"NaN"),g=B.get("Opal")["$coerce_to!"](g||0,B.get("Integer"),"to_int"),h(g,0))(j=m["$nan?"]())===l||j.$$is_boolean&&1!=j?(j=m["$infinite?"]())===l||j.$$is_boolean&&1!=j||m.$raise(B.get("FloatDomainError"),"Infinity"):m.$raise(B.get("RangeError"),"NaN");else{if(g["$=="](0))return Math.round(m);if((j=(k=m["$nan?"]())!==!1&&k!==l?k:m["$infinite?"]())!==l&&(!j.$$is_boolean||1==j))return m}return j=a.to_ary(B.get("Math").$frexp(m)),n=null==j[0]?l:j[0],o=null==j[1]?l:j[1],i(g,e(d(B.get("Float").$$scope.get("DIG"),2),function(){return b(o,0)?f(o,4):e(f(o,3),1)}()))?m:c(g,function(){return b(o,0)?d(f(o,3),1):f(o,4)}()["$-@"]())?0:Math.round(m*Math.pow(10,g))/Math.pow(10,g)}if((j=null==g)!==l&&(!j.$$is_boolean||1==j))return m;if(k=B.get("Float")["$==="](g),(j=k!==!1&&k!==l?g["$infinite?"]():k)===l||j.$$is_boolean&&1!=j||m.$raise(B.get("RangeError"),"Infinity"),g=B.get("Opal")["$coerce_to!"](g,B.get("Integer"),"to_int"),c(g,B.get("Integer").$$scope.get("MIN"))&&m.$raise(B.get("RangeError"),"out of bounds"),(j=g>=0)!==l&&(!j.$$is_boolean||1==j))return m;if(g=g["$-@"](),.415241*g-.125>m.$size())return 0;var p=Math.pow(10,g),q=Math.floor((Math.abs(q)+p/2)/p)*p;return 0>m?-q:q}),a.defn(A,"$step",w=function(a,b){var c,d=this,e=w.$$p,f=e||l;if(null==b&&(b=1),w.$$p=null,f===!1||f===l)return d.$enum_for("step",a,b);(c=0==b)===l||c.$$is_boolean&&1!=c||d.$raise(B.get("ArgumentError"),"step cannot be 0");var g=d;if(a===1/0||a===-(1/0))return f(g),d;if(b>0)for(;a>=g;)f(g),g+=b;else for(;g>=a;)f(g),g+=b;return d}),a.alias(A,"succ","next"),a.defn(A,"$times",x=function(){var a=this,b=x.$$p,c=b||l;if(x.$$p=null,c===!1||c===l)return a.$enum_for("times");for(var d=0;a>d;d++)if(c(d)===m)return m.$v;return a}),a.defn(A,"$to_f",function(){var a=this;return a}),a.defn(A,"$to_i",function(){var a=this;return parseInt(a,10)}),a.alias(A,"to_int","to_i"),a.defn(A,"$to_r",function(){var b,c=this,d=l,f=l;return(b=B.get("Integer")["$==="](c))===l||b.$$is_boolean&&1!=b?(b=a.to_ary(B.get("Math").$frexp(c)),d=null==b[0]?l:b[0],f=null==b[1]?l:b[1],d=B.get("Math").$ldexp(d,B.get("Float").$$scope.get("MANT_DIG")).$to_i(),f=e(f,B.get("Float").$$scope.get("MANT_DIG")),g(d,B.get("Float").$$scope.get("RADIX")["$**"](f)).$to_r()):B.get("Rational").$new(c,1)}),a.defn(A,"$to_s",function(a){var d,e,f=this;return null==a&&(a=10),(d=(e=c(a,2))!==!1&&e!==l?e:b(a,36))===l||d.$$is_boolean&&1!=d||f.$raise(B.get("ArgumentError"),"base must be between 2 and 36"),f.toString(a)}),a.alias(A,"truncate","to_i"),a.alias(A,"inspect","to_s"),a.defn(A,"$divmod",y=function(b){var c,d,e=n.call(arguments,0),f=this,g=y.$$p;return y.$$p=null,(c=(d=f["$nan?"]())!==!1&&d!==l?d:b["$nan?"]())===l||c.$$is_boolean&&1!=c?(c=f["$infinite?"]())===l||c.$$is_boolean&&1!=c?a.find_super_dispatcher(f,"divmod",y,g).apply(f,e):f.$raise(B.get("FloatDomainError"),"Infinity"):f.$raise(B.get("FloatDomainError"),"NaN")}),a.defn(A,"$upto",z=function(a){var b,f,g,h=this,i=z.$$p,j=i||l;if(z.$$p=null,j===l)return(b=(f=h).$enum_for,b.$$p=(g=function(){var b,f=g.$$s||this;return((b=B.get("Numeric")["$==="](a))===l||b.$$is_boolean&&1!=b)&&f.$raise(B.get("ArgumentError"),"comparison of "+f.$class()+" with "+a.$class()+" failed"),c(a,f)?0:d(e(a,f),1)},g.$$s=h,g),b).call(f,"upto",a);a.$$is_number||h.$raise(B.get("ArgumentError"),"comparison of "+h.$class()+" with "+a.$class()+" failed");for(var k=h;a>=k;k++)if(j(k)===m)return m.$v;return h}),a.defn(A,"$zero?",function(){var a=this;return 0==a}),a.defn(A,"$size",function(){return 4}),a.defn(A,"$nan?",function(){var a=this;return isNaN(a)}),a.defn(A,"$finite?",function(){var a=this;return a!=1/0&&a!=-(1/0)&&!isNaN(a)}),a.defn(A,"$infinite?",function(){var a=this;return a==1/0?1:a==-(1/0)?-1:l}),a.defn(A,"$positive?",function(){var a=this;return a==1/0||1/a>0}),a.defn(A,"$negative?",function(){var a=this;return a==-(1/0)||0>1/a}),l&&"negative?"}(k.base,k.get("Numeric")),a.cdecl(k,"Fixnum",k.get("Number")),function(b,c){function d(){}var e=d=o(b,c,"Integer",d),f=(e.$$proto,e.$$scope);return a.defs(e,"$===",function(a){return a.$$is_number?a%1===0:!1}),a.cdecl(f,"MAX",Math.pow(2,30)-1),a.cdecl(f,"MIN",-Math.pow(2,30))}(k.base,k.get("Numeric")),function(b,c){function d(){}var e,f=d=o(b,c,"Float",d),g=(f.$$proto,f.$$scope);return a.defs(f,"$===",function(a){return!!a.$$is_number}),a.cdecl(g,"INFINITY",1/0),a.cdecl(g,"MAX",Number.MAX_VALUE),a.cdecl(g,"MIN",Number.MIN_VALUE),a.cdecl(g,"NAN",NaN),a.cdecl(g,"DIG",15),a.cdecl(g,"MANT_DIG",53),a.cdecl(g,"RADIX",2),(e="undefined"!=typeof Number.EPSILON)===l||e.$$is_boolean&&1!=e?a.cdecl(g,"EPSILON",2.220446049250313e-16):a.cdecl(g,"EPSILON",Number.EPSILON)}(k.base,k.get("Numeric"))},Opal.modules["corelib/range"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="warning";var e=a.top,f=a,g=a.nil,h=a.breaker,i=a.slice,j=a.klass;return a.add_stubs(["$require","$include","$attr_reader","$<=>","$raise","$include?","$<=","$<","$enum_for","$succ","$!","$==","$===","$exclude_end?","$eql?","$begin","$end","$-","$abs","$to_i","$inspect"]),e.$require("corelib/enumerable"),function(e,f){function k(){}var l,m,n,o=k=j(e,f,"Range",k),p=o.$$proto,q=o.$$scope;return p.begin=p.exclude=p.end=g,o.$include(q.get("Enumerable")),p.$$is_range=!0,o.$attr_reader("begin","end"),a.defn(o,"$initialize",function(a,b,c){var d,e=this;return null==c&&(c=!1),((d=a["$<=>"](b))===g||d.$$is_boolean&&1!=d)&&e.$raise(q.get("ArgumentError")),e.begin=a,e.end=b,e.exclude=c}),a.defn(o,"$==",function(a){var b=this;return a.$$is_range?b.exclude===a.exclude&&b.begin==a.begin&&b.end==a.end:!1}),a.defn(o,"$===",function(a){var b=this;return b["$include?"](a)}),a.defn(o,"$cover?",function(a){var d,e,f=this;return(d=b(f.begin,a))?function(){return(e=f.exclude)===g||e.$$is_boolean&&1!=e?b(a,f.end):c(a,f.end)}():b(f.begin,a)}),a.defn(o,"$each",l=function(){var b,d,e=this,f=l.$$p,i=f||g,j=g,k=g;if(l.$$p=null,i===g)return e.$enum_for("each");for(j=e.begin,k=e.end;c(j,k);){if(a.yield1(i,j)===h)return h.$v;j=j.$succ()}return d=e.exclude["$!"](),(b=d!==!1&&d!==g?j["$=="](k):d)===g||b.$$is_boolean&&1!=b||a.yield1(i,j)!==h?e:h.$v}),a.defn(o,"$eql?",function(a){var b,c,d=this;return(b=q.get("Range")["$==="](a))===g||b.$$is_boolean&&1!=b?!1:(c=d.exclude["$==="](a["$exclude_end?"]()),b=c!==!1&&c!==g?d.begin["$eql?"](a.$begin()):c,b!==!1&&b!==g?d.end["$eql?"](a.$end()):b)}),a.defn(o,"$exclude_end?",function(){var a=this;return a.exclude}),a.alias(o,"first","begin"),a.alias(o,"include?","cover?"),a.alias(o,"last","end"),a.defn(o,"$max",m=function(){var b=i.call(arguments,0),c=this,d=m.$$p,e=d||g;return m.$$p=null,e!==g?a.find_super_dispatcher(c,"max",m,d).apply(c,b):c.exclude?c.end-1:c.end}),a.alias(o,"member?","cover?"),a.defn(o,"$min",n=function(){var b=i.call(arguments,0),c=this,d=n.$$p,e=d||g;return n.$$p=null,e!==g?a.find_super_dispatcher(c,"min",n,d).apply(c,b):c.begin}),a.alias(o,"member?","include?"),a.defn(o,"$size",function(){var a,b,e=this,f=g,h=g,i=g;return f=e.begin,h=e.end,(a=e.exclude)===g||a.$$is_boolean&&1!=a||(h=d(h,1)),b=q.get("Numeric")["$==="](f),(a=b!==!1&&b!==g?q.get("Numeric")["$==="](h):b)===g||a.$$is_boolean&&1!=a?g:c(h,f)?0:(i=q.get("Float").$$scope.get("INFINITY"),(a=(b=i["$=="](f.$abs()))!==!1&&b!==g?b:h.$abs()["$=="](i))===g||a.$$is_boolean&&1!=a?(Math.abs(h-f)+1).$to_i():i)}),a.defn(o,"$step",function(a){var b=this;return null==a&&(a=1),b.$raise(q.get("NotImplementedError"))}),a.defn(o,"$to_s",function(){var a=this;return a.begin.$inspect()+(a.exclude?"...":"..")+a.end.$inspect()}),a.alias(o,"inspect","to_s")}(f.base,null)},Opal.modules["corelib/proc"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return a.add_stubs(["$raise","$coerce_to!"]),function(b,g){function h(){}var i,j,k=h=f(b,g,"Proc",h),l=k.$$proto,m=k.$$scope;return l.$$is_proc=!0,l.$$is_lambda=!1,a.defs(k,"$new",i=function(){var a=this,b=i.$$p,d=b||c;return i.$$p=null,d!==!1&&d!==c||a.$raise(m.get("ArgumentError"),"tried to create a Proc object without a block"),d}),a.defn(k,"$call",j=function(){var b=this,e=j.$$p,f=e||c,g=arguments.length-0;0>g&&(g=0);for(var h=new Array(g),i=0;g>i;i++)h[i]=arguments[i+0];j.$$p=null,f!==c&&(b.$$p=f);var k;return k=b.$$is_lambda?b.apply(null,h):a.yieldX(b,h),k===d?d.$v:k}),a.alias(k,"[]","call"),a.alias(k,"===","call"),a.alias(k,"yield","call"),a.defn(k,"$to_proc",function(){var a=this;return a}),a.defn(k,"$lambda?",function(){var a=this;return!!a.$$is_lambda}),a.defn(k,"$arity",function(){var a=this;return a.$$is_curried?-1:a.$$arity?a.$$arity:a.length}),a.defn(k,"$source_location",function(){var a=this;return a.$$is_curried?c:c}),a.defn(k,"$binding",function(){var a=this;return a.$$is_curried&&a.$raise(m.get("ArgumentError"),"Can't create Binding"),c}),a.defn(k,"$parameters",function(){var a=this;return a.$$is_curried?[["rest"]]:c}),a.defn(k,"$curry",function(a){function b(){var d,f=e.call(arguments),g=f.length;return g>a&&c.$$is_lambda&&!c.$$is_curried&&c.$raise(m.get("ArgumentError"),"wrong number of arguments ("+g+" for "+a+")"),g>=a?c.$call.apply(c,f):(d=function(){return b.apply(null,f.concat(e.call(arguments)))},d.$$is_lambda=c.$$is_lambda,d.$$is_curried=!0,d)}var c=this;return void 0===a?a=c.length:(a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int"),c.$$is_lambda&&a!==c.length&&c.$raise(m.get("ArgumentError"),"wrong number of arguments ("+a+" for "+c.length+")")),b.$$is_lambda=c.$$is_lambda,b.$$is_curried=!0,b}),a.defn(k,"$dup",function(){var a=this,b=a.$$original_proc||a,c=function(){return b.apply(this,arguments)};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);return c}),a.alias(k,"clone","dup")}(b.base,Function)},Opal.modules["corelib/method"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice),e=a.klass;return a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]),function(b,f){function g(){}var h,i=g=e(b,f,"Method",g),j=i.$$proto,k=i.$$scope;return j.method=j.receiver=j.owner=j.name=c,i.$attr_reader("owner","receiver","name"),a.defn(i,"$initialize",function(a,b,c){var d=this;return d.receiver=a,d.owner=a.$class(),d.name=c,d.method=b}),a.defn(i,"$arity",function(){var a=this;return a.method.$arity()}),a.defn(i,"$call",h=function(){var a=this,b=h.$$p,d=b||c,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),g=0;e>g;g++)f[g]=arguments[g+0];return h.$$p=null,a.method.$$p=d,a.method.apply(a.receiver,f)}),a.alias(i,"[]","call"),a.defn(i,"$unbind",function(){var a=this;return k.get("UnboundMethod").$new(a.owner,a.method,a.name)}),a.defn(i,"$to_proc",function(){var a=this,b=function(){return a.$call.apply(a,d.call(arguments))};return b.$$unbound=a.method,b.$$is_lambda=!0,b}),a.defn(i,"$inspect",function(){var a=this;return"#<Method: "+a.receiver.$class()+"#"+a.name+">"}),c&&"inspect"}(b.base,null),function(b,d){function f(){}var g=f=e(b,d,"UnboundMethod",f),h=g.$$proto,i=g.$$scope;return h.method=h.name=h.owner=c,g.$attr_reader("owner","name"),a.defn(g,"$initialize",function(a,b,c){var d=this;return d.owner=a,d.method=b,d.name=c}),a.defn(g,"$arity",function(){var a=this;return a.method.$arity()}),a.defn(g,"$bind",function(a){var b=this;return i.get("Method").$new(a,b.method,b.name)}),a.defn(g,"$inspect",function(){var a=this;return"#<UnboundMethod: "+a.owner.$name()+"#"+a.name+">"}),c&&"inspect"}(b.base,null)},Opal.modules["corelib/variables"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.gvars),e=a.hash2;return a.add_stubs(["$new"]),d["&"]=d["~"]=d["`"]=d["'"]=c,d.LOADED_FEATURES=d['"']=a.loaded_features,d.LOAD_PATH=d[":"]=[],d["/"]="\n",d[","]=c,a.cdecl(b,"ARGV",[]),a.cdecl(b,"ARGF",b.get("Object").$new()),a.cdecl(b,"ENV",e([],{})),d.VERBOSE=!1,d.DEBUG=!1,d.SAFE=0},Opal.modules["opal/mini"]=function(a){a.dynamic_require_severity="warning";var b=a.top;a.nil,a.breaker,a.slice;return a.add_stubs(["$require"]),b.$require("opal/base"),b.$require("corelib/nil"),b.$require("corelib/boolean"),b.$require("corelib/string"),b.$require("corelib/comparable"),b.$require("corelib/enumerable"),b.$require("corelib/enumerator"),b.$require("corelib/array"),b.$require("corelib/hash"),b.$require("corelib/number"),b.$require("corelib/range"),b.$require("corelib/proc"),b.$require("corelib/method"),b.$require("corelib/regexp"),b.$require("corelib/variables")},Opal.modules["corelib/array/inheritance"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var e=(a.top,a),f=a.nil,g=(a.breaker,a.slice),h=a.klass;return a.add_stubs(["$new","$allocate","$initialize","$to_proc","$__send__","$clone","$respond_to?","$==","$eql?","$inspect","$hash","$*","$class","$slice","$uniq","$flatten","$-","$+"]),function(b,c){function d(){}var e=d=h(b,c,"Array",d),g=(e.$$proto,e.$$scope);return a.defs(e,"$inherited",function(a){var b=f;b=g.get("Class").$new(g.get("Array").$$scope.get("Wrapper")),a.$$proto=b.$$proto,a.$$proto.$$class=a,a.$$alloc=b.$$alloc,a.$$parent=g.get("Array").$$scope.get("Wrapper"),a.$allocate=b.$allocate,a.$new=b.$new,a["$[]"]=b["$[]"]}),f&&"inherited"}(e.base,null),function(e,i){function j(){}var k,l,m,n,o,p=j=h(e,i,"Wrapper",j),q=p.$$proto,r=p.$$scope;return q.literal=f,q.$$is_array=!0,a.defs(p,"$allocate",k=function(b){var c=this,d=(k.$$p,f);return null==b&&(b=[]),k.$$p=null,d=a.find_super_dispatcher(c,"allocate",k,null,j).apply(c,[]),d.literal=b,d}),a.defs(p,"$new",l=function(){var b,c,d=this,e=l.$$p,g=e||f,h=f,i=arguments.length-0;0>i&&(i=0);for(var j=new Array(i),k=0;i>k;k++)j[k]=arguments[k+0];return l.$$p=null,h=d.$allocate(),(b=(c=h).$initialize,b.$$p=g.$to_proc(),b).apply(c,a.to_a(j)),h}),a.defs(p,"$[]",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$allocate(c)}),a.defn(p,"$initialize",m=function(){var b,c,d=this,e=m.$$p,g=e||f,h=arguments.length-0;0>h&&(h=0);for(var i=new Array(h),j=0;h>j;j++)i[j]=arguments[j+0];return m.$$p=null,d.literal=(b=(c=r.get("Array")).$new,b.$$p=g.$to_proc(),b).apply(c,a.to_a(i))}),a.defn(p,"$method_missing",n=function(){var b,c,d=this,e=n.$$p,g=e||f,h=f,i=arguments.length-0;0>i&&(i=0);for(var j=new Array(i),k=0;i>k;k++)j[k]=arguments[k+0];return n.$$p=null,h=(b=(c=d.literal).$__send__,b.$$p=g.$to_proc(),b).apply(c,a.to_a(j)),(b=h===d.literal)===f||b.$$is_boolean&&1!=b?h:d}),a.defn(p,"$initialize_copy",function(a){var b=this;return b.literal=a.literal.$clone()}),a.defn(p,"$respond_to?",o=function(b){var c,d=g.call(arguments,0),e=this,h=o.$$p;return o.$$p=null,(c=a.find_super_dispatcher(e,"respond_to?",o,h).apply(e,d))!==!1&&c!==f?c:e.literal["$respond_to?"](b)}),a.defn(p,"$==",function(a){var b=this;return b.literal["$=="](a)}),a.defn(p,"$eql?",function(a){var b=this;return b.literal["$eql?"](a)}),a.defn(p,"$to_a",function(){var a=this;return a.literal}),a.defn(p,"$to_ary",function(){var a=this;return a}),a.defn(p,"$inspect",function(){var a=this;return a.literal.$inspect()}),a.defn(p,"$hash",function(){var a=this;return a.literal.$hash()}),a.defn(p,"$*",function(a){var c=this,d=b(c.literal,a);return d.$$is_array?c.$class().$allocate(d):d}),a.defn(p,"$[]",function(a,b){var c=this,d=c.literal.$slice(a,b);return d.$$is_array&&(a.$$is_range||void 0!==b)?c.$class().$allocate(d):d}),a.alias(p,"slice","[]"),a.defn(p,"$uniq",function(){var a=this;return a.$class().$allocate(a.literal.$uniq())}),a.defn(p,"$flatten",function(a){var b=this;return b.$class().$allocate(b.literal.$flatten(a))}),a.defn(p,"$-",function(a){var b=this;return c(b.literal,a)}),a.defn(p,"$+",function(a){var b=this;return d(b.literal,a)}),f&&"+"}(e.get("Array"),null)},Opal.modules["corelib/string/inheritance"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="warning";var d=a.top,e=a,f=a.nil,g=a.breaker,h=a.slice,i=a.klass,j=a.gvars;return a.add_stubs(["$require","$new","$allocate","$initialize","$to_proc","$__send__","$class","$clone","$respond_to?","$==","$inspect","$+","$*","$map","$split","$enum_for","$each_line","$to_a","$%"]),d.$require("corelib/string"),function(b,c){function d(){}var e=d=i(b,c,"String",d),g=(e.$$proto,e.$$scope);return a.defs(e,"$inherited",function(a){var b=f;b=g.get("Class").$new(g.get("String").$$scope.get("Wrapper")),a.$$proto=b.$$proto,a.$$proto.$$class=a,a.$$alloc=b.$$alloc,a.$$parent=g.get("String").$$scope.get("Wrapper"),a.$allocate=b.$allocate,a.$new=b.$new}),f&&"inherited"}(e.base,null),function(d,e){function k(){}var l,m,n,o,p,q,r=k=i(d,e,"Wrapper",k),s=r.$$proto;r.$$scope;return s.literal=f,s.$$is_string=!0,a.defs(r,"$allocate",l=function(b){var c=this,d=(l.$$p,f);return null==b&&(b=""),l.$$p=null,d=a.find_super_dispatcher(c,"allocate",l,null,k).apply(c,[]),d.literal=b,d}),a.defs(r,"$new",m=function(){var b,c,d=this,e=m.$$p,g=e||f,h=f,i=arguments.length-0;0>i&&(i=0);for(var j=new Array(i),k=0;i>k;k++)j[k]=arguments[k+0];return m.$$p=null,h=d.$allocate(),(b=(c=h).$initialize,b.$$p=g.$to_proc(),b).apply(c,a.to_a(j)),h}),a.defs(r,"$[]",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$allocate(c)}),a.defn(r,"$initialize",function(a){var b=this;return null==a&&(a=""),b.literal=a}),a.defn(r,"$method_missing",n=function(){var b,c,d=this,e=n.$$p,g=e||f,h=f,i=arguments.length-0;0>i&&(i=0);for(var j=new Array(i),k=0;i>k;k++)j[k]=arguments[k+0];return n.$$p=null,h=(b=(c=d.literal).$__send__,b.$$p=g.$to_proc(),b).apply(c,a.to_a(j)),(b=null!=h.$$is_string)===f||b.$$is_boolean&&1!=b?h:(b=h==d.literal)===f||b.$$is_boolean&&1!=b?d.$class().$allocate(h):d}),a.defn(r,"$initialize_copy",function(a){var b=this;return b.literal=a.literal.$clone()}),a.defn(r,"$respond_to?",o=function(b){var c,d=h.call(arguments,0),e=this,g=o.$$p;return o.$$p=null,(c=a.find_super_dispatcher(e,"respond_to?",o,g).apply(e,d))!==!1&&c!==f?c:e.literal["$respond_to?"](b)}),a.defn(r,"$==",function(a){var b=this;return b.literal["$=="](a)}),a.alias(r,"eql?","=="),a.alias(r,"===","=="),a.defn(r,"$to_s",function(){var a=this;return a.literal}),a.alias(r,"to_str","to_s"),a.defn(r,"$inspect",function(){var a=this;return a.literal.$inspect()}),a.defn(r,"$+",function(a){var c=this;return b(c.literal,a)}),a.defn(r,"$*",function(a){var b=this,d=c(b.literal,a);return d.$$is_string?b.$class().$allocate(d):d}),a.defn(r,"$split",function(a,b){var c,d,e,g=this;return(c=(d=g.literal.$split(a,b)).$map,c.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=f),b.$class().$allocate(a)},e.$$s=g,e),c).call(d)}),a.defn(r,"$replace",function(a){var b=this;return b.literal=a}),a.defn(r,"$each_line",p=function(b){var c,d,e,h=this,i=p.$$p,k=i||f;return null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),p.$$p=null,k===f?h.$enum_for("each_line",b):(c=(d=h.literal).$each_line,c.$$p=(e=function(b){var c,d=e.$$s||this;return null==b&&(b=f),c=a.yield1(k,d.$class().$allocate(b)),c===g?c:c},e.$$s=h,e),c).call(d,b)}),a.defn(r,"$lines",q=function(a){var b,c,d=this,e=q.$$p,g=e||f,h=f;return null==j["/"]&&(j["/"]=f),null==a&&(a=j["/"]),q.$$p=null,h=(b=(c=d).$each_line,b.$$p=g.$to_proc(),b).call(c,a),g!==!1&&g!==f?d:h.$to_a()}),a.defn(r,"$%",function(a){var b=this;return b.literal["$%"](a)}),f&&"%"}(e.get("String"),null)},Opal.modules["corelib/string/encoding"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var c,d,e,f,g,h,i,j=a.top,k=a,l=a.nil,m=a.breaker,n=(a.slice,
a.klass),o=a.hash2;return a.add_stubs(["$require","$+","$[]","$new","$to_proc","$each","$const_set","$sub","$upcase","$const_get","$===","$==","$name","$include?","$names","$constants","$raise","$attr_accessor","$attr_reader","$register","$length","$bytes","$to_a","$each_byte","$bytesize","$enum_for","$force_encoding","$dup","$coerce_to!","$find","$nil?","$getbyte"]),j.$require("corelib/string"),function(c,d){function e(){}var f,g=e=n(c,d,"Encoding",e),h=g.$$proto,i=g.$$scope;return h.ascii=h.dummy=h.name=l,a.defs(g,"$register",f=function(a,c){var d,e,g,h,j=this,k=f.$$p,m=k||l,n=l,p=l;return null==c&&(c=o([],{})),f.$$p=null,n=b([a],(d=c["$[]"]("aliases"))!==!1&&d!==l?d:[]),p=(d=(e=i.get("Class")).$new,d.$$p=m.$to_proc(),d).call(e,j).$new(a,n,(d=c["$[]"]("ascii"))!==!1&&d!==l?d:!1,(d=c["$[]"]("dummy"))!==!1&&d!==l?d:!1),(d=(g=n).$each,d.$$p=(h=function(a){var b=h.$$s||this;return null==a&&(a=l),b.$const_set(a.$sub("-","_"),p)},h.$$s=j,h),d).call(g)}),a.defs(g,"$find",function(b){try{var c,d,e,f=this,g=l;return g=b.$upcase(),(c=(d=f.$constants()).$each,c.$$p=(e=function(b){var c,d,f=e.$$s||this,h=l;return null==b&&(b=l),h=f.$const_get(b),(c=i.get("Encoding")["$==="](h))===l||c.$$is_boolean&&1!=c?l:(c=(d=h.$name()["$=="](g))!==!1&&d!==l?d:h.$names()["$include?"](g))===l||c.$$is_boolean&&1!=c?l:void a.ret(h)},e.$$s=f,e),c).call(d),f.$raise(i.get("ArgumentError"),"unknown encoding name - "+b)}catch(h){if(h===a.returner)return h.$v;throw h}}),function(a){a.$$scope,a.$$proto;return a.$attr_accessor("default_external")}(a.get_singleton_class(g)),g.$attr_reader("name","names"),a.defn(g,"$initialize",function(a,b,c,d){var e=this;return e.name=a,e.names=b,e.ascii=c,e.dummy=d}),a.defn(g,"$ascii_compatible?",function(){var a=this;return a.ascii}),a.defn(g,"$dummy?",function(){var a=this;return a.dummy}),a.defn(g,"$to_s",function(){var a=this;return a.name}),a.defn(g,"$inspect",function(){var a,b=this;return"#<Encoding:"+b.name+function(){return(a=b.dummy)===l||a.$$is_boolean&&1!=a?l:" (dummy)"}()+">"}),a.defn(g,"$each_byte",function(){var a=this;return a.$raise(i.get("NotImplementedError"))}),a.defn(g,"$getbyte",function(){var a=this;return a.$raise(i.get("NotImplementedError"))}),a.defn(g,"$bytesize",function(){var a=this;return a.$raise(i.get("NotImplementedError"))}),function(a,b){function c(){}var d=c=n(a,b,"EncodingError",c);d.$$proto,d.$$scope;return l}(i.base,i.get("StandardError")),function(a,b){function c(){}var d=c=n(a,b,"CompatibilityError",c);d.$$proto,d.$$scope;return l}(i.base,i.get("EncodingError"))}(k.base,null),(c=(d=k.get("Encoding")).$register,c.$$p=(e=function(){var b,c=e.$$s||this;return a.def(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);if(127>=i)(d=a.yield1(f,i))===m?m.$v:d;else for(var j=encodeURIComponent(c.charAt(g)).substr(1).split("%"),k=0,n=j.length;n>k;k++)(d=a.yield1(f,parseInt(j[k],16)))===m?m.$v:d}}),a.def(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},e.$$s=j,e),c).call(d,"UTF-8",o(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(c=(f=k.get("Encoding")).$register,c.$$p=(g=function(){var b,c=g.$$s||this;return a.def(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);(d=a.yield1(f,255&i))===m?m.$v:d,(d=a.yield1(f,i>>8))===m?m.$v:d}}),a.def(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},g.$$s=j,g),c).call(f,"UTF-16LE"),(c=(h=k.get("Encoding")).$register,c.$$p=(i=function(){var b,c=i.$$s||this;return a.def(c,"$each_byte",b=function(c){var d,e=b.$$p,f=e||l;b.$$p=null;for(var g=0,h=c.length;h>g;g++)(d=a.yield1(f,255&c.charCodeAt(g)))===m?m.$v:d}),a.def(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),l&&"bytesize"},i.$$s=j,i),c).call(h,"ASCII-8BIT",o(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(b,c){function d(){}var e,f=d=n(b,c,"String",d),g=f.$$proto,h=f.$$scope;return g.encoding=l,String.prototype.encoding=h.get("Encoding").$$scope.get("UTF_16LE"),a.defn(f,"$bytes",function(){var a=this;return a.$each_byte().$to_a()}),a.defn(f,"$bytesize",function(){var a=this;return a.encoding.$bytesize(a)}),a.defn(f,"$each_byte",e=function(){var a,b,c=this,d=e.$$p,f=d||l;return e.$$p=null,f===l?c.$enum_for("each_byte"):((a=(b=c.encoding).$each_byte,a.$$p=f.$to_proc(),a).call(b,c),c)}),a.defn(f,"$encode",function(a){var b=this;return b.$dup().$force_encoding(a)}),a.defn(f,"$encoding",function(){var a=this;return a.encoding}),a.defn(f,"$force_encoding",function(a){var b,c=this;if(a=h.get("Opal")["$coerce_to!"](a,h.get("String"),"to_str"),a=h.get("Encoding").$find(a),a["$=="](c.encoding))return c;(b=a["$nil?"]())===l||b.$$is_boolean&&1!=b||c.$raise(h.get("ArgumentError"),"unknown encoding name - "+a);var d=new String(c);return d.encoding=a,d}),a.defn(f,"$getbyte",function(a){var b=this;return b.encoding.$getbyte(b,a)}),l&&"getbyte"}(k.base,null)},Opal.modules["corelib/math"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="warning";var d=(a.top,a),e=a.nil,f=(a.breaker,a.slice,a.module);return a.add_stubs(["$new","$raise","$Float","$type_error","$Integer","$module_function","$checked","$float!","$===","$gamma","$-","$integer!","$/","$infinite?"]),function(d){var g,h=f(d,"Math"),i=(h.$$proto,h.$$scope);a.cdecl(i,"E",Math.E),a.cdecl(i,"PI",Math.PI),a.cdecl(i,"DomainError",i.get("Class").$new(i.get("StandardError"))),a.defs(h,"$checked",function(a){var b=this,c=arguments.length-1;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+1];if(isNaN(d[0])||2==d.length&&isNaN(d[1]))return NaN;var f=Math[a].apply(null,d);return isNaN(f)&&b.$raise(i.get("DomainError"),'Numerical argument is out of domain - "'+a+'"'),f}),a.defs(h,"$float!",function(b){var c=this;try{return c.$Float(b)}catch(d){if(!a.rescue(d,[i.get("ArgumentError")]))throw d;try{return c.$raise(i.get("Opal").$type_error(b,i.get("Float")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defs(h,"$integer!",function(b){var c=this;try{return c.$Integer(b)}catch(d){if(!a.rescue(d,[i.get("ArgumentError")]))throw d;try{return c.$raise(i.get("Opal").$type_error(b,i.get("Integer")))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),h.$module_function(),a.defn(h,"$acos",function(a){return i.get("Math").$checked("acos",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.acosh)===e||g.$$is_boolean&&1!=g)&&(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))}),a.defn(h,"$acosh",function(a){return i.get("Math").$checked("acosh",i.get("Math")["$float!"](a))}),a.defn(h,"$asin",function(a){return i.get("Math").$checked("asin",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.asinh)===e||g.$$is_boolean&&1!=g)&&(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))}),a.defn(h,"$asinh",function(a){return i.get("Math").$checked("asinh",i.get("Math")["$float!"](a))}),a.defn(h,"$atan",function(a){return i.get("Math").$checked("atan",i.get("Math")["$float!"](a))}),a.defn(h,"$atan2",function(a,b){return i.get("Math").$checked("atan2",i.get("Math")["$float!"](a),i.get("Math")["$float!"](b))}),((g="undefined"!=typeof Math.atanh)===e||g.$$is_boolean&&1!=g)&&(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))}),a.defn(h,"$atanh",function(a){return i.get("Math").$checked("atanh",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.cbrt)===e||g.$$is_boolean&&1!=g)&&(Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,c=0;.125>b;)b*=8,c--;for(;b>1;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;c>0;)b*=2,c--;return b=2/3*b+1/3*a/(b*b),b=2/3*b+1/3*a/(b*b),b=2/3*b+1/3*a/(b*b),b=2/3*b+1/3*a/(b*b)}),a.defn(h,"$cbrt",function(a){return i.get("Math").$checked("cbrt",i.get("Math")["$float!"](a))}),a.defn(h,"$cos",function(a){return i.get("Math").$checked("cos",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.cosh)===e||g.$$is_boolean&&1!=g)&&(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2}),a.defn(h,"$cosh",function(a){return i.get("Math").$checked("cosh",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.erf)===e||g.$$is_boolean&&1!=g)&&(Math.erf=function(a){var b=.254829592,c=-.284496736,d=1.421413741,e=-1.453152027,f=1.061405429,g=.3275911,h=1;0>a&&(h=-1),a=Math.abs(a);var i=1/(1+g*a),j=1-((((f*i+e)*i+d)*i+c)*i+b)*i*Math.exp(-a*a);return h*j}),a.defn(h,"$erf",function(a){return i.get("Math").$checked("erf",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.erfc)===e||g.$$is_boolean&&1!=g)&&(Math.erfc=function(a){var b=Math.abs(a),c=1/(.5*b+1),d=.17087277*c+-.82215223,e=c*d+1.48851587,f=c*e+-1.13520398,g=c*f+.27886807,h=c*g+-.18628806,i=c*h+.09678418,j=c*i+.37409196,k=c*j+1.00002368,l=c*k,m=-b*b-1.26551223+l,n=c*Math.exp(m);return 0>a?2-n:n}),a.defn(h,"$erfc",function(a){return i.get("Math").$checked("erfc",i.get("Math")["$float!"](a))}),a.defn(h,"$exp",function(a){return i.get("Math").$checked("exp",i.get("Math")["$float!"](a))}),a.defn(h,"$frexp",function(a){if(a=i.get("Math")["$float!"](a),isNaN(a))return[NaN,0];var b=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1,c=a/Math.pow(2,b);return[c,b]}),a.defn(h,"$gamma",function(a){var c=this;a=i.get("Math")["$float!"](a);var d,e,f,g,h,j,k,l,m,n=4.7421875,o=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-(1/0);if((-1===a||a===-(1/0))&&c.$raise(i.get("DomainError"),'Numerical argument is out of domain - "gamma"'),i.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?1/0:NaN;if(a>171)return 1/0;for(g=a-2,h=a-1;g>1;)h*=g,g--;return 0==h&&(h=1),h}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*i.get("Math").$gamma(b(1,a)));if(a>=171.35)return 1/0;if(a>85)return j=a*a,k=j*a,l=k*a,m=l*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*j)-139/(51840*k)-571/(2488320*l)+163879/(209018880*m)+5246819/(75246796800*m*a));for(a-=1,f=o[0],d=1;d<o.length;++d)f+=o[d]/(a+d);return e=a+n+.5,Math.sqrt(2*Math.PI)*Math.pow(e,a+.5)*Math.exp(-e)*f}),((g="undefined"!=typeof Math.hypot)===e||g.$$is_boolean&&1!=g)&&(Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)}),a.defn(h,"$hypot",function(a,b){return i.get("Math").$checked("hypot",i.get("Math")["$float!"](a),i.get("Math")["$float!"](b))}),a.defn(h,"$ldexp",function(a,b){var c=this;return a=i.get("Math")["$float!"](a),b=i.get("Math")["$integer!"](b),isNaN(b)&&c.$raise(i.get("RangeError"),"float NaN out of range of integer"),a*Math.pow(2,b)}),a.defn(h,"$lgamma",function(a){return-1==a?[1/0,1]:[Math.log(Math.abs(i.get("Math").$gamma(a))),i.get("Math").$gamma(a)<0?-1:1]}),a.defn(h,"$log",function(a,b){var d,f=this;return(d=i.get("String")["$==="](a))===e||d.$$is_boolean&&1!=d||f.$raise(i.get("Opal").$type_error(a,i.get("Float"))),(d=null==b)===e||d.$$is_boolean&&1!=d?((d=i.get("String")["$==="](b))===e||d.$$is_boolean&&1!=d||f.$raise(i.get("Opal").$type_error(b,i.get("Float"))),c(i.get("Math").$checked("log",i.get("Math")["$float!"](a)),i.get("Math").$checked("log",i.get("Math")["$float!"](b)))):i.get("Math").$checked("log",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.log10)===e||g.$$is_boolean&&1!=g)&&(Math.log10=function(a){return Math.log(a)/Math.LN10}),a.defn(h,"$log10",function(a){var b,c=this;return(b=i.get("String")["$==="](a))===e||b.$$is_boolean&&1!=b||c.$raise(i.get("Opal").$type_error(a,i.get("Float"))),i.get("Math").$checked("log10",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.log2)===e||g.$$is_boolean&&1!=g)&&(Math.log2=function(a){return Math.log(a)/Math.LN2}),a.defn(h,"$log2",function(a){var b,c=this;return(b=i.get("String")["$==="](a))===e||b.$$is_boolean&&1!=b||c.$raise(i.get("Opal").$type_error(a,i.get("Float"))),i.get("Math").$checked("log2",i.get("Math")["$float!"](a))}),a.defn(h,"$sin",function(a){return i.get("Math").$checked("sin",i.get("Math")["$float!"](a))}),((g="undefined"!=typeof Math.sinh)===e||g.$$is_boolean&&1!=g)&&(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2}),a.defn(h,"$sinh",function(a){return i.get("Math").$checked("sinh",i.get("Math")["$float!"](a))}),a.defn(h,"$sqrt",function(a){return i.get("Math").$checked("sqrt",i.get("Math")["$float!"](a))}),a.defn(h,"$tan",function(a){var b;return a=i.get("Math")["$float!"](a),(b=a["$infinite?"]())===e||b.$$is_boolean&&1!=b?i.get("Math").$checked("tan",i.get("Math")["$float!"](a)):i.get("Float").$$scope.get("NAN")}),((g="undefined"!=typeof Math.tanh)===e||g.$$is_boolean&&1!=g)&&(Math.tanh=function(a){return a==1/0?1:a==-(1/0)?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))}),a.defn(h,"$tanh",function(a){return i.get("Math").$checked("tanh",i.get("Math")["$float!"](a))})}(d.base)},Opal.modules["corelib/complex"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="warning";var g=a.top,h=a,i=a.nil,j=(a.breaker,a.slice,a.klass),k=a.module;return a.add_stubs(["$require","$===","$real?","$raise","$new","$*","$cos","$sin","$attr_reader","$class","$==","$real","$imag","$Complex","$-@","$+","$__coerced__","$-","$nan?","$/","$conj","$abs2","$quo","$polar","$exp","$log","$>","$!=","$divmod","$**","$hypot","$atan2","$lcm","$denominator","$to_s","$numerator","$abs","$arg","$rationalize","$to_f","$to_i","$to_r","$inspect","$positive?","$infinite?"]),g.$require("corelib/numeric"),function(g,h){function k(){}var l=k=j(g,h,"Complex",k),m=l.$$proto,n=l.$$scope;return m.real=m.imag=i,a.defs(l,"$rect",function(a,b){var c,d,e,f,g=this;return null==b&&(b=0),f=n.get("Numeric")["$==="](a),e=f!==!1&&f!==i?a["$real?"]():f,d=e!==!1&&e!==i?n.get("Numeric")["$==="](b):e,((c=d!==!1&&d!==i?b["$real?"]():d)===i||c.$$is_boolean&&1!=c)&&g.$raise(n.get("TypeError"),"not a real"),g.$new(a,b)}),function(b){b.$$scope,b.$$proto;return a.alias(b,"rectangular","rect")}(a.get_singleton_class(l)),a.defs(l,"$polar",function(a,c){var d,e,f,g,h=this;return null==c&&(c=0),g=n.get("Numeric")["$==="](a),f=g!==!1&&g!==i?a["$real?"]():g,e=f!==!1&&f!==i?n.get("Numeric")["$==="](c):f,((d=e!==!1&&e!==i?c["$real?"]():e)===i||d.$$is_boolean&&1!=d)&&h.$raise(n.get("TypeError"),"not a real"),h.$new(b(a,n.get("Math").$cos(c)),b(a,n.get("Math").$sin(c)))}),l.$attr_reader("real","imag"),a.defn(l,"$initialize",function(a,b){var c=this;return null==b&&(b=0),c.real=a,c.imag=b}),a.defn(l,"$coerce",function(a){var b,c,d=this;return(b=n.get("Complex")["$==="](a))===i||b.$$is_boolean&&1!=b?(c=n.get("Numeric")["$==="](a),(b=c!==!1&&c!==i?a["$real?"]():c)===i||b.$$is_boolean&&1!=b?d.$raise(n.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[n.get("Complex").$new(a,0),d]):[a,d]}),a.defn(l,"$==",function(a){var b,c,d=this;return(b=n.get("Complex")["$==="](a))===i||b.$$is_boolean&&1!=b?(c=n.get("Numeric")["$==="](a),(b=c!==!1&&c!==i?a["$real?"]():c)===i||b.$$is_boolean&&1!=b?a["$=="](d):(b=d.real["$=="](a))?d.imag["$=="](0):d.real["$=="](a)):(b=d.real["$=="](a.$real()))?d.imag["$=="](a.$imag()):d.real["$=="](a.$real())}),a.defn(l,"$-@",function(){var a=this;return a.$Complex(a.real["$-@"](),a.imag["$-@"]())}),a.defn(l,"$+",function(a){var b,d,e=this;return(b=n.get("Complex")["$==="](a))===i||b.$$is_boolean&&1!=b?(d=n.get("Numeric")["$==="](a),(b=d!==!1&&d!==i?a["$real?"]():d)===i||b.$$is_boolean&&1!=b?e.$__coerced__("+",a):e.$Complex(c(e.real,a),e.imag)):e.$Complex(c(e.real,a.$real()),c(e.imag,a.$imag()))}),a.defn(l,"$-",function(a){var b,c,e=this;return(b=n.get("Complex")["$==="](a))===i||b.$$is_boolean&&1!=b?(c=n.get("Numeric")["$==="](a),(b=c!==!1&&c!==i?a["$real?"]():c)===i||b.$$is_boolean&&1!=b?e.$__coerced__("-",a):e.$Complex(d(e.real,a),e.imag)):e.$Complex(d(e.real,a.$real()),d(e.imag,a.$imag()))}),a.defn(l,"$*",function(a){var e,f,g=this;return(e=n.get("Complex")["$==="](a))===i||e.$$is_boolean&&1!=e?(f=n.get("Numeric")["$==="](a),(e=f!==!1&&f!==i?a["$real?"]():f)===i||e.$$is_boolean&&1!=e?g.$__coerced__("*",a):g.$Complex(b(g.real,a),b(g.imag,a))):g.$Complex(d(b(g.real,a.$real()),b(g.imag,a.$imag())),c(b(g.real,a.$imag()),b(g.imag,a.$real())))}),a.defn(l,"$/",function(a){var c,d,f,g,h,j=this;return(c=n.get("Complex")["$==="](a))===i||c.$$is_boolean&&1!=c?(d=n.get("Numeric")["$==="](a),(c=d!==!1&&d!==i?a["$real?"]():d)===i||c.$$is_boolean&&1!=c?j.$__coerced__("/",a):j.$Complex(j.real.$quo(a),j.imag.$quo(a))):(h=n.get("Number")["$==="](j.real),(c=(d=(f=(g=h!==!1&&h!==i?j.real["$nan?"]():h)!==!1&&g!==i?g:(h=n.get("Number")["$==="](j.imag),h!==!1&&h!==i?j.imag["$nan?"]():h))!==!1&&f!==i?f:(g=n.get("Number")["$==="](a.$real()),g!==!1&&g!==i?a.$real()["$nan?"]():g))!==!1&&d!==i?d:(f=n.get("Number")["$==="](a.$imag()),f!==!1&&f!==i?a.$imag()["$nan?"]():f))===i||c.$$is_boolean&&1!=c?e(b(j,a.$conj()),a.$abs2()):n.get("Complex").$new(n.get("Float").$$scope.get("NAN"),n.get("Float").$$scope.get("NAN")))}),a.defn(l,"$**",function(g){var h,j,k,l,m=this,o=i,p=i,q=i,r=i,s=i,t=i,u=i,v=i,w=i,x=i,y=i;if(g["$=="](0))return n.get("Complex").$new(1,0);if((h=n.get("Complex")["$==="](g))===i||h.$$is_boolean&&1!=h){if((h=n.get("Integer")["$==="](g))===i||h.$$is_boolean&&1!=h)return(h=(j=n.get("Float")["$==="](g))!==!1&&j!==i?j:n.get("Rational")["$==="](g))===i||h.$$is_boolean&&1!=h?m.$__coerced__("**",g):(h=a.to_ary(m.$polar()),o=null==h[0]?i:h[0],p=null==h[1]?i:h[1],n.get("Complex").$polar(o["$**"](g),b(p,g)));if(f(g,0)){for(u=m,v=u,w=d(g,1);(j=w["$!="](0))!==i&&(!j.$$is_boolean||1==j);){for(;l=a.to_ary(w.$divmod(2)),x=null==l[0]?i:l[0],y=null==l[1]?i:l[1],(k=y["$=="](0))!==i&&(!k.$$is_boolean||1==k);)u=m.$Complex(d(b(u.$real(),u.$real()),b(u.$imag(),u.$imag())),b(b(2,u.$real()),u.$imag())),w=x;v=b(v,u),w=d(w,1)}return v}return e(n.get("Rational").$new(1,1),m)["$**"](g["$-@"]())}return h=a.to_ary(m.$polar()),o=null==h[0]?i:h[0],p=null==h[1]?i:h[1],q=g.$real(),r=g.$imag(),s=n.get("Math").$exp(d(b(q,n.get("Math").$log(o)),b(r,p))),t=c(b(p,q),b(r,n.get("Math").$log(o))),n.get("Complex").$polar(s,t)}),a.defn(l,"$abs",function(){var a=this;return n.get("Math").$hypot(a.real,a.imag)}),a.defn(l,"$abs2",function(){var a=this;return c(b(a.real,a.real),b(a.imag,a.imag))}),a.defn(l,"$angle",function(){var a=this;return n.get("Math").$atan2(a.imag,a.real)}),a.alias(l,"arg","angle"),a.defn(l,"$conj",function(){var a=this;return a.$Complex(a.real,a.imag["$-@"]())}),a.alias(l,"conjugate","conj"),a.defn(l,"$denominator",function(){var a=this;return a.real.$denominator().$lcm(a.imag.$denominator())}),a.alias(l,"divide","/"),a.defn(l,"$eql?",function(a){var b,c,d=this;return c=n.get("Complex")["$==="](a),b=c!==!1&&c!==i?d.real.$class()["$=="](d.imag.$class()):c,b!==!1&&b!==i?d["$=="](a):b}),a.defn(l,"$fdiv",function(a){var b,c=this;return((b=n.get("Numeric")["$==="](a))===i||b.$$is_boolean&&1!=b)&&c.$raise(n.get("TypeError"),""+a.$class()+" can't be coerced into Complex"),e(c,a)}),a.defn(l,"$hash",function(){var a=this;return"Complex:"+a.real+":"+a.imag}),a.alias(l,"imaginary","imag"),a.defn(l,"$inspect",function(){var a=this;return"("+a.$to_s()+")"}),a.alias(l,"magnitude","abs"),a.defn(l,"$numerator",function(){var a=this,c=i;return c=a.$denominator(),a.$Complex(b(a.real.$numerator(),e(c,a.real.$denominator())),b(a.imag.$numerator(),e(c,a.imag.$denominator())))}),a.alias(l,"phase","arg"),a.defn(l,"$polar",function(){var a=this;return[a.$abs(),a.$arg()]}),a.alias(l,"quo","/"),a.defn(l,"$rationalize",function(a){var b,c=this;return arguments.length>1&&c.$raise(n.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),(b=c.imag["$!="](0))===i||b.$$is_boolean&&1!=b||c.$raise(n.get("RangeError"),"can't' convert "+c+" into Rational"),c.$real().$rationalize(a)}),a.defn(l,"$real?",function(){return!1}),a.defn(l,"$rect",function(){var a=this;return[a.real,a.imag]}),a.alias(l,"rectangular","rect"),a.defn(l,"$to_f",function(){var a=this;return a.imag["$=="](0)||a.$raise(n.get("RangeError"),"can't convert "+a+" into Float"),a.real.$to_f()}),a.defn(l,"$to_i",function(){var a=this;return a.imag["$=="](0)||a.$raise(n.get("RangeError"),"can't convert "+a+" into Integer"),a.real.$to_i()}),a.defn(l,"$to_r",function(){var a=this;return a.imag["$=="](0)||a.$raise(n.get("RangeError"),"can't convert "+a+" into Rational"),a.real.$to_r()}),a.defn(l,"$to_s",function(){var a,b,d,e=this,f=i;return f=e.real.$inspect(),d=n.get("Number")["$==="](e.imag),f=(a=(b=d!==!1&&d!==i?e.imag["$nan?"]():d)!==!1&&b!==i?b:e.imag["$positive?"]())===i||a.$$is_boolean&&1!=a?c(f,"-"):c(f,"+"),f=c(f,e.imag.$abs().$inspect()),b=n.get("Number")["$==="](e.imag),(a=b!==!1&&b!==i?(d=e.imag["$nan?"]())!==!1&&d!==i?d:e.imag["$infinite?"]():b)===i||a.$$is_boolean&&1!=a||(f=c(f,"*")),c(f,"i")}),a.cdecl(n,"I",l.$new(0,1))}(h.base,h.get("Numeric")),function(b){var c=k(b,"Kernel"),d=(c.$$proto,c.$$scope);a.defn(c,"$Complex",function(a,b){return null==b&&(b=i),b!==!1&&b!==i?d.get("Complex").$new(a,b):d.get("Complex").$new(a,0)})}(h.base)},Opal.modules["corelib/rational"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function h(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}a.dynamic_require_severity="warning";var i=a.top,j=a,k=a.nil,l=(a.breaker,a.slice,a.klass),m=a.module;return a.add_stubs(["$require","$to_i","$==","$raise","$<","$-@","$new","$gcd","$/","$nil?","$===","$reduce","$to_r","$equal?","$!","$coerce_to!","$attr_reader","$to_f","$numerator","$denominator","$<=>","$-","$*","$__coerced__","$+","$Rational","$>","$**","$abs","$ceil","$with_precision","$floor","$to_s","$<=","$truncate","$send","$convert"]),i.$require("corelib/numeric"),function(i,j){function m(){}var n=m=l(i,j,"Rational",m),o=n.$$proto,p=n.$$scope;return o.num=o.den=k,a.defs(n,"$reduce",function(a,d){var e=this,f=k;if(a=a.$to_i(),d=d.$to_i(),d["$=="](0))e.$raise(p.get("ZeroDivisionError"),"divided by 0");else if(b(d,0))a=a["$-@"](),d=d["$-@"]();else if(d["$=="](1))return e.$new(a,d);return f=a.$gcd(d),e.$new(c(a,f),c(d,f))}),a.defs(n,"$convert",function(a,b){var d,e,f,g=this;return(d=(e=a["$nil?"]())!==!1&&e!==k?e:b["$nil?"]())===k||d.$$is_boolean&&1!=d||g.$raise(p.get("TypeError"),"cannot convert nil into Rational"),e=p.get("Integer")["$==="](a),(d=e!==!1&&e!==k?p.get("Integer")["$==="](b):e)===k||d.$$is_boolean&&1!=d?((d=(e=(f=p.get("Float")["$==="](a))!==!1&&f!==k?f:p.get("String")["$==="](a))!==!1&&e!==k?e:p.get("Complex")["$==="](a))===k||d.$$is_boolean&&1!=d||(a=a.$to_r()),(d=(e=(f=p.get("Float")["$==="](b))!==!1&&f!==k?f:p.get("String")["$==="](b))!==!1&&e!==k?e:p.get("Complex")["$==="](b))===k||d.$$is_boolean&&1!=d||(b=b.$to_r()),e=b["$equal?"](1),(d=e!==!1&&e!==k?p.get("Integer")["$==="](a)["$!"]():e)===k||d.$$is_boolean&&1!=d?(e=p.get("Numeric")["$==="](a),(d=e!==!1&&e!==k?p.get("Numeric")["$==="](b):e)===k||d.$$is_boolean&&1!=d?g.$reduce(a,b):c(a,b)):p.get("Opal")["$coerce_to!"](a,p.get("Rational"),"to_r")):g.$reduce(a,b)}),n.$attr_reader("numerator","denominator"),a.defn(n,"$initialize",function(a,b){var c=this;return c.num=a,c.den=b}),a.defn(n,"$numerator",function(){var a=this;return a.num}),a.defn(n,"$denominator",function(){var a=this;return a.den}),a.defn(n,"$coerce",function(a){var b=this,c=k;return function(){return c=a,p.get("Rational")["$==="](c)?[a,b]:p.get("Integer")["$==="](c)?[a.$to_r(),b]:p.get("Float")["$==="](c)?[a,b.$to_f()]:k}()}),a.defn(n,"$==",function(a){var b,c=this,d=k;return function(){return d=a,p.get("Rational")["$==="](d)?(b=c.num["$=="](a.$numerator()))?c.den["$=="](a.$denominator()):c.num["$=="](a.$numerator()):p.get("Integer")["$==="](d)?(b=c.num["$=="](a))?c.den["$=="](1):c.num["$=="](a):p.get("Float")["$==="](d)?c.$to_f()["$=="](a):a["$=="](c)}()}),a.defn(n,"$<=>",function(a){var b=this,c=k;return function(){return c=a,p.get("Rational")["$==="](c)?d(e(b.num,a.$denominator()),e(b.den,a.$numerator()))["$<=>"](0):p.get("Integer")["$==="](c)?d(b.num,e(b.den,a))["$<=>"](0):p.get("Float")["$==="](c)?b.$to_f()["$<=>"](a):b.$__coerced__("<=>",a)}()}),a.defn(n,"$+",function(a){var b=this,c=k,d=k,g=k;return function(){return c=a,p.get("Rational")["$==="](c)?(d=f(e(b.num,a.$denominator()),e(b.den,a.$numerator())),g=e(b.den,a.$denominator()),b.$Rational(d,g)):p.get("Integer")["$==="](c)?b.$Rational(f(b.num,e(a,b.den)),b.den):p.get("Float")["$==="](c)?f(b.$to_f(),a):b.$__coerced__("+",a)}()}),a.defn(n,"$-",function(a){var b=this,c=k,f=k,g=k;return function(){return c=a,p.get("Rational")["$==="](c)?(f=d(e(b.num,a.$denominator()),e(b.den,a.$numerator())),g=e(b.den,a.$denominator()),b.$Rational(f,g)):p.get("Integer")["$==="](c)?b.$Rational(d(b.num,e(a,b.den)),b.den):p.get("Float")["$==="](c)?d(b.$to_f(),a):b.$__coerced__("-",a)}()}),a.defn(n,"$*",function(a){var b=this,c=k,d=k,f=k;return function(){return c=a,p.get("Rational")["$==="](c)?(d=e(b.num,a.$numerator()),f=e(b.den,a.$denominator()),b.$Rational(d,f)):p.get("Integer")["$==="](c)?b.$Rational(e(b.num,a),b.den):p.get("Float")["$==="](c)?e(b.$to_f(),a):b.$__coerced__("*",a)}()}),a.defn(n,"$/",function(a){var b=this,d=k,f=k,g=k;return function(){return d=a,p.get("Rational")["$==="](d)?(f=e(b.num,a.$denominator()),g=e(b.den,a.$numerator()),b.$Rational(f,g)):p.get("Integer")["$==="](d)?a["$=="](0)?c(b.$to_f(),0):b.$Rational(b.num,e(b.den,a)):p.get("Float")["$==="](d)?c(b.$to_f(),a):b.$__coerced__("/",a)}()}),a.defn(n,"$**",function(a){var c,d,e=this,f=k;return function(){return f=a,p.get("Integer")["$==="](f)?(c=(d=e["$=="](0))?b(a,0):e["$=="](0))===k||c.$$is_boolean&&1!=c?g(a,0)?e.$Rational(e.num["$**"](a),e.den["$**"](a)):b(a,0)?e.$Rational(e.den["$**"](a["$-@"]()),e.num["$**"](a["$-@"]())):e.$Rational(1,1):p.get("Float").$$scope.get("INFINITY"):p.get("Float")["$==="](f)?e.$to_f()["$**"](a):p.get("Rational")["$==="](f)?a["$=="](0)?e.$Rational(1,1):a.$denominator()["$=="](1)?b(a,0)?e.$Rational(e.den["$**"](a.$numerator().$abs()),e.num["$**"](a.$numerator().$abs())):e.$Rational(e.num["$**"](a.$numerator()),e.den["$**"](a.$numerator())):(c=(d=e["$=="](0))?b(a,0):e["$=="](0))===k||c.$$is_boolean&&1!=c?e.$to_f()["$**"](a):e.$raise(p.get("ZeroDivisionError"),"divided by 0"):e.$__coerced__("**",a)}()}),a.defn(n,"$abs",function(){var a=this;return a.$Rational(a.num.$abs(),a.den.$abs())}),a.defn(n,"$ceil",function(a){var b=this;return null==a&&(a=0),a["$=="](0)?c(b.num["$-@"](),b.den)["$-@"]().$ceil():b.$with_precision("ceil",a)}),a.alias(n,"divide","/"),a.defn(n,"$floor",function(a){var b=this;return null==a&&(a=0),a["$=="](0)?c(b.num["$-@"](),b.den)["$-@"]().$floor():b.$with_precision("floor",a)}),a.defn(n,"$hash",function(){var a=this;return"Rational:"+a.num+":"+a.den}),a.defn(n,"$inspect",function(){var a=this;return"("+a.$to_s()+")"}),a.alias(n,"quo","/"),a.defn(n,"$rationalize",function(a){var b=this;if(arguments.length>1&&b.$raise(p.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),null==a)return b;for(var e,g,i,j,k,l=a.$abs(),m=d(b,l),n=f(b,l),o=0,q=1,r=1,s=0;;){if(i=m.$ceil(),h(i,n))break;j=i-1,e=j*q+o,g=j*s+r,k=c(1,d(n,j)),n=c(1,d(m,j)),m=k,o=q,r=s,q=e,s=g}return b.$Rational(i*q+o,i*s+r)}),a.defn(n,"$round",function(a){var d=this,g=k,h=k,i=k;return null==a&&(a=0),a["$=="](0)?d.num["$=="](0)?0:d.den["$=="](1)?d.num:(g=f(e(d.num.$abs(),2),d.den),h=e(d.den,2),i=c(g,h).$truncate(),b(d.num,0)?i["$-@"]():i):d.$with_precision("round",a)}),a.defn(n,"$to_f",function(){var a=this;return c(a.num,a.den)}),a.defn(n,"$to_i",function(){var a=this;return a.$truncate()}),a.defn(n,"$to_r",function(){var a=this;return a}),a.defn(n,"$to_s",function(){var a=this;return""+a.num+"/"+a.den}),a.defn(n,"$truncate",function(a){var c=this;return null==a&&(a=0),a["$=="](0)?b(c.num,0)?c.$ceil():c.$floor():c.$with_precision("truncate",a)}),a.defn(n,"$with_precision",function(a,d){var f,g=this,h=k,i=k;return((f=p.get("Integer")["$==="](d))===k||f.$$is_boolean&&1!=f)&&g.$raise(p.get("TypeError"),"not an Integer"),h=10["$**"](d),i=e(g,h),b(d,1)?c(i.$send(a),h).$to_i():g.$Rational(i.$send(a),h)}),k&&"with_precision"}(j.base,j.get("Numeric")),function(b){var c=m(b,"Kernel"),d=(c.$$proto,c.$$scope);a.defn(c,"$Rational",function(a,b){return null==b&&(b=1),d.get("Rational").$convert(a,b)})}(j.base)},Opal.modules["corelib/time"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}a.dynamic_require_severity="warning";var h=a.top,i=a,j=a.nil,k=(a.breaker,a.slice),l=a.klass,m=a.range;return a.add_stubs(["$require","$include","$===","$raise","$coerce_to!","$respond_to?","$to_str","$to_i","$new","$<=>","$to_f","$nil?","$>","$<","$strftime","$year","$month","$day","$+","$round","$/","$-","$copy_instance_variables","$initialize_dup","$is_a?","$zero?","$wday","$utc?","$mon","$yday","$hour","$min","$sec","$rjust","$ljust","$zone","$to_s","$[]","$cweek_cyear","$isdst","$<=","$!=","$==","$ceil"]),h.$require("corelib/comparable"),function(h,i){function n(){}function o(a,b,c,d,e,f){if(a=a.$$is_string?parseInt(a,10):q.get("Opal")["$coerce_to!"](a,q.get("Integer"),"to_int"),b===j)b=1;else if(!b.$$is_number)if(b["$respond_to?"]("to_str"))switch(b=b.$to_str(),b.toLowerCase()){case"jan":b=1;break;case"feb":b=2;break;case"mar":b=3;break;case"apr":b=4;break;case"may":b=5;break;case"jun":b=6;break;case"jul":b=7;break;case"aug":b=8;break;case"sep":b=9;break;case"oct":b=10;break;case"nov":b=11;break;case"dec":b=12;break;default:b=b.$to_i()}else b=q.get("Opal")["$coerce_to!"](b,q.get("Integer"),"to_int");return(1>b||b>12)&&p.$raise(q.get("ArgumentError"),"month out of range: "+b),b-=1,c=c===j?1:c.$$is_string?parseInt(c,10):q.get("Opal")["$coerce_to!"](c,q.get("Integer"),"to_int"),(1>c||c>31)&&p.$raise(q.get("ArgumentError"),"day out of range: "+c),d=d===j?0:d.$$is_string?parseInt(d,10):q.get("Opal")["$coerce_to!"](d,q.get("Integer"),"to_int"),(0>d||d>24)&&p.$raise(q.get("ArgumentError"),"hour out of range: "+d),e=e===j?0:e.$$is_string?parseInt(e,10):q.get("Opal")["$coerce_to!"](e,q.get("Integer"),"to_int"),(0>e||e>59)&&p.$raise(q.get("ArgumentError"),"min out of range: "+e),f===j?f=0:f.$$is_number||(f=f.$$is_string?parseInt(f,10):q.get("Opal")["$coerce_to!"](f,q.get("Integer"),"to_int")),(0>f||f>60)&&p.$raise(q.get("ArgumentError"),"sec out of range: "+f),[a,b,c,d,e,f]}var p=n=l(h,i,"Time",n),q=(p.$$proto,p.$$scope);p.$include(q.get("Comparable"));var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],u=["January","February","March","April","May","June","July","August","September","October","November","December"];return a.defs(p,"$at",function(a,b){var c,d=this;return q.get("Time")["$==="](a)?(void 0!==b&&d.$raise(q.get("TypeError"),"can't convert Time into an exact number"),
c=new Date(a.getTime()),c.is_utc=a.is_utc,c):(a.$$is_number||(a=q.get("Opal")["$coerce_to!"](a,q.get("Integer"),"to_int")),void 0===b?new Date(1e3*a):(b.$$is_number||(b=q.get("Opal")["$coerce_to!"](b,q.get("Integer"),"to_int")),new Date(1e3*a+b/1e3)))}),a.defs(p,"$new",function(a,b,c,d,e,f,g){var h=this;null==b&&(b=j),null==c&&(c=j),null==d&&(d=j),null==e&&(e=j),null==f&&(f=j),null==g&&(g=j);var i,k;return void 0===a?new Date:(g!==j&&h.$raise(q.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time"),i=o(a,b,c,d,e,f),a=i[0],b=i[1],c=i[2],d=i[3],e=i[4],f=i[5],k=new Date(a,b,c,d,e,0,1e3*f),100>a&&k.setFullYear(a),k)}),a.defs(p,"$local",function(a,b,c,d,e,f,g,h,i,l){null==b&&(b=j),null==c&&(c=j),null==d&&(d=j),null==e&&(e=j),null==f&&(f=j),null==g&&(g=j),null==h&&(h=j),null==i&&(i=j),null==l&&(l=j);var m,n;return 10===arguments.length&&(m=k.call(arguments),a=m[5],b=m[4],c=m[3],d=m[2],e=m[1],f=m[0]),m=o(a,b,c,d,e,f),a=m[0],b=m[1],c=m[2],d=m[3],e=m[4],f=m[5],n=new Date(a,b,c,d,e,0,1e3*f),100>a&&n.setFullYear(a),n}),a.defs(p,"$gm",function(a,b,c,d,e,f,g,h,i,l){null==b&&(b=j),null==c&&(c=j),null==d&&(d=j),null==e&&(e=j),null==f&&(f=j),null==g&&(g=j),null==h&&(h=j),null==i&&(i=j),null==l&&(l=j);var m,n;return 10===arguments.length&&(m=k.call(arguments),a=m[5],b=m[4],c=m[3],d=m[2],e=m[1],f=m[0]),m=o(a,b,c,d,e,f),a=m[0],b=m[1],c=m[2],d=m[3],e=m[4],f=m[5],n=new Date(Date.UTC(a,b,c,d,e,0,1e3*f)),100>a&&n.setUTCFullYear(a),n.is_utc=!0,n}),function(b){b.$$scope,b.$$proto;return a.alias(b,"mktime","local"),a.alias(b,"utc","gm")}(a.get_singleton_class(p)),a.defs(p,"$now",function(){var a=this;return a.$new()}),a.defn(p,"$+",function(a){var b,c=this;(b=q.get("Time")["$==="](a))===j||b.$$is_boolean&&1!=b||c.$raise(q.get("TypeError"),"time + time?"),a.$$is_number||(a=q.get("Opal")["$coerce_to!"](a,q.get("Integer"),"to_int"));var d=new Date(c.getTime()+1e3*a);return d.is_utc=c.is_utc,d}),a.defn(p,"$-",function(a){var b,c=this;if((b=q.get("Time")["$==="](a))!==j&&(!b.$$is_boolean||1==b))return(c.getTime()-a.getTime())/1e3;a.$$is_number||(a=q.get("Opal")["$coerce_to!"](a,q.get("Integer"),"to_int"));var d=new Date(c.getTime()-1e3*a);return d.is_utc=c.is_utc,d}),a.defn(p,"$<=>",function(a){var d,e=this,f=j;return(d=q.get("Time")["$==="](a))===j||d.$$is_boolean&&1!=d?(f=a["$<=>"](e),(d=f["$nil?"]())===j||d.$$is_boolean&&1!=d?b(f,0)?-1:c(f,0)?1:0:j):e.$to_f()["$<=>"](a.$to_f())}),a.defn(p,"$==",function(a){var b=this;return b.$to_f()===a.$to_f()}),a.defn(p,"$asctime",function(){var a=this;return a.$strftime("%a %b %e %H:%M:%S %Y")}),a.alias(p,"ctime","asctime"),a.defn(p,"$day",function(){var a=this;return a.is_utc?a.getUTCDate():a.getDate()}),a.defn(p,"$yday",function(){var a=this,b=j,c=j,g=j;return b=q.get("Time").$new(a.$year()).$to_i(),c=q.get("Time").$new(a.$year(),a.$month(),a.$day()).$to_i(),g=86400,d(e(f(c,b),g).$round(),1)}),a.defn(p,"$isdst",function(){var a=this,b=new Date(a.getFullYear(),0,1),c=new Date(a.getFullYear(),6,1);return a.getTimezoneOffset()<Math.max(b.getTimezoneOffset(),c.getTimezoneOffset())}),a.alias(p,"dst?","isdst"),a.defn(p,"$dup",function(){var a=this,b=j;return b=new Date(a.getTime()),b.$copy_instance_variables(a),b.$initialize_dup(a),b}),a.defn(p,"$eql?",function(a){var b,c=this;return b=a["$is_a?"](q.get("Time")),b!==!1&&b!==j?c["$<=>"](a)["$zero?"]():b}),a.defn(p,"$friday?",function(){var a=this;return 5==a.$wday()}),a.defn(p,"$hash",function(){var a=this;return"Time:"+a.getTime()}),a.defn(p,"$hour",function(){var a=this;return a.is_utc?a.getUTCHours():a.getHours()}),a.defn(p,"$inspect",function(){var a,b=this;return(a=b["$utc?"]())===j||a.$$is_boolean&&1!=a?b.$strftime("%Y-%m-%d %H:%M:%S %z"):b.$strftime("%Y-%m-%d %H:%M:%S UTC")}),a.alias(p,"mday","day"),a.defn(p,"$min",function(){var a=this;return a.is_utc?a.getUTCMinutes():a.getMinutes()}),a.defn(p,"$mon",function(){var a=this;return(a.is_utc?a.getUTCMonth():a.getMonth())+1}),a.defn(p,"$monday?",function(){var a=this;return 1==a.$wday()}),a.alias(p,"month","mon"),a.defn(p,"$saturday?",function(){var a=this;return 6==a.$wday()}),a.defn(p,"$sec",function(){var a=this;return a.is_utc?a.getUTCSeconds():a.getSeconds()}),a.defn(p,"$succ",function(){var a=this,b=new Date(a.getTime()+1e3);return b.is_utc=a.is_utc,b}),a.defn(p,"$usec",function(){var a=this;return 1e3*a.getMilliseconds()}),a.defn(p,"$zone",function(){var a,b=this,c=b.toString();return a=-1==c.indexOf("(")?c.match(/[A-Z]{3,4}/)[0]:c.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==a&&/(GMT\W*\d{4})/.test(c)?RegExp.$1:a}),a.defn(p,"$getgm",function(){var a=this,b=new Date(a.getTime());return b.is_utc=!0,b}),a.alias(p,"getutc","getgm"),a.defn(p,"$gmtime",function(){var a=this;return a.is_utc=!0,a}),a.alias(p,"utc","gmtime"),a.defn(p,"$gmt?",function(){var a=this;return a.is_utc===!0}),a.defn(p,"$gmt_offset",function(){var a=this;return 60*-a.getTimezoneOffset()}),a.defn(p,"$strftime",function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,c,d,e,f){var g="",h=-1!==c.indexOf("0"),i=-1===c.indexOf("-"),j=-1!==c.indexOf("_"),k=-1!==c.indexOf("^"),l=-1!==c.indexOf("#"),n=(c.match(":")||[]).length;switch(d=parseInt(d,10),h&&j&&(c.indexOf("0")<c.indexOf("_")?h=!1:j=!1),f){case"Y":g+=b.$year();break;case"C":h=!j,g+=Math.round(b.$year()/100);break;case"y":h=!j,g+=b.$year()%100;break;case"m":h=!j,g+=b.$mon();break;case"B":g+=u[b.$mon()-1];break;case"b":case"h":j=!h,g+=t[b.$mon()-1];break;case"d":h=!j,g+=b.$day();break;case"e":j=!h,g+=b.$day();break;case"j":g+=b.$yday();break;case"H":h=!j,g+=b.$hour();break;case"k":j=!h,g+=b.$hour();break;case"I":h=!j,g+=b.$hour()%12||12;break;case"l":j=!h,g+=b.$hour()%12||12;break;case"P":g+=b.$hour()>=12?"pm":"am";break;case"p":g+=b.$hour()>=12?"PM":"AM";break;case"M":h=!j,g+=b.$min();break;case"S":h=!j,g+=b.$sec();break;case"L":h=!j,d=isNaN(d)?3:d,g+=b.getMilliseconds();break;case"N":d=isNaN(d)?9:d,g+=b.getMilliseconds().toString().$rjust(3,"0"),g=g.$ljust(d,"0");break;case"z":var o=b.getTimezoneOffset(),p=Math.floor(Math.abs(o)/60),q=Math.abs(o)%60;g+=0>o?"+":"-",g+=10>p?"0":"",g+=p,n>0&&(g+=":"),g+=10>q?"0":"",g+=q,n>1&&(g+=":00");break;case"Z":g+=b.$zone();break;case"A":g+=r[b.$wday()];break;case"a":g+=s[b.$wday()];break;case"u":g+=b.$wday()+1;break;case"w":g+=b.$wday();break;case"V":g+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":g+=b.$cweek_cyear()["$[]"](1);break;case"g":g+=b.$cweek_cyear()["$[]"](1)["$[]"](m(-2,-1,!1));break;case"s":g+=b.$to_i();break;case"n":g+="\n";break;case"t":g+="	";break;case"%":g+="%";break;case"c":g+=b.$strftime("%a %b %e %T %Y");break;case"D":case"x":g+=b.$strftime("%m/%d/%y");break;case"F":g+=b.$strftime("%Y-%m-%d");break;case"v":g+=b.$strftime("%e-%^b-%4Y");break;case"r":g+=b.$strftime("%I:%M:%S %p");break;case"R":g+=b.$strftime("%H:%M");break;case"T":case"X":g+=b.$strftime("%H:%M:%S");break;default:return a}return k&&(g=g.toUpperCase()),l&&(g=g.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()})),i&&(h||j)&&(g=g.$rjust(isNaN(d)?2:d,j?" ":"0")),g})}),a.defn(p,"$sunday?",function(){var a=this;return 0==a.$wday()}),a.defn(p,"$thursday?",function(){var a=this;return 4==a.$wday()}),a.defn(p,"$to_a",function(){var a=this;return[a.$sec(),a.$min(),a.$hour(),a.$day(),a.$month(),a.$year(),a.$wday(),a.$yday(),a.$isdst(),a.$zone()]}),a.defn(p,"$to_f",function(){var a=this;return a.getTime()/1e3}),a.defn(p,"$to_i",function(){var a=this;return parseInt(a.getTime()/1e3,10)}),a.alias(p,"to_s","inspect"),a.defn(p,"$tuesday?",function(){var a=this;return 2==a.$wday()}),a.alias(p,"tv_sec","sec"),a.alias(p,"tv_usec","usec"),a.alias(p,"utc?","gmt?"),a.alias(p,"gmtoff","gmt_offset"),a.alias(p,"utc_offset","gmt_offset"),a.defn(p,"$wday",function(){var a=this;return a.is_utc?a.getUTCDay():a.getDay()}),a.defn(p,"$wednesday?",function(){var a=this;return 3==a.$wday()}),a.defn(p,"$year",function(){var a=this;return a.is_utc?a.getUTCFullYear():a.getFullYear()}),a.defn(p,"$cweek_cyear",function(){var a,b,c=this,h=j,i=j,k=j,l=j,m=j,n=j,o=j,p=j;return h=q.get("Time").$new(c.$year(),1,1),i=h.$wday(),k=0,l=c.$year(),(a=(b=g(i,4))?i["$!="](0):g(i,4))===j||a.$$is_boolean&&1!=a?(m=f(f(i,7),1),m["$=="](-8)&&(m=-1)):m=f(i,1),n=e(d(c.$yday(),m),7).$ceil(),g(n,0)?q.get("Time").$new(f(c.$year(),1),12,31).$cweek_cyear():(n["$=="](53)&&(o=q.get("Time").$new(c.$year(),12,31),p=o.$wday(),(a=(b=g(p,3))?p["$!="](0):g(p,3))===j||a.$$is_boolean&&1!=a||(n=1,l=d(l,1))),[n,l])}),j&&"cweek_cyear"}(i.base,Date)},Opal.modules["corelib/struct"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="warning";var e=a.top,f=a,g=a.nil,h=a.breaker,i=a.slice,j=a.klass,k=a.hash2;return a.add_stubs(["$require","$include","$==","$[]","$upcase","$const_set","$new","$unshift","$each","$define_struct_attribute","$class_eval","$to_proc","$allocate","$initialize","$raise","$<<","$members","$define_method","$[]=","$instance_eval","$each_with_index","$class","$hash","$===","$<","$-@","$size","$>=","$include?","$to_sym","$coerce_to!","$instance_of?","$__id__","$eql?","$enum_for","$length","$map","$+","$join","$inspect","$each_pair","$inject","$flatten","$to_a"]),e.$require("corelib/enumerable"),function(e,f){function l(){}var m,n,o,p=l=j(e,f,"Struct",l),q=(p.$$proto,p.$$scope);return p.$include(q.get("Enumerable")),a.defs(p,"$new",m=function(b){var c,d,e,f,h=i.call(arguments,0),j=this,k=m.$$p,n=k||g,o=arguments.length-1;0>o&&(o=0);for(var p=new Array(o),r=0;o>r;r++)p[r]=arguments[r+1];return m.$$p=null,j["$=="](q.get("Struct"))?b["$[]"](0)["$=="](b["$[]"](0).$upcase())?q.get("Struct").$const_set(b,(c=j).$new.apply(c,a.to_a(p))):(p.$unshift(b),(d=(e=q.get("Class")).$new,d.$$p=(f=function(){var b,c,d,e,h=f.$$s||this;return(b=(c=p).$each,b.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=g),b.$define_struct_attribute(a)},d.$$s=h,d),b).call(c),n!==!1&&n!==g&&(b=(e=h).$class_eval,b.$$p=n.$to_proc(),b).call(e),function(b){b.$$scope,b.$$proto;return a.defn(b,"$new",function(){var b,c=this,d=g,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),h=0;e>h;h++)f[h]=arguments[h+0];return d=c.$allocate(),d.$$data={},(b=d).$initialize.apply(b,a.to_a(f)),d}),a.alias(b,"[]","new")}(a.get_singleton_class(h))},f.$$s=j,f),d).call(e,j)):a.find_super_dispatcher(j,"new",m,k,l).apply(j,h)}),a.defs(p,"$define_struct_attribute",function(a){var b,c,d,e,f,h=this;return h["$=="](q.get("Struct"))&&h.$raise(q.get("ArgumentError"),"you cannot define attributes to the Struct class"),h.$members()["$<<"](a),(b=(c=h).$define_method,b.$$p=(d=function(){var b=d.$$s||this;return b["$[]"](a)},d.$$s=h,d),b).call(c,a),(b=(e=h).$define_method,b.$$p=(f=function(b){var c=f.$$s||this;return null==b&&(b=g),c["$[]="](a,b)},f.$$s=h,f),b).call(e,""+a+"=")}),a.defs(p,"$members",function(){var a,b=this;return null==b.members&&(b.members=g),b["$=="](q.get("Struct"))&&b.$raise(q.get("ArgumentError"),"the Struct class has no members"),(a=b.members)!==!1&&a!==g?a:b.members=[]}),a.defs(p,"$inherited",function(a){var b,c,d,e=this,f=g;return null==e.members&&(e.members=g),f=e.members,(b=(c=a).$instance_eval,b.$$p=(d=function(){var a=d.$$s||this;return a.members=f},d.$$s=e,d),b).call(c)}),a.defn(p,"$initialize",function(){var a,b,c,d=this,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),h=0;e>h;h++)f[h]=arguments[h+0];return(a=(b=d.$members()).$each_with_index,a.$$p=(c=function(a,b){var d=c.$$s||this;return null==a&&(a=g),null==b&&(b=g),d["$[]="](a,f["$[]"](b))},c.$$s=d,c),a).call(b)}),a.defn(p,"$members",function(){var a=this;return a.$class().$members()}),a.defn(p,"$hash",function(){var a=this;return q.get("Hash").$new(a.$$data).$hash()}),a.defn(p,"$[]",function(a){var d,e=this;return(d=q.get("Integer")["$==="](a))===g||d.$$is_boolean&&1!=d?(d=q.get("String")["$==="](a))===g||d.$$is_boolean&&1!=d?e.$raise(q.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((d=e.$members()["$include?"](a.$to_sym()))===g||d.$$is_boolean&&1!=d)&&e.$raise(q.get("NameError").$new("no member '"+a+"' in struct",a)):(b(a,e.$members().$size()["$-@"]())&&e.$raise(q.get("IndexError"),"offset "+a+" too small for struct(size:"+e.$members().$size()+")"),c(a,e.$members().$size())&&e.$raise(q.get("IndexError"),"offset "+a+" too large for struct(size:"+e.$members().$size()+")"),a=e.$members()["$[]"](a)),a=q.get("Opal")["$coerce_to!"](a,q.get("String"),"to_str"),e.$$data[a]}),a.defn(p,"$[]=",function(a,d){var e,f=this;return(e=q.get("Integer")["$==="](a))===g||e.$$is_boolean&&1!=e?(e=q.get("String")["$==="](a))===g||e.$$is_boolean&&1!=e?f.$raise(q.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):((e=f.$members()["$include?"](a.$to_sym()))===g||e.$$is_boolean&&1!=e)&&f.$raise(q.get("NameError").$new("no member '"+a+"' in struct",a)):(b(a,f.$members().$size()["$-@"]())&&f.$raise(q.get("IndexError"),"offset "+a+" too small for struct(size:"+f.$members().$size()+")"),c(a,f.$members().$size())&&f.$raise(q.get("IndexError"),"offset "+a+" too large for struct(size:"+f.$members().$size()+")"),a=f.$members()["$[]"](a)),a=q.get("Opal")["$coerce_to!"](a,q.get("String"),"to_str"),f.$$data[a]=d}),a.defn(p,"$==",function(a){function b(a,c){var d,g,h;e[a.$__id__()]=!0,f[c.$__id__()]=!0;for(d in a.$$data)if(g=a.$$data[d],h=c.$$data[d],q.get("Struct")["$==="](g)){if(!(e.hasOwnProperty(g.$__id__())&&f.hasOwnProperty(h.$__id__())||b(g,h)))return!1}else if(!g["$=="](h))return!1;return!0}var c,d=this;if((c=a["$instance_of?"](d.$class()))===g||c.$$is_boolean&&1!=c)return!1;var e={},f={};return b(d,a)}),a.defn(p,"$eql?",function(a){function b(a,c){var d,g,h;e[a.$__id__()]=!0,f[c.$__id__()]=!0;for(d in a.$$data)if(g=a.$$data[d],h=c.$$data[d],q.get("Struct")["$==="](g)){if(!(e.hasOwnProperty(g.$__id__())&&f.hasOwnProperty(h.$__id__())||b(g,h)))return!1}else if(!g["$eql?"](h))return!1;return!0}var c,d=this;if((c=a["$instance_of?"](d.$class()))===g||c.$$is_boolean&&1!=c)return!1;var e={},f={};return b(d,a)}),a.defn(p,"$each",n=function(){var b,c,d,e,f,i=this,j=n.$$p,k=j||g;return n.$$p=null,k===g?(b=(c=i).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=i,d),b).call(c,"each"):((b=(e=i.$members()).$each,b.$$p=(f=function(b){var c,d=f.$$s||this;return null==b&&(b=g),c=a.yield1(k,d["$[]"](b)),c===h?c:c},f.$$s=i,f),b).call(e),i)}),a.defn(p,"$each_pair",o=function(){var b,c,d,e,f,i=this,j=o.$$p,k=j||g;return o.$$p=null,k===g?(b=(c=i).$enum_for,b.$$p=(d=function(){var a=d.$$s||this;return a.$size()},d.$$s=i,d),b).call(c,"each_pair"):((b=(e=i.$members()).$each,b.$$p=(f=function(b){var c,d=f.$$s||this;return null==b&&(b=g),c=a.yield1(k,[b,d["$[]"](b)]),c===h?c:c},f.$$s=i,f),b).call(e),i)}),a.defn(p,"$length",function(){var a=this;return a.$members().$length()}),a.alias(p,"size","length"),a.defn(p,"$to_a",function(){var a,b,c,d=this;return(a=(b=d.$members()).$map,a.$$p=(c=function(a){var b=c.$$s||this;return null==a&&(a=g),b["$[]"](a)},c.$$s=d,c),a).call(b)}),a.alias(p,"values","to_a"),a.defn(p,"$inspect",function(){var a,b,c,e=this,f=g;return f="#<struct ",e.$class()["$=="](q.get("Struct"))&&(f=d(f,""+e.$class()+" ")),f=d(f,(a=(b=e.$each_pair()).$map,a.$$p=(c=function(a,b){c.$$s||this;return null==a&&(a=g),null==b&&(b=g),""+a+"="+b.$inspect()},c.$$s=e,c),a).call(b).$join(", ")),f=d(f,">")}),a.alias(p,"to_s","inspect"),a.defn(p,"$to_h",function(){var a,b,c,d=this;return(a=(b=d.$members()).$inject,a.$$p=(c=function(a,b){var d=c.$$s||this;return null==a&&(a=g),null==b&&(b=g),a["$[]="](b,d["$[]"](b)),a},c.$$s=d,c),a).call(b,k([],{}))}),a.defn(p,"$values_at",function(){var a,b,c,d=this,e=arguments.length-0;0>e&&(e=0);for(var f=new Array(e),h=0;e>h;h++)f[h]=arguments[h+0];f=(a=(b=f).$map,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=g),a.$$is_range?a.$to_a():a},c.$$s=d,c),a).call(b).$flatten();for(var i=[],j=0,k=f.length;k>j;j++)f[j].$$is_number||d.$raise(q.get("TypeError"),"no implicit conversion of "+f[j].$class()+" into Integer"),i.push(d["$[]"](f[j]));return i}),g&&"values_at"}(f.base,null)},Opal.modules["corelib/io"]=function(a){a.dynamic_require_severity="warning";var b,c,d=(a.top,a),e=a.nil,f=(a.breaker,a.slice,a.klass),g=a.module,h=a.gvars;return null==h.stdout&&(h.stdout=e),null==h.stderr&&(h.stderr=e),a.add_stubs(["$attr_accessor","$size","$write","$join","$map","$String","$empty?","$concat","$chomp","$getbyte","$getc","$raise","$new","$write_proc=","$extend"]),function(b,c){function d(){}var i=d=f(b,c,"IO",d),j=i.$$proto,k=i.$$scope;return j.tty=j.closed=e,a.cdecl(k,"SEEK_SET",0),a.cdecl(k,"SEEK_CUR",1),a.cdecl(k,"SEEK_END",2),a.defn(i,"$tty?",function(){var a=this;return a.tty}),a.defn(i,"$closed?",function(){var a=this;return a.closed}),i.$attr_accessor("write_proc"),a.defn(i,"$write",function(a){var b=this;return b.write_proc(a),a.$size()}),i.$attr_accessor("sync"),function(b){var c=g(b,"Writable");c.$$proto,c.$$scope;a.defn(c,"$<<",function(a){var b=this;return b.$write(a),b}),a.defn(c,"$print",function(){var a,b,c,d=this;null==h[","]&&(h[","]=e);var f=arguments.length-0;0>f&&(f=0);for(var g=new Array(f),i=0;f>i;i++)g[i]=arguments[i+0];return d.$write((a=(b=g).$map,a.$$p=(c=function(a){var b=c.$$s||this;return null==a&&(a=e),b.$String(a)},c.$$s=d,c),a).call(b).$join(h[","])),e}),a.defn(c,"$puts",function(){var a,b,c,d=this,f=e;null==h["/"]&&(h["/"]=e);var g=arguments.length-0;0>g&&(g=0);for(var i=new Array(g),j=0;g>j;j++)i[j]=arguments[j+0];return f=h["/"],(a=i["$empty?"]())===e||a.$$is_boolean&&1!=a?d.$write((a=(b=i).$map,a.$$p=(c=function(a){var b=c.$$s||this;return null==a&&(a=e),b.$String(a).$chomp()},c.$$s=d,c),a).call(b).$concat([e]).$join(f)):d.$write(h["/"]),e})}(k.base),function(b){var c=g(b,"Readable"),d=(c.$$proto,c.$$scope);a.defn(c,"$readbyte",function(){var a=this;return a.$getbyte()}),a.defn(c,"$readchar",function(){var a=this;return a.$getc()}),a.defn(c,"$readline",function(a){var b=this;return null==h["/"]&&(h["/"]=e),null==a&&(a=h["/"]),b.$raise(d.get("NotImplementedError"))}),a.defn(c,"$readpartial",function(a,b){var c=this;return null==b&&(b=e),c.$raise(d.get("NotImplementedError"))})}(k.base)}(d.base,null),a.cdecl(d,"STDERR",h.stderr=d.get("IO").$new()),a.cdecl(d,"STDIN",h.stdin=d.get("IO").$new()),a.cdecl(d,"STDOUT",h.stdout=d.get("IO").$new()),b=["object"==typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}],c=h.stdout,c["$write_proc="].apply(c,b),b[b.length-1],b=["object"==typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}],c=h.stderr,c["$write_proc="].apply(c,b),b[b.length-1],h.stdout.$extend(d.get("IO").$$scope.get("Writable")),h.stderr.$extend(d.get("IO").$$scope.get("Writable"))},Opal.modules["corelib/main"]=function(a){a.dynamic_require_severity="warning";var b=a.top,c=a,d=a.nil;a.breaker,a.slice;return a.add_stubs(["$include"]),a.defs(b,"$to_s",function(){return"main"}),a.defs(b,"$include",function(a){return c.get("Object").$include(a)}),d&&"include"},Opal.modules["corelib/dir"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=a.breaker,e=(a.slice,a.klass);return a.add_stubs(["$[]"]),function(b,f){function g(){}var h=g=e(b,f,"Dir",g);h.$$proto,h.$$scope;return function(b){var e,f=b.$$scope;b.$$proto;return a.defn(b,"$chdir",e=function(b){var f,g=e.$$p,h=g||c,i=c;e.$$p=null;try{return i=a.current_dir,a.current_dir=b,f=a.yieldX(h,[]),f===d?f:f}finally{a.current_dir=i}}),a.defn(b,"$pwd",function(){return a.current_dir||"."}),a.alias(b,"getwd","pwd"),a.defn(b,"$home",function(){var a;return(a=f.get("ENV")["$[]"]("HOME"))!==!1&&a!==c?a:"."}),c&&"home"}(a.get_singleton_class(h))}(b.base,null)},Opal.modules["corelib/file"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass),e=a.range;return a.add_stubs(["$join","$compact","$split","$==","$first","$[]=","$home","$each","$pop","$<<","$[]","$gsub","$find","$=~"]),function(b,f){function g(){}var h=g=d(b,f,"File",g),i=(h.$$proto,h.$$scope);return a.cdecl(i,"Separator",a.cdecl(i,"SEPARATOR","/")),a.cdecl(i,"ALT_SEPARATOR",c),a.cdecl(i,"PATH_SEPARATOR",":"),function(b){var d=b.$$scope;b.$$proto;return a.defn(b,"$expand_path",function(a,b){var e,f,g,h=this,i=c,j=c;return null==b&&(b=c),a=[b,a].$compact().$join(d.get("SEPARATOR")),i=a.$split(d.get("SEPARATOR")),j=[],i.$first()["$=="]("~")&&i["$[]="](0,d.get("Dir").$home()),(e=(f=i).$each,e.$$p=(g=function(a){g.$$s||this;return null==a&&(a=c),a["$=="]("..")?j.$pop():j["$<<"](a)},g.$$s=h,g),e).call(f),j.$join(d.get("SEPARATOR"))}),a.alias(b,"realpath","expand_path"),a.defn(b,"$dirname",function(a){var b=this;return b.$split(a)["$[]"](e(0,-2,!1))}),a.defn(b,"$basename",function(a){var b=this;return b.$split(a)["$[]"](-1)}),a.defn(b,"$exist?",function(b){return null!=a.modules[b]}),a.alias(b,"exists?","exist?"),a.defn(b,"$directory?",function(b){var e,f,g,h=this,i=c,j=c;i=[];for(var k in a.modules)i.push(k);return b=b.$gsub(new RegExp("(^."+d.get("SEPARATOR")+"+|"+d.get("SEPARATOR")+"+$)")),j=(e=(f=i).$find,e.$$p=(g=function(a){g.$$s||this;return null==a&&(a=c),a["$=~"](new RegExp("^"+b))},g.$$s=h,g),e).call(f)}),a.defn(b,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var b=new Array(a),c=0;a>c;c++)b[c]=arguments[c+0];return b.$join(d.get("SEPARATOR")).$gsub(new RegExp(""+d.get("SEPARATOR")+"+"),d.get("SEPARATOR"))}),a.defn(b,"$split",function(a){return a.$split(d.get("SEPARATOR"))}),c&&"split"}(a.get_singleton_class(h))}(b.base,b.get("IO"))},Opal.modules["corelib/process"]=function(a){a.dynamic_require_severity="warning";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return a.add_stubs(["$to_f","$now","$new"]),function(b,e){function f(){}var g=f=d(b,e,"Process",f),h=(g.$$proto,g.$$scope);return a.cdecl(h,"CLOCK_REALTIME",0),a.cdecl(h,"CLOCK_MONOTONIC",1),a.defs(g,"$pid",function(){return 0}),a.defs(g,"$times",function(){var a=c;return a=h.get("Time").$now().$to_f(),h.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)}),a.defs(g,"$clock_gettime",function(a,b){return null==b&&(b=c),h.get("Time").$now().$to_f()}),c&&"clock_gettime"}(b.base,null),function(b,e){function f(){}var g=f=d(b,e,"Signal",f);g.$$proto,g.$$scope;return a.defs(g,"$trap",function(){return c}),c&&"trap"}(b.base,null),function(b,e){function f(){}var g=f=d(b,e,"GC",f);g.$$proto,g.$$scope;return a.defs(g,"$start",function(){return c}),c&&"start"}(b.base,null)},Opal.modules["corelib/unsupported"]=function(a){function b(a){i[a]||(i[a]=!0,d.$warn(a))}a.dynamic_require_severity="warning";var c={method_missing:!0,arity_check:!1,freezing:!0,tainting:!0},d=a.top,e=a,f=a.nil,g=(a.breaker,a.slice,a.klass),h=a.module;a.add_stubs(["$warn","$raise","$%","$module_function"]);var i={};return function(b,c){function d(){}var e=d=g(b,c,"String",d),h=(e.$$proto,e.$$scope),i="String#%s not supported. Mutable String methods are not supported in Opal.";return a.defn(e,"$<<",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("<<"))}),a.defn(e,"$capitalize!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("capitalize!"))}),a.defn(e,"$chomp!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("chomp!"))}),a.defn(e,"$chop!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("chop!"))}),a.defn(e,"$downcase!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("downcase!"))}),a.defn(e,"$gsub!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("gsub!"))}),a.defn(e,"$lstrip!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("lstrip!"))}),a.defn(e,"$next!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("next!"))}),a.defn(e,"$reverse!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("reverse!"))}),a.defn(e,"$slice!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("slice!"))}),a.defn(e,"$squeeze!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("squeeze!"))}),a.defn(e,"$strip!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("strip!"))}),a.defn(e,"$sub!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("sub!"))}),a.defn(e,"$succ!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("succ!"))}),a.defn(e,"$swapcase!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("swapcase!"))}),a.defn(e,"$tr!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("tr!"))}),a.defn(e,"$tr_s!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("tr_s!"))}),a.defn(e,"$upcase!",function(){var a=this;return a.$raise(h.get("NotImplementedError"),i["$%"]("upcase!"))}),f&&"upcase!"}(e.base,null),function(d){var e=h(d,"Kernel"),g=(e.$$proto,e.$$scope),i="Object freezing is not supported by Opal";a.defn(e,"$freeze",function(){var a,d=this;return(a=c.freezing)===f||a.$$is_boolean&&1!=a?d.$raise(g.get("NotImplementedError"),i):b(i),d}),a.defn(e,"$frozen?",function(){var a,d=this;return(a=c.freezing)===f||a.$$is_boolean&&1!=a?d.$raise(g.get("NotImplementedError"),i):b(i),!1})}(e.base),function(d){var e=h(d,"Kernel"),g=(e.$$proto,e.$$scope),i="Object tainting is not supported by Opal";a.defn(e,"$taint",function(){var a,d=this;return(a=c.tainting)===f||a.$$is_boolean&&1!=a?d.$raise(g.get("NotImplementedError"),i):b(i),d}),a.defn(e,"$untaint",function(){var a,d=this;return(a=c.tainting)===f||a.$$is_boolean&&1!=a?d.$raise(g.get("NotImplementedError"),i):b(i),d}),a.defn(e,"$tainted?",function(){var a,d=this;return(a=c.tainting)===f||a.$$is_boolean&&1!=a?d.$raise(g.get("NotImplementedError"),i):b(i),!1})}(e.base),function(b){var c=h(b,"Marshal"),d=(c.$$proto,c.$$scope),e="Marshalling is not supported by Opal";c.$module_function(),a.defn(c,"$dump",function(){var a=this;return a.$raise(d.get("NotImplementedError"),e)}),a.defn(c,"$load",function(){var a=this;return a.$raise(d.get("NotImplementedError"),e)}),a.defn(c,"$restore",function(){var a=this;return a.$raise(d.get("NotImplementedError"),e)})}(e.base),function(b,c){function d(){}var e=d=g(b,c,"Module",d);e.$$proto,e.$$scope;return a.defn(e,"$public",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return 0===c.length&&(a.$$module_function=!1),f}),a.alias(e,"private","public"),a.alias(e,"protected","public"),a.alias(e,"nesting","public"),a.defn(e,"$private_class_method",function(){var a=this;return a}),a.alias(e,"public_class_method","private_class_method"),a.defn(e,"$private_method_defined?",function(a){return!1}),a.defn(e,"$private_constant",function(){return f}),a.alias(e,"protected_method_defined?","private_method_defined?"),a.alias(e,"public_instance_methods","instance_methods"),a.alias(e,"public_method_defined?","method_defined?")}(e.base,null),function(b){var c=h(b,"Kernel");c.$$proto,c.$$scope;a.defn(c,"$private_methods",function(){return[]}),a.alias(c,"private_instance_methods","private_methods")}(e.base),function(b){var c=h(b,"Kernel"),d=(c.$$proto,c.$$scope);a.defn(c,"$eval",function(){var a=this;return a.$raise(d.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+d.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))})}(e.base)},function(a){a.dynamic_require_severity="warning";var b=a.top;a.nil,a.breaker,a.slice;return a.add_stubs(["$require"]),b.$require("opal/base"),b.$require("opal/mini"),b.$require("corelib/array/inheritance"),b.$require("corelib/string/inheritance"),b.$require("corelib/string/encoding"),b.$require("corelib/math"),b.$require("corelib/complex"),b.$require("corelib/rational"),b.$require("corelib/time"),b.$require("corelib/struct"),b.$require("corelib/io"),b.$require("corelib/main"),b.$require("corelib/dir"),b.$require("corelib/file"),b.$require("corelib/process"),b.$require("corelib/unsupported")}(Opal),Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"StringScanner",f),h=g.$$proto;g.$$scope;return h.pos=h.string=h.working=h.matched=h.prev_pos=h.match=c,g.$attr_reader("pos"),g.$attr_reader("matched"),a.defn(g,"$initialize",function(a){var b=this;return b.string=a,b.pos=0,b.matched=c,b.working=a,b.match=[]}),g.$attr_reader("string"),a.defn(g,"$beginning_of_line?",function(){var a=this;return 0===a.pos||"\n"===a.string.charAt(a.pos-1)}),a.alias(g,"bol?","beginning_of_line?"),a.defn(g,"$scan",function(a){var b=this;a=b.$anchor(a);var d=a.exec(b.working);return null==d?b.matched=c:"object"==typeof d?(b.prev_pos=b.pos,b.pos+=d[0].length,b.working=b.working.substring(d[0].length),b.matched=d[0],b.match=d,d[0]):"string"==typeof d?(b.pos+=d.length,b.working=b.working.substring(d.length),d):c}),a.defn(g,"$scan_until",function(a){var b=this;a=b.$anchor(a);for(var d,e=b.pos,f=b.working;;){if(d=a.exec(f),e+=1,f=f.substr(1),null!=d)return b.matched=b.string.substr(b.pos,e-b.pos-1+d[0].length),b.prev_pos=e-1,b.pos=e,b.working=f.substr(d[0].length),b.matched;if(0===f.length)return b.matched=c}}),a.defn(g,"$[]",function(a){var b=this,d=b.match;return 0>a&&(a+=d.length),0>a||a>=d.length?c:null==d[a]?c:d[a]}),a.defn(g,"$check",function(a){var b=this;a=b.$anchor(a);var d=a.exec(b.working);return null==d?b.matched=c:b.matched=d[0]}),a.defn(g,"$check_until",function(a){var b=this,d=b.prev_pos,e=b.pos,f=b.$scan_until(a);return f!==c&&(b.matched=f.substr(-1),b.working=b.string.substr(e)),b.prev_pos=d,b.pos=e,f}),a.defn(g,"$peek",function(a){var b=this;return b.working.substring(0,a)}),a.defn(g,"$eos?",function(){var a=this;return 0===a.working.length}),a.defn(g,"$exist?",function(a){var b=this,d=a.exec(b.working);return null==d?c:0==d.index?0:d.index+1}),a.defn(g,"$skip",function(a){var b=this;a=b.$anchor(a);var d=a.exec(b.working);if(null==d)return b.matched=c;var e=d[0],f=e.length;return b.matched=e,b.prev_pos=b.pos,b.pos+=f,b.working=b.working.substring(f),f}),a.defn(g,"$skip_until",function(a){var b=this,d=b.$scan_until(a);return d===c?c:(b.matched=d.substr(-1),d.length)}),a.defn(g,"$get_byte",function(){var a=this,b=c;return a.pos<a.string.length?(a.prev_pos=a.pos,a.pos+=1,b=a.matched=a.working.substring(0,1),a.working=a.working.substring(1)):a.matched=c,b}),a.alias(g,"getch","get_byte"),a.defn(g,"$match?",function(a){var b=this;a=b.$anchor(a);var d=a.exec(b.working);return null==d?c:(b.prev_pos=b.pos,d[0].length)}),a.defn(g,"$pos=",function(a){var b=this;return 0>a&&(a+=b.string.$length()),b.pos=a,b.working=b.string.slice(a)}),a.defn(g,"$post_match",function(){var a=this;return a.matched===c?c:a.string.substr(a.pos)}),a.defn(g,"$pre_match",function(){var a=this;return a.matched===c?c:a.string.substr(0,a.prev_pos)}),a.defn(g,"$reset",function(){var a=this;return a.working=a.string,a.matched=c,a.pos=0}),a.defn(g,"$rest",function(){var a=this;return a.working}),a.defn(g,"$rest?",function(){var a=this;return 0!==a.working.length}),a.defn(g,"$rest_size",function(){var a=this;return a.$rest().$size()}),a.defn(g,"$terminate",function(){var a,b,d=this;return d.match=c,a=[d.string.$length()],b=d,b["$pos="].apply(b,a),a[a.length-1]}),a.defn(g,"$unscan",function(){var a=this;return a.pos=a.prev_pos,a.prev_pos=c,a.match=c,a}),g.$private(),a.defn(g,"$anchor",function(a){return new RegExp("^"+a.toString().substr(1,a.toString().length-2))}),c&&"anchor"}(b.base,null)},Opal.modules["asciidoctor/opal_ext/comparable"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass),e=a.module;return function(b,e){function f(){}var g=f=d(b,e,"BasicObject",f);g.$$proto,g.$$scope;return a.defn(g,"$!=",function(a){var b=this;return b!==a;
}),c&&"!="}(b.base,null),function(b){var d=e(b,"Comparable"),f=(d.$$proto,d.$$scope);a.defn(d,"$==",function(b){var d,e=this,g=c;try{return(d=e["$equal?"](b))===c||d.$$is_boolean&&1!=d?(d=g=e["$<=>"](b))===c||d.$$is_boolean&&1!=d?!1:0==g:!0}catch(h){if(!a.rescue(h,[f.get("StandardError")]))throw h;try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(d,"$!=",function(b){var d,e=this,g=c;try{return(d=e["$equal?"](b))===c||d.$$is_boolean&&1!=d?(d=g=e["$<=>"](b))===c||d.$$is_boolean&&1!=d?!0:0!=g:!1}catch(h){if(!a.rescue(h,[f.get("StandardError")]))throw h;try{return!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(d,"$>",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>0}),a.defn(d,"$>=",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>=0}),a.defn(d,"$<",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>e}),a.defn(d,"$<=",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>=e})}(b.base)},Opal.modules["asciidoctor/opal_ext/dir"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"Dir",f),h=(g.$$proto,g.$$scope);return a.defs(g,"$pwd",function(){var a;return(a=h.get("ENV")["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$getwd",function(){var a;return(a=h.get("ENV")["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$home",function(){return h.get("ENV")["$[]"]("HOME")}),c&&"home"}(b.base,null)},Opal.modules["asciidoctor/opal_ext/error"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(a,b){function e(){}var f=e=d(a,b,"SecurityError",e);f.$$proto,f.$$scope;return c}(b.base,b.get("Exception"))},Opal.modules["asciidoctor/opal_ext/file"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=(a.top,a),f=a.nil,g=a.breaker,h=(a.slice,a.module),i=a.klass,j=a.gvars,k=a.range;return function(b){var c,d=h(b,"Kernel"),e=(d.$$proto,d.$$scope);a.defn(d,"$open",c=function(b){var d,h,i=c.$$p,j=i||f,k=f,l=arguments.length-1;0>l&&(l=0);for(var m=new Array(l),n=0;l>n;n++)m[n]=arguments[n+1];return c.$$p=null,k=(d=e.get("File")).$new.apply(d,[b].concat(a.to_a(m))),j!==f?(h=a.yield1(j,k),h===g?h:h):k})}(e.base),function(e,h){function l(){}var m,n=l=i(e,h,"File",l),o=n.$$proto,p=n.$$scope;return o.eof=o.path=f,a.cdecl(p,"SEPARATOR","/"),a.cdecl(p,"ALT_SEPARATOR",f),n.$attr_reader("eof"),n.$attr_reader("lineno"),n.$attr_reader("path"),a.defn(n,"$initialize",function(a,b){var c=this;return null==b&&(b="r"),c.path=a,c.contents=f,c.eof=!1,c.lineno=0}),a.defn(n,"$read",function(){var a,b=this,c=f;return(a=b.eof)===f||a.$$is_boolean&&1!=a?(c=p.get("File").$read(b.path),b.eof=!0,b.lineno=c.$size(),c):""}),a.defn(n,"$each_line",m=function(b){var c,d=this,e=m.$$p,h=e||f,i=f;if(null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),m.$$p=null,(c=d.eof)!==f&&(!c.$$is_boolean||1==c))return function(){return h!==f?d:[].$to_enum()}();if(h!==f){i=p.get("File").$read(d.path),d.eof=!1,d.lineno=0;for(var k=i.$chomp(),l=i.length!=k.length,n=k.split(b),o=0,q=n.length;q>o;o++)d.lineno+=1,q-1>o||l?(c=a.yield1(h,n[o]+b))===g?g.$v:c:(c=a.yield1(h,n[o]))===g?g.$v:c;return d.eof=!0,d}return d.$read().$each_line()}),a.defs(n,"$expand_path",function(a){return a}),a.defs(n,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=new Array(a),d=0;a>d;d++)c[d]=arguments[d+0];return b(c,p.get("SEPARATOR"))}),a.defs(n,"$basename",function(a){var b,d=f;return(b=d=a.$rindex(p.get("SEPARATOR")))===f||b.$$is_boolean&&1!=b?a:a["$[]"](k(c(d,1),-1,!1))}),a.defs(n,"$dirname",function(a){var b,c=f;return(b=c=a.$rindex(p.get("SEPARATOR")))===f||b.$$is_boolean&&1!=b?".":a["$[]"](k(0,d(c,1),!1))}),a.defs(n,"$extname",function(a){var b,d=f;return(b=a["$nil_or_empty?"]())===f||b.$$is_boolean&&1!=b?(d=a["$[]"](k(1,-1,!1)).$rindex("."),(b=d["$nil?"]())===f||b.$$is_boolean&&1!=b?a["$[]"](k(c(d,1),-1,!1)):""):""}),a.defs(n,"$file?",function(a){return!0}),a.defs(n,"$readable?",function(a){return!0}),a.defs(n,"$read",function(a){var b=f;return function(){if(b=p.get("JAVASCRIPT_PLATFORM"),"node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var c=Java.type("java.nio.file.Paths"),d=Java.type("java.nio.file.Files"),e=d.readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8),f=[];return e.forEach(function(a){f.push(a)}),f.join("\n")}if("browser"["$==="](b)){var f="",g=-1;try{var h=new XMLHttpRequest;h.open("GET",a,!1),h.addEventListener("load",function(){g=this.status,(0==g||200==g)&&(f=this.responseText)}),h.overrideMimeType("text/plain"),h.send()}catch(i){g=0}if(404==g||0==g&&""==f)throw p.get("IOError").$new("No such file or directory: "+a);return f}return"standalone"["$==="](b)?read(a):""}()}),f&&"read"}(e.base,null),function(b,c){function d(){}var e=d=i(b,c,"IO",d),g=(e.$$proto,e.$$scope);return a.defs(e,"$read",function(a){return g.get("File").$read(a)}),f&&"read"}(e.base,null)},Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"MatchData",f),h=g.$$proto;g.$$scope;return h.matches=c,a.defn(g,"$[]=",function(a,b){var c=this;return c.matches["$[]="](a,b)}),c&&"[]="}(b.base,null)},Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var b,c,d=(a.top,a.nil),e=(a.breaker,a.slice,a.gvars);return null==e.stdout&&(e.stdout=d),null==e.stderr&&(e.stderr=d),b=[function(a){print(a)}],c=e.stdout,c["$write_proc="].apply(c,b),b[b.length-1],b=[function(a){print(a)}],c=e.stderr,c["$write_proc="].apply(c,b),b[b.length-1]},Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var b,c=a.top,d=a,e=a.nil,f=(a.breaker,a.slice,e);return b="undefined"!=typeof module&&module.exports?"node":"undefined"!=typeof XMLHttpRequest?"browser":"undefined"!=typeof Java&&Java.type?"java-nashorn":"undefined"!=typeof java?"java-rhino":"standalone",a.cdecl(d,"JAVASCRIPT_PLATFORM",b),c.$require("strscan"),c.$require("asciidoctor/opal_ext/comparable"),c.$require("asciidoctor/opal_ext/dir"),c.$require("asciidoctor/opal_ext/error"),c.$require("asciidoctor/opal_ext/file"),c.$require("asciidoctor/opal_ext/match_data"),function(){return f=d.get("JAVASCRIPT_PLATFORM"),"java-nashorn"["$==="](f)?c.$require("asciidoctor/opal_ext/nashorn/io"):e}()},Opal.modules.set=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}a.dynamic_require_severity="ignore";var d=(a.top,a),e=a.nil,f=a.breaker,g=(a.slice,a.klass),h=a.module;return function(d,h){function i(){}var j,k,l,m,n,o=i=g(d,h,"Set",i),p=o.$$proto,q=o.$$scope;return p.hash=e,o.$include(q.get("Enumerable")),a.defs(o,"$[]",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$new(c)}),a.defn(o,"$initialize",j=function(a){var b,c,d,f=this,g=j.$$p,h=g||e;return null==a&&(a=e),j.$$p=null,f.hash=q.get("Hash").$new(),(b=a["$nil?"]())===e||b.$$is_boolean&&1!=b?(((b=q.get("Enumerable")["$==="](a))===e||b.$$is_boolean&&1!=b)&&f.$raise(q.get("ArgumentError"),"value must be enumerable"),h!==!1&&h!==e?(b=(c=a).$each,b.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=e),b.$add(h.$call(a))},d.$$s=f,d),b).call(c):f.$merge(a)):e}),a.defn(o,"$dup",function(){var a=this,b=e;return b=a.$class().$new(),b.$merge(a)}),a.defn(o,"$-",function(a){var b,c=this;return((b=a["$respond_to?"]("each"))===e||b.$$is_boolean&&1!=b)&&c.$raise(q.get("ArgumentError"),"value must be enumerable"),c.$dup().$subtract(a)}),a.alias(o,"difference","-"),a.defn(o,"$inspect",function(){var a=this;return"#<Set: {"+a.$to_a().$join(",")+"}>"}),a.defn(o,"$==",function(a){var b,c,d,f=this;return(b=f["$equal?"](a))===e||b.$$is_boolean&&1!=b?(b=a["$instance_of?"](f.$class()))===e||b.$$is_boolean&&1!=b?(c=a["$is_a?"](q.get("Set")),(b=c!==!1&&c!==e?f.$size()["$=="](a.$size()):c)===e||b.$$is_boolean&&1!=b?!1:(b=(c=a)["$all?"],b.$$p=(d=function(a){var b=d.$$s||this;return null==b.hash&&(b.hash=e),null==a&&(a=e),b.hash["$include?"](a)},d.$$s=f,d),b).call(c)):f.hash["$=="](a.$instance_variable_get("@hash")):!0}),a.defn(o,"$add",function(a){var b=this;return b.hash["$[]="](a,!0),b}),a.alias(o,"<<","add"),a.defn(o,"$classify",k=function(){var b,c,d,g,h,i=this,j=k.$$p,l=j||e,m=e;return k.$$p=null,l===e?i.$enum_for("classify"):(m=(b=(c=q.get("Hash")).$new,b.$$p=(d=function(a,b){var c=d.$$s||this;return null==a&&(a=e),null==b&&(b=e),a["$[]="](b,c.$class().$new())},d.$$s=i,d),b).call(c),(b=(g=i).$each,b.$$p=(h=function(b){var c;h.$$s||this;return null==b&&(b=e),m["$[]"]((c=a.yield1(l,b))===f?f.$v:c).$add(b)},h.$$s=i,h),b).call(g),m)}),a.defn(o,"$collect!",l=function(){var b,c,d,g=this,h=l.$$p,i=h||e,j=e;return l.$$p=null,i===e?g.$enum_for("collect!"):(j=g.$class().$new(),(b=(c=g).$each,b.$$p=(d=function(b){var c;d.$$s||this;return null==b&&(b=e),j["$<<"]((c=a.yield1(i,b))===f?f.$v:c)},d.$$s=g,d),b).call(c),g.$replace(j))}),a.alias(o,"map!","collect!"),a.defn(o,"$delete",function(a){var b=this;return b.hash.$delete(a),b}),a.defn(o,"$delete?",function(a){var b,c=this;return(b=c["$include?"](a))===e||b.$$is_boolean&&1!=b?e:(c.$delete(a),c)}),a.defn(o,"$delete_if",m=function(){try{var b,c,d,g,h,i,j=this,k=m.$$p,l=k||e;return m.$$p=null,(b=l!==e)!=!1&&b!==e?b:a.ret(j.$enum_for("delete_if")),(b=(c=(g=(h=j).$select,g.$$p=(i=function(b){var c;i.$$s||this;return null==b&&(b=e),c=a.yield1(l,b),c===f?c:c},i.$$s=j,i),g).call(h)).$each,b.$$p=(d=function(a){var b=d.$$s||this;return null==b.hash&&(b.hash=e),null==a&&(a=e),b.hash.$delete(a)},d.$$s=j,d),b).call(c),j}catch(n){if(n===a.returner)return n.$v;throw n}}),a.defn(o,"$add?",function(a){var b,c=this;return(b=c["$include?"](a))===e||b.$$is_boolean&&1!=b?c.$add(a):e}),a.defn(o,"$each",n=function(){var a,b,c=this,d=n.$$p,f=d||e;return n.$$p=null,f===e?c.$enum_for("each"):((a=(b=c.hash).$each_key,a.$$p=f.$to_proc(),a).call(b),c)}),a.defn(o,"$empty?",function(){var a=this;return a.hash["$empty?"]()}),a.defn(o,"$eql?",function(a){var b,c,d,f=this;return f.hash["$eql?"]((b=(c=a).$instance_eval,b.$$p=(d=function(){var a=d.$$s||this;return null==a.hash&&(a.hash=e),a.hash},d.$$s=f,d),b).call(c))}),a.defn(o,"$clear",function(){var a=this;return a.hash.$clear(),a}),a.defn(o,"$include?",function(a){var b=this;return b.hash["$include?"](a)}),a.alias(o,"member?","include?"),a.defn(o,"$merge",function(a){var b,c,d,f=this;return(b=(c=a).$each,b.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=e),b.$add(a)},d.$$s=f,d),b).call(c),f}),a.defn(o,"$replace",function(a){var b=this;return b.$clear(),b.$merge(a),b}),a.defn(o,"$size",function(){var a=this;return a.hash.$size()}),a.alias(o,"length","size"),a.defn(o,"$subtract",function(a){var b,c,d,f=this;return(b=(c=a).$each,b.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=e),b.$delete(a)},d.$$s=f,d),b).call(c),f}),a.defn(o,"$|",function(a){var b,c=this;return((b=a["$respond_to?"]("each"))===e||b.$$is_boolean&&1!=b)&&c.$raise(q.get("ArgumentError"),"value must be enumerable"),c.$dup().$merge(a)}),a.defn(o,"$superset?",function(a){var c,d,f,g=this;return(c=a["$is_a?"](q.get("Set")))!==!1&&c!==e?c:g.$raise(q.get("ArgumentError"),"value must be a set"),b(g.$size(),a.$size())?!1:(c=(d=a)["$all?"],c.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=e),b["$include?"](a)},f.$$s=g,f),c).call(d)}),a.alias(o,">=","superset?"),a.defn(o,"$proper_superset?",function(a){var b,d,f,g=this;return(b=a["$is_a?"](q.get("Set")))!==!1&&b!==e?b:g.$raise(q.get("ArgumentError"),"value must be a set"),c(g.$size(),a.$size())?!1:(b=(d=a)["$all?"],b.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=e),b["$include?"](a)},f.$$s=g,f),b).call(d)}),a.alias(o,">","proper_superset?"),a.defn(o,"$subset?",function(a){var c,d,f,g=this;return(c=a["$is_a?"](q.get("Set")))!==!1&&c!==e?c:g.$raise(q.get("ArgumentError"),"value must be a set"),b(a.$size(),g.$size())?!1:(c=(d=g)["$all?"],c.$$p=(f=function(b){f.$$s||this;return null==b&&(b=e),a["$include?"](b)},f.$$s=g,f),c).call(d)}),a.alias(o,"<=","subset?"),a.defn(o,"$proper_subset?",function(a){var b,d,f,g=this;return(b=a["$is_a?"](q.get("Set")))!==!1&&b!==e?b:g.$raise(q.get("ArgumentError"),"value must be a set"),c(a.$size(),g.$size())?!1:(b=(d=g)["$all?"],b.$$p=(f=function(b){f.$$s||this;return null==b&&(b=e),a["$include?"](b)},f.$$s=g,f),b).call(d)}),a.alias(o,"<","proper_subset?"),a.alias(o,"+","|"),a.alias(o,"union","|"),a.defn(o,"$to_a",function(){var a=this;return a.hash.$keys()}),e&&"to_a"}(d.base,null),function(b){var c,d=h(b,"Enumerable"),f=(d.$$proto,d.$$scope);a.defn(d,"$to_set",c=function(b){var d,g,h=this,i=c.$$p,j=i||e,k=arguments.length-1;0>k&&(k=0);for(var l=new Array(k),m=0;k>m;m++)l[m]=arguments[m+1];return null==b&&(b=f.get("Set")),c.$$p=null,(d=(g=b).$new,d.$$p=j.$to_proc(),d).apply(g,[h].concat(a.to_a(l)))})}(d.base)},Opal.modules.strscan=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"StringScanner",f),h=g.$$proto;g.$$scope;return h.pos=h.string=h.working=h.matched=h.prev_pos=h.match=c,g.$attr_reader("pos"),g.$attr_reader("matched"),a.defn(g,"$initialize",function(a){var b=this;return b.string=a,b.pos=0,b.matched=c,b.working=a,b.match=[]}),g.$attr_reader("string"),a.defn(g,"$beginning_of_line?",function(){var a=this;return 0===a.pos||"\n"===a.string.charAt(a.pos-1)}),a.alias(g,"bol?","beginning_of_line?"),a.defn(g,"$scan",function(a){var b=this;a=b.$anchor(a);var d=a.exec(b.working);return null==d?b.matched=c:"object"==typeof d?(b.prev_pos=b.pos,b.pos+=d[0].length,b.working=b.working.substring(d[0].length),b.matched=d[0],b.match=d,d[0]):"string"==typeof d?(b.pos+=d.length,b.working=b.working.substring(d.length),d):c}),a.defn(g,"$scan_until",function(a){var b=this;a=b.$anchor(a);for(var d,e=b.pos,f=b.working;;){if(d=a.exec(f),e+=1,f=f.substr(1),null!=d)return b.matched=b.string.substr(b.pos,e-b.pos-1+d[0].length),b.prev_pos=e-1,b.pos=e,b.working=f.substr(d[0].length),b.matched;if(0===f.length)return b.matched=c}}),a.defn(g,"$[]",function(a){var b=this,d=b.match;return 0>a&&(a+=d.length),0>a||a>=d.length?c:null==d[a]?c:d[a]}),a.defn(g,"$check",function(a){var b=this;a=b.$anchor(a);var d=a.exec(b.working);return null==d?b.matched=c:b.matched=d[0]}),a.defn(g,"$check_until",function(a){var b=this,d=b.prev_pos,e=b.pos,f=b.$scan_until(a);return f!==c&&(b.matched=f.substr(-1),b.working=b.string.substr(e)),b.prev_pos=d,b.pos=e,f}),a.defn(g,"$peek",function(a){var b=this;return b.working.substring(0,a)}),a.defn(g,"$eos?",function(){var a=this;return 0===a.working.length}),a.defn(g,"$exist?",function(a){var b=this,d=a.exec(b.working);return null==d?c:0==d.index?0:d.index+1}),a.defn(g,"$skip",function(a){var b=this;a=b.$anchor(a);var d=a.exec(b.working);if(null==d)return b.matched=c;var e=d[0],f=e.length;return b.matched=e,b.prev_pos=b.pos,b.pos+=f,b.working=b.working.substring(f),f}),a.defn(g,"$skip_until",function(a){var b=this,d=b.$scan_until(a);return d===c?c:(b.matched=d.substr(-1),d.length)}),a.defn(g,"$get_byte",function(){var a=this,b=c;return a.pos<a.string.length?(a.prev_pos=a.pos,a.pos+=1,b=a.matched=a.working.substring(0,1),a.working=a.working.substring(1)):a.matched=c,b}),a.alias(g,"getch","get_byte"),a.defn(g,"$match?",function(a){var b=this;a=b.$anchor(a);var d=a.exec(b.working);return null==d?c:(b.prev_pos=b.pos,d[0].length)}),a.defn(g,"$pos=",function(a){var b=this;return 0>a&&(a+=b.string.$length()),b.pos=a,b.working=b.string.slice(a)}),a.defn(g,"$post_match",function(){var a=this;return a.matched===c?c:a.string.substr(a.pos)}),a.defn(g,"$pre_match",function(){var a=this;return a.matched===c?c:a.string.substr(0,a.prev_pos)}),a.defn(g,"$reset",function(){var a=this;return a.working=a.string,a.matched=c,a.pos=0}),a.defn(g,"$rest",function(){var a=this;return a.working}),a.defn(g,"$rest?",function(){var a=this;return 0!==a.working.length}),a.defn(g,"$rest_size",function(){var a=this;return a.$rest().$size()}),a.defn(g,"$terminate",function(){var a,b,d=this;return d.match=c,a=[d.string.$length()],b=d,b["$pos="].apply(b,a),a[a.length-1]}),a.defn(g,"$unscan",function(){var a=this;return a.pos=a.prev_pos,a.prev_pos=c,a.match=c,a}),g.$private(),a.defn(g,"$anchor",function(a){return new RegExp("^"+a.toString().substr(1,a.toString().length-2))}),c&&"anchor"}(b.base,null)},Opal.modules["asciidoctor/opal_ext/comparable"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass),e=a.module;return function(b,e){function f(){}var g=f=d(b,e,"BasicObject",f);g.$$proto,g.$$scope;return a.defn(g,"$!=",function(a){var b=this;return b!==a}),c&&"!="}(b.base,null),function(b){var d=e(b,"Comparable"),f=(d.$$proto,d.$$scope);a.defn(d,"$==",function(b){var d,e=this,g=c;try{return(d=e["$equal?"](b))===c||d.$$is_boolean&&1!=d?(d=g=e["$<=>"](b))===c||d.$$is_boolean&&1!=d?!1:0==g:!0}catch(h){if(!a.rescue(h,[f.get("StandardError")]))throw h;try{return!1}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(d,"$!=",function(b){var d,e=this,g=c;try{return(d=e["$equal?"](b))===c||d.$$is_boolean&&1!=d?(d=g=e["$<=>"](b))===c||d.$$is_boolean&&1!=d?!0:0!=g:!1}catch(h){if(!a.rescue(h,[f.get("StandardError")]))throw h;try{return!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(d,"$>",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>0}),a.defn(d,"$>=",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),e>=0}),a.defn(d,"$<",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>e}),a.defn(d,"$<=",function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===c||b.$$is_boolean&&1!=b)&&d.$raise(f.get("ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed"),0>=e})}(b.base)},Opal.modules["asciidoctor/opal_ext/dir"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"Dir",f),h=(g.$$proto,g.$$scope);return a.defs(g,"$pwd",function(){var a;return(a=h.get("ENV")["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$getwd",function(){var a;return(a=h.get("ENV")["$[]"]("PWD"))!==!1&&a!==c?a:"."}),a.defs(g,"$home",function(){return h.get("ENV")["$[]"]("HOME")}),c&&"home"}(b.base,null)},Opal.modules["asciidoctor/opal_ext/error"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(a,b){function e(){}var f=e=d(a,b,"SecurityError",e);f.$$proto,f.$$scope;return c}(b.base,b.get("Exception"))},Opal.modules["asciidoctor/opal_ext/file"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var e=(a.top,a),f=a.nil,g=a.breaker,h=(a.slice,a.module),i=a.klass,j=a.gvars,k=a.range;return function(b){var c,d=h(b,"Kernel"),e=(d.$$proto,d.$$scope);a.defn(d,"$open",c=function(b){var d,h,i=c.$$p,j=i||f,k=f,l=arguments.length-1;0>l&&(l=0);for(var m=new Array(l),n=0;l>n;n++)m[n]=arguments[n+1];return c.$$p=null,k=(d=e.get("File")).$new.apply(d,[b].concat(a.to_a(m))),j!==f?(h=a.yield1(j,k),h===g?h:h):k})}(e.base),function(e,h){function l(){}var m,n=l=i(e,h,"File",l),o=n.$$proto,p=n.$$scope;return o.eof=o.path=f,a.cdecl(p,"SEPARATOR","/"),a.cdecl(p,"ALT_SEPARATOR",f),n.$attr_reader("eof"),n.$attr_reader("lineno"),n.$attr_reader("path"),a.defn(n,"$initialize",function(a,b){var c=this;return null==b&&(b="r"),c.path=a,c.contents=f,c.eof=!1,c.lineno=0}),a.defn(n,"$read",function(){var a,b=this,c=f;return(a=b.eof)===f||a.$$is_boolean&&1!=a?(c=p.get("File").$read(b.path),b.eof=!0,b.lineno=c.$size(),c):""}),a.defn(n,"$each_line",m=function(b){var c,d=this,e=m.$$p,h=e||f,i=f;if(null==j["/"]&&(j["/"]=f),null==b&&(b=j["/"]),m.$$p=null,(c=d.eof)!==f&&(!c.$$is_boolean||1==c))return function(){return h!==f?d:[].$to_enum()}();if(h!==f){i=p.get("File").$read(d.path),d.eof=!1,d.lineno=0;for(var k=i.$chomp(),l=i.length!=k.length,n=k.split(b),o=0,q=n.length;q>o;o++)d.lineno+=1,q-1>o||l?(c=a.yield1(h,n[o]+b))===g?g.$v:c:(c=a.yield1(h,n[o]))===g?g.$v:c;return d.eof=!0,d}return d.$read().$each_line()}),a.defs(n,"$expand_path",function(a){return a}),a.defs(n,"$join",function(){var a=arguments.length-0;0>a&&(a=0);for(var c=new Array(a),d=0;a>d;d++)c[d]=arguments[d+0];return b(c,p.get("SEPARATOR"))}),a.defs(n,"$basename",function(a){var b,d=f;return(b=d=a.$rindex(p.get("SEPARATOR")))===f||b.$$is_boolean&&1!=b?a:a["$[]"](k(c(d,1),-1,!1))}),a.defs(n,"$dirname",function(a){var b,c=f;return(b=c=a.$rindex(p.get("SEPARATOR")))===f||b.$$is_boolean&&1!=b?".":a["$[]"](k(0,d(c,1),!1))}),a.defs(n,"$extname",function(a){var b,d=f;return(b=a["$nil_or_empty?"]())===f||b.$$is_boolean&&1!=b?(d=a["$[]"](k(1,-1,!1)).$rindex("."),(b=d["$nil?"]())===f||b.$$is_boolean&&1!=b?a["$[]"](k(c(d,1),-1,!1)):""):""}),a.defs(n,"$file?",function(a){return!0}),a.defs(n,"$readable?",function(a){return!0}),a.defs(n,"$read",function(a){var b=f;return function(){if(b=p.get("JAVASCRIPT_PLATFORM"),"node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var c=Java.type("java.nio.file.Paths"),d=Java.type("java.nio.file.Files"),e=d.readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8),f=[];return e.forEach(function(a){f.push(a)}),f.join("\n")}if("browser"["$==="](b)){var f="",g=-1;try{var h=new XMLHttpRequest;h.open("GET",a,!1),h.addEventListener("load",function(){g=this.status,(0==g||200==g)&&(f=this.responseText)}),h.overrideMimeType("text/plain"),h.send()}catch(i){g=0}if(404==g||0==g&&""==f)throw p.get("IOError").$new("No such file or directory: "+a);return f}return"standalone"["$==="](b)?read(a):""}()}),f&&"read"}(e.base,null),function(b,c){function d(){}var e=d=i(b,c,"IO",d),g=(e.$$proto,e.$$scope);return a.defs(e,"$read",function(a){return g.get("File").$read(a)}),f&&"read"}(e.base,null)},Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"MatchData",f),h=g.$$proto;g.$$scope;return h.matches=c,a.defn(g,"$[]=",function(a,b){var c=this;return c.matches["$[]="](a,b)}),c&&"[]="}(b.base,null)},Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){a.dynamic_require_severity="ignore";var b,c,d=(a.top,a.nil),e=(a.breaker,a.slice,a.gvars);return null==e.stdout&&(e.stdout=d),null==e.stderr&&(e.stderr=d),b=[function(a){print(a)}],c=e.stdout,c["$write_proc="].apply(c,b),b[b.length-1],b=[function(a){print(a)}],c=e.stderr,c["$write_proc="].apply(c,b),b[b.length-1]},Opal.modules["asciidoctor/opal_ext"]=function(a){a.dynamic_require_severity="ignore";var b,c=a.top,d=a,e=a.nil,f=(a.breaker,a.slice,e);return b="undefined"!=typeof module&&module.exports?"node":"undefined"!=typeof XMLHttpRequest?"browser":"undefined"!=typeof Java&&Java.type?"java-nashorn":"undefined"!=typeof java?"java-rhino":"standalone",a.cdecl(d,"JAVASCRIPT_PLATFORM",b),c.$require("strscan"),c.$require("asciidoctor/opal_ext/comparable"),c.$require("asciidoctor/opal_ext/dir"),c.$require("asciidoctor/opal_ext/error"),c.$require("asciidoctor/opal_ext/file"),c.$require("asciidoctor/opal_ext/match_data"),function(){return f=d.get("JAVASCRIPT_PLATFORM"),"java-nashorn"["$==="](f)?c.$require("asciidoctor/opal_ext/nashorn/io"):e}()},Opal.modules["asciidoctor/version"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=(a.nil,a.breaker,a.slice,a.module);return function(b){var d=c(b,"Asciidoctor"),e=(d.$$proto,d.$$scope);a.cdecl(e,"VERSION","1.5.3")}(b.base)},Opal.modules["asciidoctor/timings"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var e=(a.top,a),f=a.nil,g=(a.breaker,a.slice,a.module),h=a.klass,i=a.hash2,j=a.gvars;return function(e){var k=g(e,"Asciidoctor"),l=(k.$$proto,k.$$scope);!function(e,g){function k(){}var l=k=h(e,g,"Timings",k),m=l.$$proto;l.$$scope;return m.timers=m.log=f,a.defn(l,"$initialize",function(){var a=this;return a.log=i([],{}),a.timers=i([],{})}),a.defn(l,"$start",function(b){var c=this;return c.timers["$[]="](b,a.get("Time").$now())}),a.defn(l,"$record",function(c){var d=this;return d.log["$[]="](c,b(a.get("Time").$now(),d.timers.$delete(c)))}),a.defn(l,"$read_parse",function(){var a,b=this,e=f;return c(e=d((a=b.log["$[]"]("read"))!==!1&&a!==f?a:0,(a=b.log["$[]"]("parse"))!==!1&&a!==f?a:0),0)?e:f}),a.defn(l,"$convert",function(){var a,b=this;return(a=b.log["$[]"]("convert"))!==!1&&a!==f?a:0}),a.defn(l,"$read_parse_convert",function(){var a,b=this,e=f;return c(e=d(d((a=b.log["$[]"]("read"))!==!1&&a!==f?a:0,(a=b.log["$[]"]("parse"))!==!1&&a!==f?a:0),(a=b.log["$[]"]("convert"))!==!1&&a!==f?a:0),0)?e:f}),a.defn(l,"$total",function(){var a,b=this,e=f;return c(e=d(d(d((a=b.log["$[]"]("read"))!==!1&&a!==f?a:0,(a=b.log["$[]"]("parse"))!==!1&&a!==f?a:0),(a=b.log["$[]"]("convert"))!==!1&&a!==f?a:0),(a=b.log["$[]"]("write"))!==!1&&a!==f?a:0),0)?e:f}),a.defn(l,"$print_report",function(a,b){var c=this;return null==j.stdout&&(j.stdout=f),null==a&&(a=j.stdout),null==b&&(b=f),b!==!1&&b!==f&&a.$puts("Input file: "+b),a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](c.$read_parse().$to_f())),a.$puts("  Time to convert document: "+"%05.5f"["$%"](c.$convert().$to_f())),a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](c.$read_parse_convert().$to_f()))}),f&&"print_report"}(l.base,null)}(e.base)},Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g,h=f=d(b,e,"NilClass",f);h.$$proto,h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.alias(h,"nil_or_empty?","nil?"):c}(b.base,null),function(b,e){function f(){}var g,h=f=d(b,e,"String",f);h.$$proto,h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.alias(h,"nil_or_empty?","empty?"):c}(b.base,null),function(b,e){function f(){}var g,h=f=d(b,e,"Array",f);h.$$proto,h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.alias(h,"nil_or_empty?","empty?"):c}(b.base,null),function(b,e){function f(){}var g,h=f=d(b,e,"Hash",f);h.$$proto,h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.alias(h,"nil_or_empty?","empty?"):c}(b.base,null),function(b,e){function f(){}var g,h=f=d(b,e,"Numeric",f);h.$$proto,h.$$scope;return(g=h["$respond_to?"]("nil_or_empty?"))===c||g.$$is_boolean&&1!=g?a.alias(h,"nil_or_empty?","nil?"):c}(b.base,null)},Opal.modules["asciidoctor/core_ext"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a,d=a.nil;a.breaker,a.slice;return b.$require("asciidoctor/core_ext/object/nil_or_empty"),c.get("RUBY_ENGINE")["$=="]("opal")?d:void 0},Opal.modules["asciidoctor/helpers"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.module),e=a.range,f=a.gvars;return function(b){var g=d(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(b){var g=d(b,"Helpers"),h=(g.$$proto,g.$$scope);a.defs(g,"$require_library",function(b,d,e){var f=this,g=c,h=c;null==d&&(d=!0),null==e&&(e="abort");try{return f.$require(b)}catch(i){if(!a.rescue(i,[a.get("LoadError")]))throw i;g=i;try{return d!==!1&&d!==c?(d["$=="](!0)&&(d=b),function(){return h=e,"abort"["$==="](h)?f.$fail("asciidoctor: FAILED: required gem '"+d+"' is not installed. Processing aborted."):"warn"["$==="](h)?f.$warn("asciidoctor: WARNING: optional gem '"+d+"' is not installed. Functionality disabled."):c}()):function(){return h=e,"abort"["$==="](h)?f.$fail("asciidoctor: FAILED: "+g.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](h)?f.$warn("asciidoctor: WARNING: "+g.$message().$chomp(".")+". Functionality disabled."):c}()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defs(g,"$normalize_lines",function(b){var c=this;return b.$class()["$=="](a.get("String"))?c.$normalize_lines_from_string(b):c.$normalize_lines_array(b)}),a.defs(g,"$normalize_lines_array",function(b){var d,f,g,i,j,k,l,m,n,o=this,p=c,q=c,r=c,s=c;return(d=b["$empty?"]())===c||d.$$is_boolean&&1!=d?(p=(q=b["$[]"](0))["$[]"](e(0,2,!1)).$bytes().$to_a(),(d=h.get("COERCE_ENCODING"))===c||d.$$is_boolean&&1!=d?(p["$=="](h.get("BOM_BYTES_UTF_8"))&&b["$[]="](0,q["$[]"](e(3,-1,!1))),(d=(m=b).$map,d.$$p=(n=function(a){n.$$s||this;return null==a&&(a=c),a.$rstrip()},n.$$s=o,n),d).call(m)):(r=a.get("Encoding").$$scope.get("UTF_8"),(s=p["$[]"](e(0,1,!1)))["$=="](h.get("BOM_BYTES_UTF_16LE"))?(d=(f=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(r).$lines()).$map,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=c),a.$rstrip()},g.$$s=o,g),d).call(f):s["$=="](h.get("BOM_BYTES_UTF_16BE"))?(b["$[]="](0,q.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](e(1,-1,!1))),(d=(i=b).$map,d.$$p=(j=function(b){j.$$s||this;return null==b&&(b=c),""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(r).$rstrip()},j.$$s=o,j),d).call(i)):(p["$[]"](e(0,2,!1))["$=="](h.get("BOM_BYTES_UTF_8"))&&b["$[]="](0,q.$force_encoding(r)["$[]"](e(1,-1,!1))),(d=(k=b).$map,d.$$p=(l=function(a){l.$$s||this;return null==a&&(a=c),a.$encoding()["$=="](r)?a.$rstrip():a.$force_encoding(r).$rstrip()},l.$$s=o,l),d).call(k)))):[]}),a.defs(g,"$normalize_lines_from_string",function(b){var d,f,g,i=this,j=c,k=c,l=c;return(d=b["$nil_or_empty?"]())===c||d.$$is_boolean&&1!=d?((d=h.get("COERCE_ENCODING"))===c||d.$$is_boolean&&1!=d?b["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](h.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](e(3,-1,!1))):(j=a.get("Encoding").$$scope.get("UTF_8"),k=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(l=k["$[]"](e(0,1,!1)))["$=="](h.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(j):l["$=="](h.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](e(1,-1,!1)).$encode(j):k["$[]"](e(0,2,!1))["$=="](h.get("BOM_BYTES_UTF_8"))?b=function(){return b.$encoding()["$=="](j)?b["$[]"](e(1,-1,!1)):b.$force_encoding(j)["$[]"](e(1,-1,!1))}():b.$encoding()["$=="](j)||(b=b.$force_encoding(j))),(d=(f=b.$each_line()).$map,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=c),a.$rstrip()},g.$$s=i,g),d).call(f)):[]}),a.defs(g,"$uriish?",function(a){var b;return b=a["$include?"](":"),b!==!1&&b!==c?a["$=~"](h.get("UriSniffRx")):b}),a.defs(g,"$uri_prefix",function(a){
var b,d;return d=a["$include?"](":"),(b=d!==!1&&d!==c?a["$=~"](h.get("UriSniffRx")):d)===c||b.$$is_boolean&&1!=b?c:(b=f["~"])===c?c:b["$[]"](0)}),a.cdecl(h,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),a.defs(g,"$encode_uri",function(a){var b,d,e,g=this;return(b=(d=a).$gsub,b.$$p=(e=function(){var a,b,d,g,h=e.$$s||this;return(a=(b=((g=f["~"])===c?c:g["$[]"](0)).$each_byte()).$map,a.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=c),b.$sprintf("%%%02X",a)},d.$$s=h,d),a).call(b).$join()},e.$$s=g,e),b).call(d,h.get("REGEXP_ENCODE_URI_CHARS"))}),a.defs(g,"$rootname",function(b){var d,f=c;return(d=(f=a.get("File").$extname(b))["$empty?"]())===c||d.$$is_boolean&&1!=d?b["$[]"](e(0,f.$length()["$-@"](),!0)):b}),a.defs(g,"$basename",function(b,d){var e;return null==d&&(d=!1),d!==!1&&d!==c?a.get("File").$basename(b,(e=a.get("File").$extname(b))!==!1&&e!==c?e:""):a.get("File").$basename(b)}),a.defs(g,"$mkdir_p",function(b){var d,e,f=this,g=c;return(d=a.get("File")["$directory?"](b))===c||d.$$is_boolean&&1!=d?(g=a.get("File").$dirname(b),e=a.get("File")["$directory?"](g=a.get("File").$dirname(b))["$!"](),(d=e!==!1&&e!==c?g["$!="]("."):e)===c||d.$$is_boolean&&1!=d||f.$mkdir_p(g),a.get("Dir").$mkdir(b)):c})}(h.base)}(b.base)},Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var f=(a.top,a),g=a.nil,h=a.breaker,i=a.slice,j=a.module,k=a.hash2,l=a.gvars,m=a.range;return function(f){var n=j(f,"Asciidoctor"),o=(n.$$proto,n.$$scope);!function(f){var n=j(f,"Substitutors"),o=(n.$$proto,n.$$scope);a.cdecl(o,"SPECIAL_CHARS",k(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"})),a.cdecl(o,"SPECIAL_CHARS_PATTERN",new RegExp("["+o.get("SPECIAL_CHARS").$keys().$join()+"]")),a.cdecl(o,"SUBS",k(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),a.cdecl(o,"COMPOSITE_SUBS",k(["none","normal","verbatim","specialchars"],{none:[],normal:o.get("SUBS")["$[]"]("normal"),verbatim:o.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]})),a.cdecl(o,"SUB_SYMBOLS",k(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),a.cdecl(o,"SUB_OPTIONS",k(["block","inline"],{block:b(b(o.get("COMPOSITE_SUBS").$keys(),o.get("SUBS")["$[]"]("normal")),["callouts"]),inline:b(o.get("COMPOSITE_SUBS").$keys(),o.get("SUBS")["$[]"]("normal"))})),a.cdecl(o,"SUB_HIGHLIGHT",["coderay","pygments"]),a.cdecl(o,"PASS_START",""),a.cdecl(o,"PASS_END",""),a.cdecl(o,"PASS_MATCH",/\u0096(\d+)\u0097/),a.cdecl(o,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),n.$attr_reader("passthroughs"),a.defn(n,"$apply_subs",function(d,e,f){var h,i,j,k,l,m=this,n=g,p=g,q=g,r=g;return null==m.passthroughs&&(m.passthroughs=g),null==e&&(e="normal"),null==f&&(f=!1),(h=e["$!"]())===g||h.$$is_boolean&&1!=h?(e["$=="]("normal")?e=o.get("SUBS")["$[]"]("normal"):f!==!1&&f!==g&&((h=a.get("Symbol")["$==="](e))===g||h.$$is_boolean&&1!=h?(n=[],(h=(i=e).$each,h.$$p=(j=function(a){var c;j.$$s||this;return null==a&&(a=g),(c=o.get("COMPOSITE_SUBS")["$has_key?"](a))===g||c.$$is_boolean&&1!=c?n["$<<"](a):n=b(n,o.get("COMPOSITE_SUBS")["$[]"](a))},j.$$s=m,j),h).call(i),e=n):e=(h=o.get("COMPOSITE_SUBS")["$[]"](e))!==!1&&h!==g?h:[e]),(h=e["$empty?"]())===g||h.$$is_boolean&&1!=h?(p=function(){return(h=q=a.get("Array")["$==="](d))===g||h.$$is_boolean&&1!=h?d:c(d,o.get("EOL"))}(),(h=r=e["$include?"]("macros"))===g||h.$$is_boolean&&1!=h||(p=m.$extract_passthroughs(p),(h=m.passthroughs["$empty?"]())===g||h.$$is_boolean&&1!=h||(r=!1)),(h=(k=e).$each,h.$$p=(l=function(a){var b,d=l.$$s||this,f=g;return null==a&&(a=g),function(){return f=a,"specialcharacters"["$==="](f)?p=d.$sub_specialchars(p):"quotes"["$==="](f)?p=d.$sub_quotes(p):"attributes"["$==="](f)?p=c(d.$sub_attributes(p.$split(o.get("EOL"))),o.get("EOL")):"replacements"["$==="](f)?p=d.$sub_replacements(p):"macros"["$==="](f)?p=d.$sub_macros(p):"highlight"["$==="](f)?p=d.$highlight_source(p,e["$include?"]("callouts")):"callouts"["$==="](f)?(b=e["$include?"]("highlight"))===g||b.$$is_boolean&&1!=b?p=d.$sub_callouts(p):g:"post_replacements"["$==="](f)?p=d.$sub_post_replacements(p):d.$warn("asciidoctor: WARNING: unknown substitution type "+a)}()},l.$$s=m,l),h).call(k),r!==!1&&r!==g&&(p=m.$restore_passthroughs(p)),q!==!1&&q!==g?p.$split(o.get("EOL")):p):d):d}),a.defn(n,"$apply_normal_subs",function(b){var d,e=this;return e.$apply_subs(function(){return(d=a.get("Array")["$==="](b))===g||d.$$is_boolean&&1!=d?b:c(b,o.get("EOL"))}())}),a.defn(n,"$apply_title_subs",function(a){var b=this;return b.$apply_subs(a,o.get("SUBS")["$[]"]("title"))}),a.defn(n,"$apply_header_subs",function(a){var b=this;return b.$apply_subs(a,o.get("SUBS")["$[]"]("header"))}),a.defn(n,"$extract_passthroughs",function(b){var f,h,i,j,n,p,q,r,s=this,t=g,u=g,v=g,w=g;return null==s.document&&(s.document=g),t=s.document.$compat_mode(),(f=(h=(i=b["$include?"]("++"))!==!1&&i!==g?i:b["$include?"]("$$"))!==!1&&h!==g?h:b["$include?"]("ss:"))===g||f.$$is_boolean&&1!=f||(b=(f=(h=b).$gsub,f.$$p=(j=function(){var b,f,h=j.$$s||this,i=g,n=g,p=g,q=g,r=g,s=g,u=g,v=g,w=g;if(null==h.passthroughs&&(h.passthroughs=g),null==l["~"]&&(l["~"]=g),i=l["~"],n=g,(b=(p=i["$[]"](4))["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b){if((b=(f=t!==!1&&t!==g)?p["$=="]("++"):t)!==g&&(!b.$$is_boolean||1==b))return function(){return(b=i["$[]"](2)["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?""+i["$[]"](1)+"["+i["$[]"](2)+"]"+i["$[]"](3)+"++"+h.$extract_passthroughs(i["$[]"](5))+"++":""+i["$[]"](1)+i["$[]"](3)+"++"+h.$extract_passthroughs(i["$[]"](5))+"++"}();if(r=i["$[]"](2),(b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||r["$=="]("")&&(r=g),s=i["$[]"](3).$size(),u=i["$[]"](5),v=!1,r!==!1&&r!==g){if(d(s,0))return""+i["$[]"](1)+"["+r+"]"+c("\\",e(s,1))+p+i["$[]"](5)+p+")";i["$[]"](1)["$=="]("\\")?(n="["+r+"]",r=g):((b=(f=p["$=="]("++"))?r["$end_with?"]("x-"):p["$=="]("++"))===g||b.$$is_boolean&&1!=b||(v=!0,r=r["$[]"](m(0,-2,!0))),r=h.$parse_attributes(r))}else if(d(s,0))return""+i["$[]"](1)+"["+r+"]"+c("\\",e(s,1))+p+i["$[]"](5)+p;w=function(){return p["$=="]("+++")?[]:["specialcharacters"]}(),q=h.passthroughs.$size(),r!==!1&&r!==g?v!==!1&&v!==g?h.passthroughs["$[]="](q,k(["text","subs","type","attributes"],{text:u,subs:o.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:r})):h.passthroughs["$[]="](q,k(["text","subs","type","attributes"],{text:u,subs:w,type:"unquoted",attributes:r})):h.passthroughs["$[]="](q,k(["text","subs"],{text:u,subs:w}))}else{if(i["$[]"](6)["$=="]("\\"))return i["$[]"](0)["$[]"](m(1,-1,!1));h.passthroughs["$[]="](q=h.passthroughs.$size(),k(["text","subs"],{text:h.$unescape_brackets(i["$[]"](8)),subs:function(){return(b=i["$[]"](7)["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?h.$resolve_pass_subs(i["$[]"](7)):[]}()}))}return""+n+o.get("PASS_START")+q+o.get("PASS_END")},j.$$s=s,j),f).call(h,o.get("PassInlineMacroRx"))),f=a.to_ary(o.get("PassInlineRx")["$[]"](t)),u=null==f[0]?g:f[0],v=null==f[1]?g:f[1],w=null==f[2]?g:f[2],(f=(i=b["$include?"](u))!==!1&&i!==g?i:(n=v!==!1&&v!==g)?b["$include?"](v):v)===g||f.$$is_boolean&&1!=f||(b=(f=(i=b).$gsub,f.$$p=(p=function(){var b,c,d=p.$$s||this,e=g,f=g,h=g,i=g,j=g,n=g,q=g,r=g,s=g;if(null==d.passthroughs&&(d.passthroughs=g),null==l["~"]&&(l["~"]=g),e=l["~"],f=e["$[]"](1),h=e["$[]"](2),i=function(){return(b=e["$[]"](3)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?g:"\\"}(),j=e["$[]"](4),n=e["$[]"](5),(b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||h["$=="]("")&&(h=g),t!==!1&&t!==g?q=!0:(b=q=(c=h!==!1&&h!==g)?h["$end_with?"]("x-"):h)===g||b.$$is_boolean&&1!=b||(h=h["$[]"](m(0,-2,!0))),h!==!1&&h!==g){if((b=(c=j["$=="]("`"))?q["$!"]():j["$=="]("`"))!==g&&(!b.$$is_boolean||1==b))return""+f+"["+h+"]"+i+"`"+d.$extract_passthroughs(n)+"`";if(i!==!1&&i!==g)return""+f+"["+h+"]"+e["$[]"](3)["$[]"](m(1,-1,!1));f["$=="]("\\")?(f="["+h+"]",h=g):h=d.$parse_attributes(h)}else{if(!((b=(c=j["$=="]("`"))?q["$!"]():j["$=="]("`"))===g||b.$$is_boolean&&1!=b))return""+f+i+"`"+d.$extract_passthroughs(n)+"`";if(i!==!1&&i!==g)return""+f+e["$[]"](3)["$[]"](m(1,-1,!1))}return r=d.passthroughs.$size(),t!==!1&&t!==g?d.passthroughs["$[]="](r,k(["text","subs","attributes","type"],{text:n,subs:["specialcharacters"],attributes:h,type:"monospaced"})):h!==!1&&h!==g?q!==!1&&q!==g?(s=function(){return j["$=="]("`")?["specialcharacters"]:o.get("SUBS")["$[]"]("normal")}(),d.passthroughs["$[]="](r,k(["text","subs","attributes","type"],{text:n,subs:s,attributes:h,type:"monospaced"}))):d.passthroughs["$[]="](r,k(["text","subs","attributes","type"],{text:n,subs:["specialcharacters"],attributes:h,type:"unquoted"})):d.passthroughs["$[]="](r,k(["text","subs"],{text:n,subs:["specialcharacters"]})),""+f+o.get("PASS_START")+r+o.get("PASS_END")},p.$$s=s,p),f).call(i,w)),n=b["$include?"](":"),(f=n!==!1&&n!==g?(q=b["$include?"]("stem:"))!==!1&&q!==g?q:b["$include?"]("math:"):n)===g||f.$$is_boolean&&1!=f||(b=(f=(n=b).$gsub,f.$$p=(r=function(){var a,b=r.$$s||this,c=g,d=g,e=g,f=g,h=g,i=g;return null==b.document&&(b.document=g),null==b.passthroughs&&(b.passthroughs=g),null==l["~"]&&(l["~"]=g),c=l["~"],(a=c["$[]"](0)["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?((d=c["$[]"](1).$to_sym())["$=="]("stem")&&(d=function(){return(a=(e=b.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?e:"asciimath"}().$to_sym()),f=b.$unescape_brackets(c["$[]"](3)),h=(a=c["$[]"](2)["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?b.$resolve_pass_subs(c["$[]"](2)):function(){return(a=b.document["$basebackend?"]("html"))===g||a.$$is_boolean&&1!=a?[]:["specialcharacters"]}(),b.passthroughs["$[]="](i=b.passthroughs.$size(),k(["text","subs","type"],{text:f,subs:h,type:d})),""+o.get("PASS_START")+i+o.get("PASS_END")):c["$[]"](0)["$[]"](m(1,-1,!1))},r.$$s=s,r),f).call(n,o.get("StemInlineMacroRx"))),b}),a.defn(n,"$restore_passthroughs",function(a,b){var c,d,e,f,h=this;null==h.passthroughs&&(h.passthroughs=g),null==b&&(b=!0);try{return(c=(d=b!==!1&&b!==g)?(e=h.passthroughs["$empty?"]())!==!1&&e!==g?e:a["$include?"](o.get("PASS_START"))["$!"]():b)===g||c.$$is_boolean&&1!=c?(c=(d=a).$gsub,c.$$p=(f=function(){var a,b=f.$$s||this,c=g,d=g,e=g,h=g;return null==b.passthroughs&&(b.passthroughs=g),null==l["~"]&&(l["~"]=g),c=b.passthroughs["$[]"](l["~"]["$[]"](1).$to_i()),d=function(){return(a=e=c["$[]"]("subs"))===g||a.$$is_boolean&&1!=a?c["$[]"]("text"):b.$apply_subs(c["$[]"]("text"),e)}(),(a=h=c["$[]"]("type"))===g||a.$$is_boolean&&1!=a||(d=o.get("Inline").$new(b,"quoted",d,k(["type","attributes"],{type:h,attributes:c["$[]"]("attributes")})).$convert()),(a=d["$include?"](o.get("PASS_START")))===g||a.$$is_boolean&&1!=a?d:b.$restore_passthroughs(d,!1)},f.$$s=h,f),c).call(d,o.get("PASS_MATCH")):a}finally{b!==!1&&b!==g&&h.passthroughs.$clear()}}),a.defn(n,"$sub_specialchars",function(a){var b,c,d,e=this;return(b=o.get("SUPPORTS_GSUB_RESULT_HASH"))===g||b.$$is_boolean&&1!=b?(b=(c=a).$gsub,b.$$p=(d=function(){var a;d.$$s||this;return o.get("SPECIAL_CHARS")["$[]"]((a=l["~"])===g?g:a["$[]"](0))},d.$$s=e,d),b).call(c,o.get("SPECIAL_CHARS_PATTERN")):a.$gsub(o.get("SPECIAL_CHARS_PATTERN"),o.get("SPECIAL_CHARS"))}),a.alias(n,"sub_specialcharacters","sub_specialchars"),a.defn(n,"$sub_quotes",function(b){var c,d,e,f,h,i=this,j=g;return null==i.document&&(i.document=g),(c=a.get("RUBY_ENGINE_OPAL"))===g||c.$$is_boolean&&1!=c?(j=""+b,(c=(f=o.get("QUOTE_SUBS")["$[]"](i.document.$compat_mode())).$each,c.$$p=(h=function(a,b,c){var d,e,f,i=h.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),(d=(e=j)["$gsub!"],d.$$p=(f=function(){var c=f.$$s||this;return null==l["~"]&&(l["~"]=g),c.$convert_quoted_text(l["~"],a,b)},f.$$s=i,f),d).call(e,c)},h.$$s=i,h),c).call(f)):(j=b,(c=(d=o.get("QUOTE_SUBS")["$[]"](i.document.$compat_mode())).$each,c.$$p=(e=function(a,b,c){var d,f,h,i=e.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),j=(d=(f=j).$gsub,d.$$p=(h=function(){var c=h.$$s||this;return null==l["~"]&&(l["~"]=g),c.$convert_quoted_text(l["~"],a,b)},h.$$s=i,h),d).call(f,c)},e.$$s=i,e),c).call(d)),j}),a.defn(n,"$sub_replacements",function(b){var c,d,e,f,h,i=this,j=g;return(c=a.get("RUBY_ENGINE_OPAL"))===g||c.$$is_boolean&&1!=c?(j=""+b,(c=(f=o.get("REPLACEMENTS")).$each,c.$$p=(h=function(a,b,c){var d,e,f,i=h.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),(d=(e=j)["$gsub!"],d.$$p=(f=function(){var a=f.$$s||this;return null==l["~"]&&(l["~"]=g),a.$do_replacement(l["~"],b,c)},f.$$s=i,f),d).call(e,a)},h.$$s=i,h),c).call(f)):(j=b,(c=(d=o.get("REPLACEMENTS")).$each,c.$$p=(e=function(a,b,c){var d,f,h,i=e.$$s||this;return null==a&&(a=g),null==b&&(b=g),null==c&&(c=g),j=(d=(f=j).$gsub,d.$$p=(h=function(){var a=h.$$s||this;return null==l["~"]&&(l["~"]=g),a.$do_replacement(l["~"],b,c)},h.$$s=i,h),d).call(f,a)},e.$$s=i,e),c).call(d)),j}),a.defn(n,"$do_replacement",function(a,b,c){var d,e=g,f=g;return(d=(e=a["$[]"](0))["$include?"]("\\"))===g||d.$$is_boolean&&1!=d?function(){return f=c,"none"["$==="](f)?b:"leading"["$==="](f)?""+a["$[]"](1)+b:"bounding"["$==="](f)?""+a["$[]"](1)+b+a["$[]"](2):g}():e.$tr("\\","")}),a.defn(n,"$sub_attributes",function(d,e){var f,i,j,n=this,p=g,q=g,r=g,s=g;return null==n.document&&(n.document=g),null==e&&(e=k([],{})),(f=d["$nil_or_empty?"]())===g||f.$$is_boolean&&1!=f?((f=p=a.get("String")["$==="](d))===g||f.$$is_boolean&&1!=f||(d=[d]),q=n.document.$attributes(),r=g,s=[],(f=(i=d).$each,f.$$p=(j=function(c){var d,f,i,k,n,p=j.$$s||this,t=g,u=g;return null==c&&(c=g),t=!1,u=!1,(d=c["$include?"]("{"))===g||d.$$is_boolean&&1!=d||(c=(d=(f=c).$gsub,d.$$p=(i=function(){var c,d,f=i.$$s||this,j=g,k=g,n=g,p=g,s=g,v=g,w=g,x=g,y=g,z=g;return null==f.document&&(f.document=g),null==l["~"]&&(l["~"]=g),j=l["~"],(c=(d=j["$[]"](1)["$=="]("\\"))!==!1&&d!==g?d:j["$[]"](4)["$=="]("\\"))===g||c.$$is_boolean&&1!=c?(c=j["$[]"](3)["$nil_or_empty?"]()["$!"]())===g||c.$$is_boolean&&1!=c?(c=q["$key?"](z=j["$[]"](2).$downcase()))===g||c.$$is_boolean&&1!=c?(c=o.get("INTRINSIC_ATTRIBUTES")["$key?"](z))===g||c.$$is_boolean&&1!=c?function(){return s=(c=r)!==!1&&c!==g?c:r=(d=e["$[]"]("attribute_missing"))!==!1&&d!==g?d:q.$fetch("attribute-missing",o.get("Compliance").$attribute_missing()),"skip"["$==="](s)?j["$[]"](0):"drop-line"["$==="](s)?(f.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+z),t=!0,h.$v="",h):"warn"["$==="](s)?(f.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+z),j["$[]"](0)):(u=!0,"")}():o.get("INTRINSIC_ATTRIBUTES")["$[]"](z):q["$[]"](z):(k=b((n=j["$[]"](3)).$length(),1),p=j["$[]"](2)["$[]"](m(k,-1,!1)),function(){if(s=n,"set"["$==="](s)){if(v=p.$split(":"),c=a.to_ary(o.get("Parser").$store_attribute(v["$[]"](0),(d=v["$[]"](1))!==!1&&d!==g?d:"",f.document)),w=null==c[0]?g:c[0],x=null==c[1]?g:c[1],x!==!1&&x!==g);else if(q.$fetch("attribute-undefined",o.get("Compliance").$attribute_undefined())["$=="]("drop-line"))return t=!0,h.$v="",h;return u=!0,""}return"counter"["$==="](s)||"counter2"["$==="](s)?(v=p.$split(":"),y=f.document.$counter(v["$[]"](0),v["$[]"](1)),n["$=="]("counter2")?(u=!0,""):y):(f.$warn("asciidoctor: WARNING: illegal attribute directive: "+j["$[]"](3)),j["$[]"](0))}()):"{"+j["$[]"](2)+"}"},i.$$s=p,i),d).call(f,o.get("AttributeReferenceRx"))),(d=(k=t)!==!1&&k!==g?k:(n=u!==!1&&u!==g)?c["$empty?"]():u)===g||d.$$is_boolean&&1!=d?s["$<<"](c):g},j.$$s=n,j),f).call(i),p!==!1&&p!==g?c(s,o.get("EOL")):s):d}),a.defn(n,"$sub_macros",function(b){var c,d,e,f,h,j,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this,E=g,F=g,G=g,H=g,I=g,J=g;return null==D.document&&(D.document=g),(c=b["$nil_or_empty?"]())===g||c.$$is_boolean&&1!=c?(E=k([],{}),E["$[]="]("square_bracket",b["$include?"]("[")),E["$[]="]("round_bracket",b["$include?"]("(")),E["$[]="]("colon",F=b["$include?"](":")),E["$[]="]("macroish",(c=E["$[]"]("square_bracket"),c!==!1&&c!==g?F:c)),E["$[]="]("macroish_short_form",(d=E["$[]"]("square_bracket"),c=d!==!1&&d!==g?F:d,c!==!1&&c!==g?b["$include?"](":["):c)),G=D.document.$attributes()["$has_key?"]("linkattrs"),H=D.document.$attributes()["$has_key?"]("experimental"),I=""+b,H!==!1&&H!==g&&(d=E["$[]"]("macroish_short_form"),(c=d!==!1&&d!==g?(e=I["$include?"]("kbd:"))!==!1&&e!==g?e:I["$include?"]("btn:"):d)===g||c.$$is_boolean&&1!=c||(I=(c=(d=I).$gsub,c.$$p=(f=function(){var a,b,c,d=f.$$s||this,e=g,h=g,i=g,j=g;return null==l["~"]&&(l["~"]=g),e=l["~"],(a=(h=e["$[]"](0))["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(a=h["$start_with?"]("kbd"))===g||a.$$is_boolean&&1!=a?(a=h["$start_with?"]("btn"))===g||a.$$is_boolean&&1!=a?g:(j=d.$unescape_bracketed_text(e["$[]"](1)),o.get("Inline").$new(d,"button",j).$convert()):(i=d.$unescape_bracketed_text(e["$[]"](1)),i=i["$=="]("+")?["+"]:(a=(b=i.$split(o.get("KbdDelimiterRx"))).$inject,a.$$p=(c=function(a,b){var d;c.$$s||this;return null==a&&(a=g),null==b&&(b=g),(d=b["$end_with?"]("++"))===g||d.$$is_boolean&&1!=d?a["$<<"](b.$strip()):(a["$<<"](b["$[]"](m(0,-3,!1)).$strip()),a["$<<"]("+")),a},c.$$s=d,c),a).call(b,[]),o.get("Inline").$new(d,"kbd",g,k(["attributes"],{attributes:k(["keys"],{keys:i})})).$convert()):h["$[]"](m(1,-1,!1))},f.$$s=D,f),c).call(d,o.get("KbdBtnInlineMacroRx"))),e=E["$[]"]("macroish"),(c=e!==!1&&e!==g?I["$include?"]("menu:"):e)===g||c.$$is_boolean&&1!=c||(I=(c=(e=I).$gsub,c.$$p=(h=function(){var a,b,c,d=h.$$s||this,e=g,f=g,i=g,j=g,n=g,p=g,q=g;return null==l["~"]&&(l["~"]=g),e=l["~"],(a=(f=e["$[]"](0))["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(i=e["$[]"](1),j=e["$[]"](2),(a=j["$!"]())===g||a.$$is_boolean&&1!=a?(a=q=function(){return(b=j["$include?"]("&gt;"))===g||b.$$is_boolean&&1!=b?function(){return(b=j["$include?"](","))===g||b.$$is_boolean&&1!=b?g:","}():"&gt;"}())===g||a.$$is_boolean&&1!=a?(n=[],p=j.$rstrip()):(n=(a=(b=j.$split(q)).$map,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=g),a.$strip()},c.$$s=d,c),a).call(b),p=n.$pop()):(n=[],p=g),o.get("Inline").$new(d,"menu",g,k(["attributes"],{attributes:k(["menu","submenus","menuitem"],{menu:i,submenus:n,menuitem:p})})).$convert()):f["$[]"](m(1,-1,!1))},h.$$s=D,h),c).call(e,o.get("MenuInlineMacroRx"))),j=I["$include?"]('"'),(c=j!==!1&&j!==g?I["$include?"]("&gt;"):j)===g||c.$$is_boolean&&1!=c||(I=(c=(j=I).$gsub,c.$$p=(n=function(){var b,c,d,e,f=n.$$s||this,h=g,j=g,p=g,q=g,r=g,s=g;return null==l["~"]&&(l["~"]=g),h=l["~"],(b=(j=h["$[]"](0))["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?(p=h["$[]"](1),b=a.to_ary((c=(d=p.$split("&gt;")).$map,c.$$p=(e=function(a){e.$$s||this;return null==a&&(a=g),a.$strip()},e.$$s=f,e),c).call(d)),q=null==b[0]?g:b[0],r=i.call(b,1),s=r.$pop(),o.get("Inline").$new(f,"menu",g,k(["attributes"],{attributes:k(["menu","submenus","menuitem"],{menu:q,submenus:r,menuitem:s})})).$convert()):j["$[]"](m(1,-1,!1))},n.$$s=D,n),c).call(j,o.get("MenuInlineRx")))),p=J=D.document.$extensions(),(c=p!==!1&&p!==g?J["$inline_macros?"]():p)===g||c.$$is_boolean&&1!=c||(c=(p=J.$inline_macros()).$each,c.$$p=(q=function(a){var b,c,d,e=q.$$s||this;return null==a&&(a=g),I=(b=(c=I).$gsub,b.$$p=(d=function(){var b,c=d.$$s||this,e=g,f=g,h=g;return null==l["~"]&&(l["~"]=g),e=l["~"],(b=e["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?(f=e["$[]"](1),h=function(){return a.$config()["$[]"]("format")["$=="]("short")?k([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(e["$[]"](2),(b=a.$config()["$[]"]("pos_attrs"))!==!1&&b!==g?b:[],k(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):k(["text"],{text:c.$unescape_bracketed_text(e["$[]"](2))})}(),a.$process_method()["$[]"](c,f,h)):e["$[]"](0)["$[]"](m(1,-1,!1))},d.$$s=e,d),b).call(c,a.$instance().$regexp())},q.$$s=D,q),c).call(p),r=E["$[]"]("macroish"),(c=r!==!1&&r!==g?(s=I["$include?"]("image:"))!==!1&&s!==g?s:I["$include?"]("icon:"):r)===g||c.$$is_boolean&&1!=c||(I=(c=(r=I).$gsub,c.$$p=(t=function(){var a,b,c,d=t.$$s||this,e=g,f=g,h=g,i=g,j=g,n=g;return null==d.document&&(d.document=g),null==l["~"]&&(l["~"]=g),e=l["~"],(a=e["$[]"](0)["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(f=d.$unescape_bracketed_text(e["$[]"](2)),(a=e["$[]"](0)["$start_with?"]("icon:"))===g||a.$$is_boolean&&1!=a?(h="image",i=["alt","width","height"]):(h="icon",i=["size"]),j=d.$sub_attributes(e["$[]"](1)),h["$=="]("icon")||d.document.$register("images",j),n=d.$parse_attributes(f,i),a="alt",b=n,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,o.get("Helpers").$basename(j,!0).$tr("_-"," ")),o.get("Inline").$new(d,"image",g,k(["type","target","attributes"],{type:h,target:j,attributes:n})).$convert()):e["$[]"](0)["$[]"](m(1,-1,!1))},t.$$s=D,t),c).call(r,o.get("ImageInlineMacroRx"))),(c=(s=E["$[]"]("macroish_short_form"))!==!1&&s!==g?s:E["$[]"]("round_bracket"))===g||c.$$is_boolean&&1!=c||(I=(c=(s=I).$gsub,c.$$p=(u=function(){var b,c,d=u.$$s||this,e=g,f=g,h=g,i=g,j=g,n=g;return null==d.document&&(d.document=g),null==l["~"]&&(l["~"]=g),e=l["~"],(b=e["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?((b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||e["$[]"](1)["$=="]("")&&e["$[]="](1,g),f=0,h=g,((b=i=e["$[]"](1))===g||b.$$is_boolean&&1!=b)&&(h=e["$[]"](3),c=h["$start_with?"]("("),(b=c!==!1&&c!==g?h["$end_with?"](")"):c)===g||b.$$is_boolean&&1!=b?f=2:(h=h["$[]"](m(1,-1,!0)),f=3)),(b=(c=i["$=="]("indexterm"))!==!1&&c!==g?c:f["$=="](3))===g||b.$$is_boolean&&1!=b?(n=(b=i["$!"]())===g||b.$$is_boolean&&1!=b?d.$normalize_string(e["$[]"](2),!0):d.$normalize_string(h),d.document.$register("indexterms",[n]),o.get("Inline").$new(d,"indexterm",n,k(["type"],{type:"visible"})).$convert()):(j=(b=i["$!"]())===g||b.$$is_boolean&&1!=b?d.$split_simple_csv(d.$normalize_string(e["$[]"](2),!0)):d.$split_simple_csv(d.$normalize_string(h)),d.document.$register("indexterms",[].concat(a.to_a(j))),o.get("Inline").$new(d,"indexterm",g,k(["attributes"],{attributes:k(["terms"],{terms:j})})).$convert())):e["$[]"](0)["$[]"](m(1,-1,!1))},u.$$s=D,u),c).call(s,o.get("IndextermInlineMacroRx"))),(c=(v=F!==!1&&F!==g)?I["$include?"]("://"):F)===g||c.$$is_boolean&&1!=c||(I=(c=(v=I).$gsub,c.$$p=(w=function(){var b,c,d,e,f=w.$$s||this,h=g,i=g,j=g,n=g,p=g,q=g,r=g,s=g;return null==f.document&&(f.document=g),null==l["~"]&&(l["~"]=g),h=l["~"],(b=h["$[]"](2)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?((b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||h["$[]"](3)["$=="]("")&&h["$[]="](3,g),(b=(c=h["$[]"](1)["$=="]("link:"))?h["$[]"](3)["$!"]():h["$[]"](1)["$=="]("link:"))===g||b.$$is_boolean&&1!=b?(i=function(){return(b=h["$[]"](1)["$!="]("link:"))===g||b.$$is_boolean&&1!=b?"":h["$[]"](1)}(),j=h["$[]"](2),n="",((b=(c=h["$[]"](3))!==!1&&c!==g?c:j["$!~"](o.get("UriTerminator")))===g||b.$$is_boolean&&1!=b)&&(p=l["~"]["$[]"](0),")"["$==="](p)?(j=j["$[]"](m(0,-2,!1)),n=")"):";"["$==="](p)?(c=i["$start_with?"]("&lt;"),(b=c!==!1&&c!==g?j["$end_with?"]("&gt;"):c)===g||b.$$is_boolean&&1!=b?(b=j["$end_with?"](");"))===g||b.$$is_boolean&&1!=b?(j=j["$[]"](m(0,-2,!1)),n=";"):(j=j["$[]"](m(0,-3,!1)),n=");"):(i=i["$[]"](m(4,-1,!1)),j=j["$[]"](m(0,-5,!1)))):":"["$==="](p)&&((b=j["$end_with?"]("):"))===g||b.$$is_boolean&&1!=b?(j=j["$[]"](m(0,-2,!1)),n=":"):(j=j["$[]"](m(0,-3,!1)),n="):"))),f.document.$register("links",j),q=k(["type","target"],{type:"link",target:j}),r=g,(b=h["$[]"](3)["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?((b=(c=G!==!1&&G!==g)?(d=h["$[]"](3)["$start_with?"]('"'))!==!1&&d!==g?d:(e=h["$[]"](3)["$include?"](","),e!==!1&&e!==g?h["$[]"](3)["$include?"]("="):e):G)===g||b.$$is_boolean&&1!=b?s=f.$sub_attributes(h["$[]"](3).$gsub("\\]","]")):(r=f.$parse_attributes(f.$sub_attributes(h["$[]"](3).$gsub("\\]","]")),[]),(b=r["$has_key?"]("id"))===g||b.$$is_boolean&&1!=b||q["$[]="]("id",r.$delete("id")),s=(b=r["$[]"](1))!==!1&&b!==g?b:""),(b=s["$end_with?"]("^"))===g||b.$$is_boolean&&1!=b||(s=s.$chop(),r!==!1&&r!==g?(b="window",c=r,(d=c["$[]"](b))!==!1&&d!==g?d:c["$[]="](b,"_blank")):r=k(["window"],{window:"_blank"}))):s="",(b=s["$empty?"]())===g||b.$$is_boolean&&1!=b||(s=(b=f.document["$attr?"]("hide-uri-scheme"))===g||b.$$is_boolean&&1!=b?j:j.$sub(o.get("UriSniffRx"),""),r!==!1&&r!==g?r["$[]="]("role",("bare "+r["$[]"]("role")).$chomp(" ")):r=k(["role"],{role:"bare"})),r!==!1&&r!==g&&q["$[]="]("attributes",r),""+i+o.get("Inline").$new(f,"anchor",s,q).$convert()+n):h["$[]"](0)):""+h["$[]"](1)+h["$[]"](2)["$[]"](m(1,-1,!1))+h["$[]"](3)},w.$$s=D,w),c).call(v,o.get("LinkInlineRx"))),y=E["$[]"]("macroish"),(c=(x=y!==!1&&y!==g?I["$include?"]("link:"):y)!==!1&&x!==g?x:I["$include?"]("mailto:"))===g||c.$$is_boolean&&1!=c||(I=(c=(x=I).$gsub,c.$$p=(z=function(){var a,b,c,d=z.$$s||this,e=g,f=g,h=g,i=g,j=g,n=g,p=g;return null==d.document&&(d.document=g),null==l["~"]&&(l["~"]=g),e=l["~"],(a=e["$[]"](0)["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(f=e["$[]"](1),h=e["$[]"](0)["$start_with?"]("mailto:"),i=function(){return h!==!1&&h!==g?"mailto:"+f:f}(),j=k(["type","target"],{type:"link",target:i}),n=g,p=function(){return(a=(b=G!==!1&&G!==g)?(c=e["$[]"](2)["$start_with?"]('"'))!==!1&&c!==g?c:e["$[]"](2)["$include?"](","):G)===g||a.$$is_boolean&&1!=a?d.$sub_attributes(e["$[]"](2).$gsub("\\]","]")):(n=d.$parse_attributes(d.$sub_attributes(e["$[]"](2).$gsub("\\]","]")),[]),(a=n["$key?"]("id"))===g||a.$$is_boolean&&1!=a||j["$[]="]("id",n.$delete("id")),h!==!1&&h!==g&&((a=n["$key?"](2))===g||a.$$is_boolean&&1!=a||(i=j["$[]="]("target",""+i+"?subject="+o.get("Helpers").$encode_uri(n["$[]"](2))),(a=n["$key?"](3))===g||a.$$is_boolean&&1!=a||(i=j["$[]="]("target",""+i+"&amp;body="+o.get("Helpers").$encode_uri(n["$[]"](3)))))),n["$[]"](1))}(),d.document.$register("links",i),(a=p["$end_with?"]("^"))===g||a.$$is_boolean&&1!=a||(p=p.$chop(),n!==!1&&n!==g?(a="window",b=n,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,"_blank")):n=k(["window"],{window:"_blank"})),(a=p["$empty?"]())===g||a.$$is_boolean&&1!=a||(h!==!1&&h!==g?p=f:(p=(a=d.document["$attr?"]("hide-uri-scheme"))===g||a.$$is_boolean&&1!=a?f:f.$sub(o.get("UriSniffRx"),""),n!==!1&&n!==g?n["$[]="]("role",("bare "+n["$[]"]("role")).$chomp(" ")):n=k(["role"],{role:"bare"}))),n!==!1&&n!==g&&j["$[]="]("attributes",n),o.get("Inline").$new(d,"anchor",p,j).$convert()):e["$[]"](0)["$[]"](m(1,-1,!1))},z.$$s=D,z),c).call(x,o.get("LinkInlineMacroRx"))),(c=I["$include?"]("@"))===g||c.$$is_boolean&&1!=c||(I=(c=(y=I).$gsub,c.$$p=(A=function(){var a,b=A.$$s||this,c=g,d=g,e=g,f=g,h=g;return null==b.document&&(b.document=g),null==l["~"]&&(l["~"]=g),c=l["~"],d=c["$[]"](0),(a=e=c["$[]"](1))===g||a.$$is_boolean&&1!=a?(h="mailto:"+d,b.document.$register("links",h),o.get("Inline").$new(b,"anchor",d,k(["type","target"],{type:"link",target:h})).$convert()):(f=e,"\\"["$==="](f)?d["$[]"](m(1,-1,!1)):d)},A.$$s=D,A),c).call(y,o.get("EmailInlineMacroRx"))),B=E["$[]"]("macroish_short_form"),(c=B!==!1&&B!==g?I["$include?"]("footnote"):B)===g||c.$$is_boolean&&1!=c||(I=(c=(B=I).$gsub,c.$$p=(C=function(){var b,c,d,e,f=C.$$s||this,h=g,i=g,j=g,n=g,p=g,q=g,r=g;return null==f.document&&(f.document=g),null==l["~"]&&(l["~"]=g),h=l["~"],(b=h["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?(h["$[]"](1)["$=="]("footnote")?(i=g,j=f.$restore_passthroughs(f.$sub_inline_xrefs(f.$sub_inline_anchors(f.$normalize_string(h["$[]"](2),!0))),!1),n=f.document.$counter("footnote-number"),f.document.$register("footnotes",o.get("Document").$$scope.get("Footnote").$new(n,i,j)),p=g,q=g):(b=a.to_ary(h["$[]"](2).$split(",",2)),i=null==b[0]?g:b[0],j=null==b[1]?g:b[1],i=i.$strip(),(b=j["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?(j=f.$restore_passthroughs(f.$sub_inline_xrefs(f.$sub_inline_anchors(f.$normalize_string(j,!0))),!1),n=f.document.$counter("footnote-number"),f.document.$register("footnotes",o.get("Document").$$scope.get("Footnote").$new(n,i,j)),p="ref",q=g):((b=r=(c=(d=f.document.$references()["$[]"]("footnotes")).$find,c.$$p=(e=function(a){e.$$s||this;return null==a&&(a=g),a.$id()["$=="](i)},e.$$s=f,e),c).call(d))===g||b.$$is_boolean&&1!=b?(n=g,j=i):(n=r.$index(),j=r.$text()),q=i,i=g,p="xref")),o.get("Inline").$new(f,"footnote",j,k(["attributes","id","target","type"],{attributes:k(["index"],{index:n}),id:i,target:q,type:p})).$convert()):h["$[]"](0)["$[]"](m(1,-1,!1))},C.$$s=D,C),c).call(B,o.get("FootnoteInlineMacroRx"))),D.$sub_inline_xrefs(D.$sub_inline_anchors(I,E),E)):b}),a.defn(n,"$sub_inline_anchors",function(b,c){var d,e,f,h,i,j,n,p=this;return null==c&&(c=g),e=(f=c["$!"]())!==!1&&f!==g?f:c["$[]"]("square_bracket"),(d=e!==!1&&e!==g?b["$include?"]("[[["):e)===g||d.$$is_boolean&&1!=d||(b=(d=(e=b).$gsub,d.$$p=(h=function(){var a,b=h.$$s||this,c=g,d=g,e=g;return null==l["~"]&&(l["~"]=g),c=l["~"],(a=c["$[]"](0)["$start_with?"]("\\"))===g||a.$$is_boolean&&1!=a?(d=e=c["$[]"](1),o.get("Inline").$new(b,"anchor",e,k(["type","target"],{type:"bibref",target:d})).$convert()):c["$[]"](0)["$[]"](m(1,-1,!1))},h.$$s=p,h),d).call(e,o.get("InlineBiblioAnchorRx"))),i=(j=c["$!"]())!==!1&&j!==g?j:c["$[]"]("square_bracket"),(d=(f=i!==!1&&i!==g?b["$include?"]("[["):i)!==!1&&f!==g?f:(i=(j=c["$!"]())!==!1&&j!==g?j:c["$[]"]("macroish"),i!==!1&&i!==g?b["$include?"]("anchor:"):i))===g||d.$$is_boolean&&1!=d||(b=(d=(f=b).$gsub,d.$$p=(n=function(){var b,c,d=n.$$s||this,e=g,f=g,h=g;return null==l["~"]&&(l["~"]=g),e=l["~"],(b=e["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?((b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||(e["$[]"](1)["$=="]("")&&e["$[]="](1,g),e["$[]"](2)["$=="]("")&&e["$[]="](2,g),e["$[]"](4)["$=="]("")&&e["$[]="](4,g)),f=(b=e["$[]"](1))!==!1&&b!==g?b:e["$[]"](3),h=(b=(c=e["$[]"](2))!==!1&&c!==g?c:e["$[]"](4))!==!1&&b!==g?b:"["+f+"]",o.get("Inline").$new(d,"anchor",h,k(["type","target"],{type:"ref",target:f})).$convert()):e["$[]"](0)["$[]"](m(1,-1,!1))},n.$$s=p,n),d).call(f,o.get("InlineAnchorRx"))),b}),a.defn(n,"$sub_inline_xrefs",function(b,c){var d,e,f,h,i=this;return null==c&&(c=g),(d=(e=(f=c["$!"]())!==!1&&f!==g?f:c["$[]"]("macroish"))!==!1&&e!==g?e:b["$include?"]("&lt;&lt;"))===g||d.$$is_boolean&&1!=d||(b=(d=(e=b).$gsub,d.$$p=(h=function(){var b,c,d,e,f,i,j=h.$$s||this,n=g,p=g,q=g,r=g,s=g,t=g,u=g,v=g;return null==j.document&&(j.document=g),null==l["~"]&&(l["~"]=g),n=l["~"],(b=n["$[]"](0)["$start_with?"]("\\"))===g||b.$$is_boolean&&1!=b?((b=a.get("RUBY_ENGINE_OPAL"))===g||b.$$is_boolean&&1!=b||n["$[]"](1)["$=="]("")&&n["$[]="](1,g),(b=n["$[]"](1))===g||b.$$is_boolean&&1!=b?(p=n["$[]"](2),((b=n["$[]"](3)["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b)&&(q=n["$[]"](3))):(b=a.to_ary((c=(d=n["$[]"](1).$split(",",2)).$map,c.$$p=(e=function(a){e.$$s||this;return null==a&&(a=g),a.$strip()},e.$$s=j,e),c).call(d)),p=null==b[0]?g:b[0],q=null==b[1]?g:b[1],p=p.$sub(o.get("DoubleQuotedRx"),"\\2"),q=function(){return(b=q["$nil_or_empty?"]())===g||b.$$is_boolean&&1!=b?q.$sub(o.get("DoubleQuotedMultiRx"),"\\2"):g}()),(b=p["$include?"]("#"))===g||b.$$is_boolean&&1!=b?(r=g,s=p):(b=a.to_ary(p.$split("#")),r=null==b[0]?g:b[0],s=null==b[1]?g:b[1]),r!==!1&&r!==g?(r=o.get("Helpers").$rootname(r),(b=(c=j.document.$attributes()["$[]"]("docname")["$=="](r))!==!1&&c!==g?c:j.document.$references()["$[]"]("includes")["$include?"](r))===g||b.$$is_boolean&&1!=b?(t=function(){return s!==!1&&s!==g?""+r+"#"+s:r}(),r=""+j.document.$attributes()["$[]"]("relfileprefix")+r+j.document.$attributes().$fetch("outfilesuffix",".html"),u=function(){return s!==!1&&s!==g?""+r+"#"+s:r}()):(t=s,r=g,u="#"+s)):(f=j.document.$references()["$[]"]("ids")["$has_key?"](s)["$!"](),c=f!==!1&&f!==g?(i=s["$include?"](" "))!==!1&&i!==g?i:s.$downcase()["$!="](s):f,
(b=c!==!1&&c!==g?v=function(){return(f=o.get("RUBY_MIN_VERSION_1_9"))===g||f.$$is_boolean&&1!=f?j.document.$references()["$[]"]("ids").$index(s):j.document.$references()["$[]"]("ids").$key(s)}():c)===g||b.$$is_boolean&&1!=b||(s=v),t=s,u="#"+s),o.get("Inline").$new(j,"anchor",q,k(["type","target","attributes"],{type:"xref",target:u,attributes:k(["path","fragment","refid"],{path:r,fragment:s,refid:t})})).$convert()):n["$[]"](0)["$[]"](m(1,-1,!1))},h.$$s=i,h),d).call(e,o.get("XrefInlineMacroRx"))),b}),a.defn(n,"$sub_callouts",function(b){var c,d,e,f=this,h=g;return h=function(){return(c=f["$attr?"]("line-comment"))===g||c.$$is_boolean&&1!=c?o.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(f.$attr("line-comment"))+" )?"+o.get("CalloutSourceRxt"))}(),(c=(d=b).$gsub,c.$$p=(e=function(){var a=e.$$s||this,b=g;return null==a.document&&(a.document=g),null==l["~"]&&(l["~"]=g),b=l["~"],b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):o.get("Inline").$new(a,"callout",b["$[]"](3),k(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e.$$s=f,e),c).call(d,h)}),a.defn(n,"$sub_post_replacements",function(a){var b,d,e,f,h,i=this,j=g,m=g;return null==i.document&&(i.document=g),null==i.attributes&&(i.attributes=g),(b=(d=i.document.$attributes()["$has_key?"]("hardbreaks"))!==!1&&d!==g?d:i.attributes["$has_key?"]("hardbreaks-option"))===g||b.$$is_boolean&&1!=b?(b=a["$include?"]("+"))===g||b.$$is_boolean&&1!=b?a:(b=(f=a).$gsub,b.$$p=(h=function(){var a=h.$$s||this;return null==l["~"]&&(l["~"]=g),o.get("Inline").$new(a,"break",l["~"]["$[]"](1),k(["type"],{type:"line"})).$convert()},h.$$s=i,h),b).call(f,o.get("LineBreakRx")):(j=a.$split(o.get("EOL")),j.$size()["$=="](1)?a:(m=j.$pop(),c((b=(d=j).$map,b.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=g),o.get("Inline").$new(b,"break",a.$rstrip().$chomp(o.get("LINE_BREAK")),k(["type"],{type:"line"})).$convert()},e.$$s=i,e),b).call(d).$push(m),o.get("EOL"))))}),a.defn(n,"$convert_quoted_text",function(a,b,c){var d,e,f=this,h=g,i=g,j=g,l=g;if(h=g,(d=a["$[]"](0)["$start_with?"]("\\"))!==g&&(!d.$$is_boolean||1==d)){if((d=(e=c["$=="]("constrained"))?(i=a["$[]"](2))["$nil_or_empty?"]()["$!"]():c["$=="]("constrained"))===g||d.$$is_boolean&&1!=d)return a["$[]"](0)["$[]"](m(1,-1,!1));h="["+i+"]"}return c["$=="]("constrained")?h!==!1&&h!==g?""+h+o.get("Inline").$new(f,"quoted",a["$[]"](3),k(["type"],{type:b})).$convert():((d=j=f.$parse_quoted_text_attributes(a["$[]"](2)))===g||d.$$is_boolean&&1!=d?l=g:(l=j.$delete("id"),b["$=="]("mark")&&(b="unquoted")),""+a["$[]"](1)+o.get("Inline").$new(f,"quoted",a["$[]"](3),k(["type","id","attributes"],{type:b,id:l,attributes:j})).$convert()):((d=j=f.$parse_quoted_text_attributes(a["$[]"](1)))===g||d.$$is_boolean&&1!=d?l=g:(l=j.$delete("id"),b["$=="]("mark")&&(b="unquoted")),o.get("Inline").$new(f,"quoted",a["$[]"](2),k(["type","id","attributes"],{type:b,id:l,attributes:j})).$convert())}),a.defn(n,"$parse_quoted_text_attributes",function(b){var e,f,h,j=this,l=g,m=g,n=g,p=g,q=g,r=g;return b===!1||b===g?g:(e=b["$empty?"]())===g||e.$$is_boolean&&1!=e?((e=b["$include?"]("{"))===g||e.$$is_boolean&&1!=e||(b=j.$sub_attributes(b)),b=b.$strip(),(e=b["$include?"](","))===g||e.$$is_boolean&&1!=e||(e=a.to_ary(b.$split(",",2)),b=null==e[0]?g:e[0],l=null==e[1]?g:e[1]),(e=b["$empty?"]())===g||e.$$is_boolean&&1!=e?(f=(h=b["$start_with?"]("."))!==!1&&h!==g?h:b["$start_with?"]("#"),(e=f!==!1&&f!==g?o.get("Compliance").$shorthand_property_syntax():f)===g||e.$$is_boolean&&1!=e?k(["role"],{role:b}):(m=b.$split("#",2),d(m.$length(),1)?(e=a.to_ary(m["$[]"](1).$split(".")),n=null==e[0]?g:e[0],p=i.call(e,1)):(n=g,p=[]),q=function(){return(e=m["$[]"](0)["$empty?"]())===g||e.$$is_boolean&&1!=e?m["$[]"](0).$split("."):[]}(),d(q.$length(),1)&&q.$shift(),d(p.$length(),0)&&q.$concat(p),r=k([],{}),n!==!1&&n!==g&&r["$[]="]("id",n),((e=q["$empty?"]())===g||e.$$is_boolean&&1!=e)&&r["$[]="]("role",c(q," ")),r)):k([],{})):k([],{})}),a.defn(n,"$parse_attributes",function(a,b,c){var d,e=this,f=g,h=g;return null==e.document&&(e.document=g),null==b&&(b=["role"]),null==c&&(c=k([],{})),a===!1||a===g?g:(d=a["$empty?"]())===g||d.$$is_boolean&&1!=d?((d=c["$[]"]("sub_input"))===g||d.$$is_boolean&&1!=d||(a=e.document.$sub_attributes(a)),(d=c["$[]"]("unescape_input"))===g||d.$$is_boolean&&1!=d||(a=e.$unescape_bracketed_text(a)),f=g,(d=c.$fetch("sub_result",!0))===g||d.$$is_boolean&&1!=d||(f=e),(d=h=c["$[]"]("into"))===g||d.$$is_boolean&&1!=d?o.get("AttributeList").$new(a,f).$parse(b):o.get("AttributeList").$new(a,f).$parse_into(h,b)):k([],{})}),a.defn(n,"$unescape_bracketed_text",function(a){var b;return(b=a["$empty?"]())===g||b.$$is_boolean&&1!=b?a.$strip().$tr(o.get("EOL")," ").$gsub("\\]","]"):""}),a.defn(n,"$normalize_string",function(a,b){var c,d=this;return null==b&&(b=!1),(c=a["$empty?"]())===g||c.$$is_boolean&&1!=c?b!==!1&&b!==g?d.$unescape_brackets(a.$strip().$tr(o.get("EOL")," ")):a.$strip().$tr(o.get("EOL")," "):""}),a.defn(n,"$unescape_brackets",function(a){var b;return(b=a["$empty?"]())===g||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""}),a.defn(n,"$split_simple_csv",function(a){var b,c,d,e,f,h=this,i=g,j=g,k=g;return(b=a["$empty?"]())===g||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===g||b.$$is_boolean&&1!=b?i=(b=(e=a.$split(",")).$map,b.$$p=(f=function(a){f.$$s||this;return null==a&&(a=g),a.$strip()},f.$$s=h,f),b).call(e):(i=[],j=[],k=!1,(b=(c=a).$each_char,b.$$p=(d=function(a){var b=(d.$$s||this,g);return null==a&&(a=g),function(){return b=a,","["$==="](b)?k!==!1&&k!==g?j.$push(a):(i["$<<"](j.$join().$strip()),j=[]):'"'["$==="](b)?k=k["$!"]():j.$push(a)}()},d.$$s=h,d),b).call(c),i["$<<"](j.$join().$strip())):i=[],i}),a.defn(n,"$resolve_subs",function(a,f,h,i){var j,k,l,n=this,p=g,q=g,r=g,s=g;return null==f&&(f="block"),null==h&&(h=g),null==i&&(i=g),(j=a["$nil_or_empty?"]())===g||j.$$is_boolean&&1!=j?(p=g,q=o.get("SubModifierSniffRx")["$=~"](a),(j=(k=a.$tr(" ","").$split(",")).$each,j.$$p=(l=function(a){var c,d,i,j=(l.$$s||this,g),k=g,n=g,r=g,s=g,t=g;return null==a&&(a=g),j=g,q!==!1&&q!==g&&((k=a.$chr())["$=="]("+")?(j="append",a=a["$[]"](m(1,-1,!1))):k["$=="]("-")?(j="remove",a=a["$[]"](m(1,-1,!1))):(c=a["$end_with?"]("+"))===g||c.$$is_boolean&&1!=c||(j="prepend",a=a.$chop())),a=a.$to_sym(),(c=(d=f["$=="]("inline"))?(i=a["$=="]("verbatim"))!==!1&&i!==g?i:a["$=="]("v"):f["$=="]("inline"))===g||c.$$is_boolean&&1!=c?(c=o.get("COMPOSITE_SUBS")["$key?"](a))===g||c.$$is_boolean&&1!=c?(d=(i=f["$=="]("inline"))?a.$length()["$=="](1):f["$=="]("inline"),(c=d!==!1&&d!==g?o.get("SUB_SYMBOLS")["$key?"](a):d)===g||c.$$is_boolean&&1!=c?n=[a]:(r=o.get("SUB_SYMBOLS")["$[]"](a),n=(c=s=o.get("COMPOSITE_SUBS")["$[]"](r))===g||c.$$is_boolean&&1!=c?[r]:s)):n=o.get("COMPOSITE_SUBS")["$[]"](a):n=["specialcharacters"],j!==!1&&j!==g?((c=p)!==!1&&c!==g?c:p=function(){return h!==!1&&h!==g?h.$dup():[]}(),function(){return t=j,"append"["$==="](t)?p=b(p,n):"prepend"["$==="](t)?p=b(n,p):"remove"["$==="](t)?p=e(p,n):g}()):((c=p)!==!1&&c!==g?c:p=[],p=b(p,n))},l.$$s=n,l),j).call(k),r=p["$&"](o.get("SUB_OPTIONS")["$[]"](f)),((j=e(p,r)["$empty?"]())===g||j.$$is_boolean&&1!=j)&&(s=e(p,r),n.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return d(s.$size(),1)?"s":""}()+function(){return i!==!1&&i!==g?" for ":g}()+i+": "+c(s,", "))),r):[]}),a.defn(n,"$resolve_block_subs",function(a,b,c){var d=this;return d.$resolve_subs(a,"block",b,c)}),a.defn(n,"$resolve_pass_subs",function(a){var b=this;return b.$resolve_subs(a,"inline",g,"passthrough macro")}),a.defn(n,"$highlight_source",function(d,e,f){var h,i,j,n,p,q=this,r=g,s=g,t=g,u=g,v=g,w=g,x=g,y=g,z=g,A=g,B=g,C=g,D=g;return null==q.document&&(q.document=g),null==q.passthroughs&&(q.passthroughs=g),null==f&&(f=g),r=(h=f)!==!1&&h!==g?h:f=q.document.$attributes()["$[]"]("source-highlighter"),"coderay"["$==="](r)?((h=(i=s=null==a.Object.$$scope.CodeRay?g:"constant")!==!1&&i!==g?i:q.document.$attributes()["$[]"]("coderay-unavailable"))===g||h.$$is_boolean&&1!=h)&&((h=o.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===g||h.$$is_boolean&&1!=h?s=!0:q.document.$set_attr("coderay-unavailable",!0)):"pygments"["$==="](r)?((h=(i=s=null==a.Object.$$scope.Pygments?g:"constant")!==!1&&i!==g?i:q.document.$attributes()["$[]"]("pygments-unavailable"))===g||h.$$is_boolean&&1!=h)&&((h=o.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===g||h.$$is_boolean&&1!=h?s=!0:q.document.$set_attr("pygments-unavailable",!0)):s=!1,s===!1||s===g?q.$sub_source(d,e):(t=0,u=!1,e!==!1&&e!==g?(v=k([],{}),w=-1,x=function(){return(h=q["$attr?"]("line-comment"))===g||h.$$is_boolean&&1!=h?o.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(q.$attr("line-comment"))+" )?"+o.get("CalloutExtractRxt"))}(),d=c((h=(i=d.$split(o.get("EOL"))).$map,h.$$p=(j=function(a){var c,d,e,f=j.$$s||this;return null==a&&(a=g),t=b(t,1),(c=(d=a).$gsub,c.$$p=(e=function(){var a,b,c,d=(e.$$s||this,g);return null==l["~"]&&(l["~"]=g),d=l["~"],d["$[]"](1)["$=="]("\\")?d["$[]"](0).$sub("\\",""):((a=t,b=v,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,[]))["$<<"](d["$[]"](3)),w=t,g)},e.$$s=f,e),c).call(d,x)},j.$$s=q,j),h).call(i),o.get("EOL")),u=w["$=="](t),(h=v["$empty?"]())===g||h.$$is_boolean&&1!=h||(v=g)):v=g,y=g,z=g,r=f,"coderay"["$==="](r)?((h=y=function(){return(n=q["$attr?"]("linenums"))===g||n.$$is_boolean&&1!=n?g:((n=q.document.$attributes()["$[]"]("coderay-linenums-mode"))!==!1&&n!==g?n:"table").$to_sym()}())===g||h.$$is_boolean&&1!=h||(h=q["$attr?"]("highlight",g,!1))===g||h.$$is_boolean&&1!=h||(z=q.$resolve_lines_to_highlight(q.$attr("highlight",g,!1))),A=a.get("CodeRay").$$scope.get("Duo")["$[]"](q.$attr("language","text",!1).$to_sym(),"html",k(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:((h=q.document.$attributes()["$[]"]("coderay-css"))!==!1&&h!==g?h:"class").$to_sym(),line_numbers:y,line_number_anchors:!1,highlight_lines:z,bold_every:!1})).$highlight(d)):"pygments"["$==="](r)&&(B=(h=a.get("Pygments").$$scope.get("Lexer")["$[]"](q.$attr("language",g,!1)))!==!1&&h!==g?h:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text"),C=k(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),((h=q.document.$attributes()["$[]"]("pygments-css"))!==!1&&h!==g?h:"class")["$=="]("class")||(C["$[]="]("noclasses",!0),C["$[]="]("style",(h=q.document.$attributes()["$[]"]("pygments-style"))!==!1&&h!==g?h:o.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE"))),(h=q["$attr?"]("highlight",g,!1))===g||h.$$is_boolean&&1!=h||((h=(z=q.$resolve_lines_to_highlight(q.$attr("highlight",g,!1)))["$empty?"]())===g||h.$$is_boolean&&1!=h)&&C["$[]="]("hl_lines",c(z," ")),(h=q["$attr?"]("linenums"))===g||h.$$is_boolean&&1!=h?(C["$[]="]("nowrap",!0),A=B.$highlight(d,k(["options"],{options:C}))):C["$[]="]("linenos",(h=q.document.$attributes()["$[]"]("pygments-linenums-mode"))!==!1&&h!==g?h:"table")["$=="]("table")?(y="table",A=B.$highlight(d,k(["options"],{options:C})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):A=B.$highlight(d,k(["options"],{options:C})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")),((h=q.passthroughs["$empty?"]())===g||h.$$is_boolean&&1!=h)&&(A=A.$gsub(o.get("PASS_MATCH_HI"),""+o.get("PASS_START")+"\\1"+o.get("PASS_END"))),(h=(n=e!==!1&&e!==g)?v:e)===g||h.$$is_boolean&&1!=h?A:(t=0,D=y["$!="]("table"),c((h=(n=A.$split(o.get("EOL"))).$map,h.$$p=(p=function(a){var d,e,f,h=p.$$s||this,i=g,j=g,l=g,n=g;if(null==h.document&&(h.document=g),null==a&&(a=g),D!==!1&&D!==g);else{if((d=a["$include?"]('<td class="code">'))===g||d.$$is_boolean&&1!=d)return a;D=!0}return t=b(t,1),(d=i=v.$delete(t))===g||d.$$is_boolean&&1!=d?a:(j=g,(d=(e=u!==!1&&u!==g)?v["$empty?"]():u)===g||d.$$is_boolean&&1!=d||((d=l=a.$index("</pre>"))===g||d.$$is_boolean&&1!=d?a=""+a.$chomp(" ")+" ":(j=a["$[]"](m(l,-1,!1)),a=""+a["$[]"](m(0,l,!0)).$chomp(" ")+" ")),i.$size()["$=="](1)?""+a+o.get("Inline").$new(h,"callout",i["$[]"](0),k(["id"],{id:h.document.$callouts().$read_next_id()})).$convert()+j:(n=c((d=(e=i).$map,d.$$p=(f=function(a){var b=f.$$s||this;return null==b.document&&(b.document=g),null==a&&(a=g),o.get("Inline").$new(b,"callout",a,k(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},f.$$s=h,f),d).call(e)," "),""+a+n+j))},p.$$s=q,p),h).call(n),o.get("EOL"))))}),a.defn(n,"$resolve_lines_to_highlight",function(b){var c,d,f,h=this,i=g;return i=[],(c=(d=b.$delete(" ").$split(o.get("DataDelimiterRx"))).$map,c.$$p=(f=function(b){var c,d=(f.$$s||this,g),h=g,j=g,k=g;return null==b&&(b=g),d=!1,(c=b["$start_with?"]("!"))===g||c.$$is_boolean&&1!=c||(b=b["$[]"](m(1,-1,!1)),d=!0),(c=b["$include?"]("-"))===g||c.$$is_boolean&&1!=c?d!==!1&&d!==g?i.$delete(b.$to_i()):i["$<<"](b.$to_i()):(c=a.to_ary(b.$split("-",2)),h=null==c[0]?g:c[0],j=null==c[1]?g:c[1],k=m(h.$to_i(),j.$to_i(),!1).$to_a(),d!==!1&&d!==g?i=e(i,k):i.$concat(k))},f.$$s=h,f),c).call(d),i.$sort().$uniq()}),a.defn(n,"$sub_source",function(a,b){var c=this;return function(){return b!==!1&&b!==g?c.$sub_callouts(c.$sub_specialchars(a)):c.$sub_specialchars(a)}()}),a.defn(n,"$lock_in_subs",function(){var a,b,c,d,e,f,h=this,i=g,j=g,k=g;if(null==h.default_subs&&(h.default_subs=g),null==h.content_model&&(h.content_model=g),null==h.context&&(h.context=g),null==h.attributes&&(h.attributes=g),null==h.style&&(h.style=g),null==h.document&&(h.document=g),null==h.subs&&(h.subs=g),(a=h.default_subs)===g||a.$$is_boolean&&1!=a)if(j=h.content_model,"simple"["$==="](j))i=o.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](j))i=(a=(b=h.context["$=="]("listing"))!==!1&&b!==g?b:(c=h.context["$=="]("literal"))?h["$option?"]("listparagraph")["$!"]():h.context["$=="]("literal"))===g||a.$$is_boolean&&1!=a?h.context["$=="]("verse")?o.get("SUBS")["$[]"]("normal"):o.get("SUBS")["$[]"]("basic"):o.get("SUBS")["$[]"]("verbatim");else{if(!"raw"["$==="](j))return g;i=h.context["$=="]("stem")?o.get("SUBS")["$[]"]("basic"):o.get("SUBS")["$[]"]("pass")}else i=h.default_subs;return(a=k=h.attributes["$[]"]("subs"))===g||a.$$is_boolean&&1!=a?h.subs=i.$dup():h.subs=h.$resolve_block_subs(k,i,h.context),d=(e=h.context["$=="]("listing"))?h.style["$=="]("source"):h.context["$=="]("listing"),c=d!==!1&&d!==g?h.attributes["$[]"]("language"):d,b=c!==!1&&c!==g?h.document["$basebackend?"]("html"):c,(a=b!==!1&&b!==g?o.get("SUB_HIGHLIGHT")["$include?"](h.document.$attributes()["$[]"]("source-highlighter")):b)===g||a.$$is_boolean&&1!=a?g:h.subs=(a=(b=h.subs).$map,a.$$p=(f=function(a){f.$$s||this;return null==a&&(a=g),a["$=="]("specialcharacters")?"highlight":a},f.$$s=h,f),a).call(b)})}(o.base)}(f.base)},Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var d=(a.top,a),e=a.nil,f=(a.breaker,a.slice,a.module),g=a.klass,h=a.hash2,i=a.range;return function(d){var j=f(d,"Asciidoctor"),k=(j.$$proto,j.$$scope);!function(d,f){function j(){}var k=j=g(d,f,"AbstractNode",j),l=k.$$proto,m=k.$$scope;return l.document=l.attributes=l.path_resolver=l.style=e,k.$include(m.get("Substitutors")),k.$attr_reader("parent"),k.$attr_reader("document"),k.$attr_reader("context"),k.$attr_reader("node_name"),k.$attr_accessor("id"),k.$attr_reader("attributes"),a.defn(k,"$initialize",function(a,b,c){var d,f=this;return null==c&&(c=h([],{})),b["$=="]("document")?f.document=a:a!==!1&&a!==e?(f.parent=a,f.document=a.$document()):(f.parent=e,f.document=e),f.context=b,f.node_name=b.$to_s(),f.attributes=function(){return(d=c["$key?"]("attributes"))===e||d.$$is_boolean&&1!=d?h([],{}):c["$[]"]("attributes").$dup()}(),f.passthroughs=h([],{})}),a.defn(k,"$parent=",function(a){var b=this;return b.parent=a,b.document=a.$document(),e}),a.defn(k,"$inline?",function(){var b=this;return b.$raise(a.get("NotImplementedError"))}),a.defn(k,"$block?",function(){var b=this;return b.$raise(a.get("NotImplementedError"))}),a.defn(k,"$attr",function(b,c,d){var f,g,h=this;return null==c&&(c=e),null==d&&(d=!0),(f=a.get("Symbol")["$==="](b))===e||f.$$is_boolean&&1!=f||(b=b.$to_s()),h["$=="](h.document)&&(d=!1),d!==!1&&d!==e?(f=(g=h.attributes["$[]"](b))!==!1&&g!==e?g:h.document.$attributes()["$[]"](b))!==!1&&f!==e?f:c:(f=h.attributes["$[]"](b))!==!1&&f!==e?f:c}),a.defn(k,"$attr?",function(b,c,d){var f,g,h=this;return null==c&&(c=e),null==d&&(d=!0),(f=a.get("Symbol")["$==="](b))===e||f.$$is_boolean&&1!=f||(b=b.$to_s()),h["$=="](h.document)&&(d=!1),(f=c["$nil?"]())===e||f.$$is_boolean&&1!=f?d!==!1&&d!==e?c["$=="]((f=h.attributes["$[]"](b))!==!1&&f!==e?f:h.document.$attributes()["$[]"](b)):c["$=="](h.attributes["$[]"](b)):(f=h.attributes["$has_key?"](b))!==!1&&f!==e?f:(g=d!==!1&&d!==e)?h.document.$attributes()["$has_key?"](b):d}),a.defn(k,"$set_attr",function(a,b,c){var d,f,g=this;return null==c&&(c=!0),(d=(f=c["$=="](!1))?g.attributes["$key?"](a):c["$=="](!1))===e||d.$$is_boolean&&1!=d?(g.attributes["$[]="](a,b),!0):!1}),a.defn(k,"$set_option",function(a){var b,c=this;return(b=c.attributes["$has_key?"]("options"))===e||b.$$is_boolean&&1!=b?c.attributes["$[]="]("options",a):c.attributes["$[]="]("options",""+c.attributes["$[]"]("options")+","+a),c.attributes["$[]="](""+a+"-option","")}),a.defn(k,"$option?",function(a){var b=this;return b.attributes["$has_key?"](""+a+"-option")}),a.defn(k,"$update_attributes",function(a){var b=this;return b.attributes.$update(a),e}),a.defn(k,"$converter",function(){var a=this;return a.document.$converter()}),a.defn(k,"$role?",function(a){var b,c=this;return null==a&&(a=e),a!==!1&&a!==e?a["$=="]((b=c.attributes["$[]"]("role"))!==!1&&b!==e?b:c.document.$attributes()["$[]"]("role")):(b=c.attributes["$has_key?"]("role"))!==!1&&b!==e?b:c.document.$attributes()["$has_key?"]("role")}),a.defn(k,"$role",function(){var a,b=this;return(a=b.attributes["$[]"]("role"))!==!1&&a!==e?a:b.document.$attributes()["$[]"]("role")}),a.defn(k,"$has_role?",function(a){var b,c,d=this,f=e;return(b=f=(c=d.attributes["$[]"]("role"))!==!1&&c!==e?c:d.document.$attributes()["$[]"]("role"))===e||b.$$is_boolean&&1!=b?!1:f.$split(" ")["$include?"](a)}),a.defn(k,"$roles",function(){var a,b,c=this,d=e;return(a=d=(b=c.attributes["$[]"]("role"))!==!1&&b!==e?b:c.document.$attributes()["$[]"]("role"))===e||a.$$is_boolean&&1!=a?[]:d.$split(" ")}),a.defn(k,"$add_role",function(a){var c,d,f=this,g=e;return(c=(g=((d=f.attributes["$[]"]("role"))!==!1&&d!==e?d:"").$split(" "))["$include?"](a))===e||c.$$is_boolean&&1!=c?f.attributes["$[]="]("role",b(g.$push(a)," ")):e}),a.defn(k,"$remove_role",function(a){var c,d,f=this,g=e;return(c=(g=((d=f.attributes["$[]"]("role"))!==!1&&d!==e?d:"").$split(" "))["$include?"](a))===e||c.$$is_boolean&&1!=c?e:(g.$delete(a),f.attributes["$[]="]("role",b(g," ")))}),a.defn(k,"$reftext?",function(){var a,b=this;return(a=b.attributes["$has_key?"]("reftext"))!==!1&&a!==e?a:b.document.$attributes()["$has_key?"]("reftext")}),a.defn(k,"$reftext",function(){var a,b=this;return(a=b.attributes["$[]"]("reftext"))!==!1&&a!==e?a:b.document.$attributes()["$[]"]("reftext")}),a.defn(k,"$icon_uri",function(a){var b,c=this;return(b=c["$attr?"]("icon"))===e||b.$$is_boolean&&1!=b?c.$image_uri(""+a+"."+c.document.$attr("icontype","png"),"iconsdir"):c.$image_uri(c.$attr("icon"),e)}),a.defn(k,"$media_uri",function(a,b){var c=this;return null==b&&(b="imagesdir"),c.$normalize_web_path(a,function(){return b!==!1&&b!==e?c.document.$attr(b):e}())}),a.defn(k,"$image_uri",function(a,b){var d,f,g,h,i,j=this,k=e,l=e;return null==b&&(b="imagesdir"),(d=(f=c((k=j.document).$safe(),m.get("SafeMode").$$scope.get("SECURE")))?k["$attr?"]("data-uri"):c((k=j.document).$safe(),m.get("SafeMode").$$scope.get("SECURE")))===e||d.$$is_boolean&&1!=d?j.$normalize_web_path(a,function(){return b!==!1&&b!==e?k.$attr(b):e}()):(d=(f=m.get("Helpers")["$uriish?"](a))!==!1&&f!==e?f:(h=(i=b!==!1&&b!==e)?l=k.$attr(b):b,g=h!==!1&&h!==e?m.get("Helpers")["$uriish?"](l):h,g!==!1&&g!==e?a=j.$normalize_web_path(a,l,!1):g))===e||d.$$is_boolean&&1!=d?j.$generate_data_uri(a,b):(d=k["$attr?"]("allow-uri-read"))===e||d.$$is_boolean&&1!=d?a:j.$generate_data_uri_from_uri(a,k["$attr?"]("cache-uri"))}),a.defn(k,"$generate_data_uri",function(b,c){var d,f,g,j=this,k=e,l=e,n=e,o=e;return null==c&&(c=e),k=a.get("File").$extname(b),l=function(){return k["$=="](".svg")?"image/svg+xml":"image/"+k["$[]"](i(1,-1,!1))}(),n=c!==!1&&c!==e?j.$normalize_system_path(b,j.document.$attr(c),e,h(["target_name"],{target_name:"image"})):j.$normalize_system_path(b),(d=a.get("File")["$readable?"](n))===e||d.$$is_boolean&&1!=d?(j.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+n),"data:"+l+":base64,"):(o=e,o=(d=a.get("IO")["$respond_to?"]("binread"))===e||d.$$is_boolean&&1!=d?(d=(f=a.get("File")).$open,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=e),a.$read()},g.$$s=j,g),d).call(f,n,"rb"):a.get("IO").$binread(n),"data:"+l+";base64,"+a.get("Base64").$encode64(o).$delete(m.get("EOL")))}),a.defn(k,"$generate_data_uri_from_uri",function(b,c){var d,f,g,h=this,i=e,j=e;null==c&&(c=!1),c!==!1&&c!==e?m.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return i=e,j=(d=(f=h).$open,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=e),i=a.$content_type(),a.$read()},g.$$s=h,g),d).call(f,b,"rb"),"data:"+i+";base64,"+a.get("Base64").$encode64(j).$delete(m.get("EOL"))}catch(k){try{return h.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(k,"$read_contents",function(c,d){var f,g,i,j,k,l=this,n=e,o=e,p=e;if(null==d&&(d=h([],{})),n=l.document,(f=(g=m.get("Helpers")["$uriish?"](c))!==!1&&g!==e?g:(j=o=d["$[]"]("start"),i=j!==!1&&j!==e?m.get("Helpers")["$uriish?"](o):j,i!==!1&&i!==e?c=((j=l.path_resolver)!==!1&&j!==e?j:l.path_resolver=m.get("PathResolver").$new()).$web_path(c,o):i))===e||f.$$is_boolean&&1!=f)c=l.$normalize_system_path(c,d["$[]"]("start"),e,h(["target_name"],{target_name:(f=d["$[]"]("label"))!==!1&&f!==e?f:"asset"})),p=l.$read_asset(c,h(["normalize","warn_on_failure"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0)}));else if((f=n["$attr?"]("allow-uri-read"))===e||f.$$is_boolean&&1!=f)(f=d.$fetch("warn_on_failure",!0))===e||f.$$is_boolean&&1!=f||l.$warn("asciidoctor: WARNING: cannot retrieve contents of "+((f=d["$[]"]("label"))!==!1&&f!==e?f:"asset")+" at URI: "+c+" (allow-uri-read attribute not enabled)"),p=e;else{(f=n["$attr?"]("cache-uri"))===e||f.$$is_boolean&&1!=f||m.get("Helpers").$require_library("open-uri/cached","open-uri-cached");try{p=(f=(g=a.get("OpenURI")).$open_uri,f.$$p=(k=function(a){k.$$s||this;return null==a&&(a=e),a.$read()},k.$$s=l,k),f).call(g,c),(f=d["$[]"]("normalize"))===e||f.$$is_boolean&&1!=f||(p=b(m.get("Helpers").$normalize_lines_from_string(p),m.get("EOL")))}catch(q){try{(f=d.$fetch("warn_on_failure",!0))===e||f.$$is_boolean&&1!=f||l.$warn("asciidoctor: WARNING: could not retrieve contents of "+((f=d["$[]"]("label"))!==!1&&f!==e?f:"asset")+" at URI: "+c),p=e}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}return p}),a.defn(k,"$read_asset",function(c,d){var f,g=this;return null==d&&(d=h([],{})),((f=a.get("Hash")["$==="](d))===e||f.$$is_boolean&&1!=f)&&(d=h(["warn_on_failure"],{warn_on_failure:d["$!="](!1)})),(f=a.get("File")["$readable?"](c))===e||f.$$is_boolean&&1!=f?((f=d["$[]"]("warn_on_failure"))===e||f.$$is_boolean&&1!=f||g.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+c),e):(f=d["$[]"]("normalize"))===e||f.$$is_boolean&&1!=f?a.get("IO").$read(c):b(m.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(c)),m.get("EOL"))}),a.defn(k,"$normalize_web_path",function(a,b,c){var d,f,g=this;return null==b&&(b=e),null==c&&(c=!0),(d=(f=c!==!1&&c!==e)?m.get("Helpers")["$uriish?"](a):c)===e||d.$$is_boolean&&1!=d?((d=g.path_resolver)!==!1&&d!==e?d:g.path_resolver=m.get("PathResolver").$new()).$web_path(a,b):a}),a.defn(k,"$normalize_system_path",function(b,d,f,g){var i,j=this,k=e,l=e;return null==d&&(d=e),null==f&&(f=e),null==g&&(g=h([],{})),k=(i=j.path_resolver)!==!1&&i!==e?i:j.path_resolver=m.get("PathResolver").$new(),c((l=j.document).$safe(),m.get("SafeMode").$$scope.get("SAFE"))?d!==!1&&d!==e?((i=k["$is_root?"](d))===e||i.$$is_boolean&&1!=i)&&(d=a.get("File").$join(l.$base_dir(),d)):d=l.$base_dir():(d!==!1&&d!==e||(d=l.$base_dir()),f!==!1&&f!==e||(f=l.$base_dir())),k.$system_path(b,d,f,g)}),a.defn(k,"$normalize_asset_path",function(a,b,c){var d=this;return null==b&&(b="path"),null==c&&(c=!0),d.$normalize_system_path(a,d.document.$base_dir(),e,h(["target_name","recover"],{target_name:b,recover:c}))}),a.defn(k,"$relative_path",function(a){var b,c=this;return((b=c.path_resolver)!==!1&&b!==e?b:c.path_resolver=m.get("PathResolver").$new()).$relative_path(a,c.document.$base_dir())}),a.defn(k,"$is_uri?",function(a){return m.get("Helpers")["$uriish?"](a)}),a.defn(k,"$list_marker_keyword",function(a){var b,c=this;return null==a&&(a=e),m.get("ORDERED_LIST_KEYWORDS")["$[]"]((b=a)!==!1&&b!==e?b:c.style)}),e&&"list_marker_keyword"}(k.base,null)}(d.base)},Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var d=(a.top,a),e=a.nil,f=a.breaker,g=a.slice,h=a.module,i=a.klass,j=a.hash2;return function(d){var k=h(d,"Asciidoctor"),l=(k.$$proto,k.$$scope);!function(d,h){function k(){}var l,m,n=k=i(d,h,"AbstractBlock",k),o=n.$$proto,p=n.$$scope;return o.document=o.attributes=o.blocks=o.source_location=o.subs=o.title=o.subbed_title=o.caption=o.context=o.style=o.id=o.header=o.next_section_index=o.next_section_number=e,n.$attr_accessor("content_model"),n.$attr_reader("subs"),n.$attr_reader("blocks"),n.$attr_accessor("level"),n.$attr_writer("title"),n.$attr_accessor("style"),n.$attr_accessor("caption"),n.$attr_accessor("source_location"),a.defn(n,"$initialize",l=function(b,c,d){var f,h,i=g.call(arguments,0),k=this,m=l.$$p;return null==d&&(d=j([],{})),l.$$p=null,a.find_super_dispatcher(k,"initialize",l,m).apply(k,i),k.content_model="compound",k.subs=[],k.default_subs=e,k.blocks=[],k.id=e,k.title=e,k.caption=e,k.style=e,k.level=function(){return c["$=="]("document")?0:(f=(h=b!==!1&&b!==e)?c["$!="]("section"):b)===e||f.$$is_boolean&&1!=f?e:b.$level()}(),k.next_section_index=0,k.next_section_number=1,k.source_location=e}),a.defn(n,"$block?",function(){return!0}),a.defn(n,"$inline?",function(){return!1}),a.defn(n,"$context=",function(a){var b=this;return b.context=a,b.node_name=a.$to_s()}),a.defn(n,"$convert",function(){var a=this;return a.document.$playback_attributes(a.attributes),a.$converter().$convert(a)}),a.alias(n,"render","convert"),a.defn(n,"$content",function(){var a,c,d,f=this;return b((a=(c=f.blocks).$map,a.$$p=(d=function(a){d.$$s||this;return null==a&&(a=e),a.$convert()},d.$$s=f,d),a).call(c),p.get("EOL"))}),a.defn(n,"$file",function(){var a,b=this;return(a=b.source_location)===e||a.$$is_boolean&&1!=a?e:b.source_location.$file()}),a.defn(n,"$lineno",function(){var a,b=this;return(a=b.source_location)===e||a.$$is_boolean&&1!=a?e:b.source_location.$lineno()}),a.defn(n,"$sub?",function(a){var b=this;return b.subs["$include?"](a)}),a.defn(n,"$title?",function(){var a=this;return a.title["$nil_or_empty?"]()["$!"]()}),a.defn(n,"$title",function(){var a,b,c=this;return b=c.subbed_title,(a=null!=b&&b!==e?"instance-variable":e)===e||a.$$is_boolean&&1!=a?(a=c.title)===e||a.$$is_boolean&&1!=a?c.title:c.subbed_title=c.$apply_title_subs(c.title):c.subbed_title}),a.defn(n,"$captioned_title",function(){var a=this;return""+a.caption+a.$title()}),a.defn(n,"$blocks?",function(){var a=this;return a.blocks["$empty?"]()["$!"]()}),a.defn(n,"$<<",function(a){var b=this;return b.blocks["$<<"](a)}),a.alias(n,"append","<<"),a.defn(n,"$sections",function(){var a,b,c,d=this;return(a=(b=d.blocks).$select,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=e),a.$context()["$=="]("section")},c.$$s=d,c),a).call(b)}),a.defn(n,"$find_by",m=function(b){var c,d,g,h,i,k,l,n=this,o=m.$$p,p=o||e,q=e,r=e,s=e,t=e,u=e,v=e;if(null==b&&(b=j([],{})),m.$$p=null,q=[],h=(i=r=(s=b["$[]"]("context"))["$!"]())!==!1&&i!==e?i:s["$=="](n.context),g=h!==!1&&h!==e?(i=(t=b["$[]"]("style"))["$!"]())!==!1&&i!==e?i:t["$=="](n.style):h,d=g!==!1&&g!==e?(h=(u=b["$[]"]("role"))["$!"]())!==!1&&h!==e?h:n["$has_role?"](u):g,(c=d!==!1&&d!==e?(g=(v=b["$[]"]("id"))["$!"]())!==!1&&g!==e?g:v["$=="](n.id):d)!==e&&(!c.$$is_boolean||1==c)){if(v!==!1&&v!==e)return p!==e?function(){return(c=(d=a.yield1(p,n))===f?f.$v:d)===e||c.$$is_boolean&&1!=c?q:[n]}():[n];p!==e?(c=(d=a.yield1(p,n))===f?f.$v:d)===e||c.$$is_boolean&&1!=c||q["$<<"](n):q["$<<"](n)}return d=(g=n.context["$=="]("document"))?(h=r)!==!1&&h!==e?h:s["$=="]("section"):n.context["$=="]("document"),(c=d!==!1&&d!==e?n["$header?"]():d)===e||c.$$is_boolean&&1!=c||q.$concat((c=(d=n.header).$find_by,c.$$p=p.$to_proc(),c).call(d,b)),s["$=="]("document")||(n.context["$=="]("dlist")?(c=(g=r)!==!1&&g!==e?g:s["$!="]("section"))===e||c.$$is_boolean&&1!=c||(c=(g=n.blocks.$flatten()).$each,c.$$p=(k=function(a){var c,d;k.$$s||this;return null==a&&(a=e),q.$concat((c=(d=a).$find_by,c.$$p=p.$to_proc(),c).call(d,b))},k.$$s=n,k),c).call(g):(c=(h=(i=n.blocks).$each,h.$$p=(l=function(a){var c,d;l.$$s||this;return null==a&&(a=e),(c=(d=s["$=="]("section"))?a.$context()["$!="]("section"):s["$=="]("section"))===e||c.$$is_boolean&&1!=c?q.$concat((c=(d=a).$find_by,c.$$p=p.$to_proc(),c).call(d,b)):e},l.$$s=n,l),h).call(i))!==e&&(!c.$$is_boolean||1==c)),q}),a.alias(n,"query","find_by"),a.defn(n,"$remove_sub",function(a){var b=this;return b.subs.$delete(a),e}),a.defn(n,"$assign_caption",function(a,b){var c,d,f=this,g=e,h=e,i=e,j=e;return null==a&&(a=e),null==b&&(b=e),(c=(d=f["$title?"]())!==!1&&d!==e?d:f.caption["$!"]())===e||c.$$is_boolean&&1!=c?e:(a!==!1&&a!==e?f.caption=a:(c=g=f.document.$attributes()["$[]"]("caption"))===e||c.$$is_boolean&&1!=c?(c=f["$title?"]())===e||c.$$is_boolean&&1!=c||((c=b)!==!1&&c!==e?c:b=f.context.$to_s(),h=""+b+"-caption",(c=i=f.document.$attributes()["$[]"](h))===e||c.$$is_boolean&&1!=c||(j=f.document.$counter_increment(""+b+"-number",f),f.caption=""+i+" "+j+". ")):f.caption=g,e)}),a.defn(n,"$assign_index",function(a){var b,d,f,g,h=this,i=e,j=e;return b=[h.next_section_index],d=a,d["$index="].apply(d,b),b[b.length-1],h.next_section_index=c(h.next_section_index,1),a.$sectname()["$=="]("appendix")?(i=h.document.$counter("appendix-number","A"),(b=a.$numbered())===e||b.$$is_boolean&&1!=b||(b=[i],d=a,d["$number="].apply(d,b),b[b.length-1]),(b=(j=h.document.$attr("appendix-caption",""))["$!="](""))===e||b.$$is_boolean&&1!=b?(b=[""+i+". "],d=a,d["$caption="].apply(d,b),b[b.length-1]):(b=[""+j+" "+i+": "],d=a,d["$caption="].apply(d,b),b[b.length-1])):(b=a.$numbered())===e||b.$$is_boolean&&1!=b?e:(d=(f=a.$level()["$=="](1))!==!1&&f!==e?f:(g=a.$level()["$=="](0))?a.$special():a.$level()["$=="](0),(b=d!==!1&&d!==e?h.document.$doctype()["$=="]("book"):d)===e||b.$$is_boolean&&1!=b?(b=[h.next_section_number],d=a,d["$number="].apply(d,b),b[b.length-1],h.next_section_number=c(h.next_section_number,1)):(b=[h.document.$counter("chapter-number",1)],d=a,d["$number="].apply(d,b),b[b.length-1]))}),a.defn(n,"$reindex_sections",function(){var a,b,c,d=this;return d.next_section_index=0,d.next_section_number=0,(a=(b=d.blocks).$each,a.$$p=(c=function(a){var b=c.$$s||this;return null==a&&(a=e),a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):e},c.$$s=d,c),a).call(b)}),e&&"reindex_sections"}(l.base,l.get("AbstractNode"))}(d.base)},Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b);
}a.dynamic_require_severity="ignore";var d=(a.top,a),e=a.nil,f=(a.breaker,a.slice,a.module),g=a.klass,h=a.hash2;return function(d){var i=f(d,"Asciidoctor"),j=(i.$$proto,i.$$scope);!function(d,f){function i(){}var j=i=g(d,f,"AttributeList",i),k=j.$$proto,l=j.$$scope;return k.attributes=k.scanner=k.delimiter=k.block=k.delimiter_skip_pattern=k.delimiter_boundary_pattern=e,a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(l,"CG_BLANK","[ \\t]"),a.cdecl(l,"CC_WORD","a-zA-Z0-9_"),a.cdecl(l,"CG_WORD","[a-zA-Z0-9_]")),a.cdecl(l,"BoundaryRxs",h(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+l.get("CG_BLANK")+"*(,|$))")})),a.cdecl(l,"EscapedQuoteRxs",h(['"',"'"],{'"':/\\"/,"'":/\\'/})),a.cdecl(l,"NameRx",new RegExp(""+l.get("CG_WORD")+"["+l.get("CC_WORD")+"\\-.]*")),a.cdecl(l,"BlankRx",new RegExp(""+l.get("CG_BLANK")+"+")),a.cdecl(l,"SkipRxs",h(["blank",","],{blank:l.get("BlankRx"),",":new RegExp(""+l.get("CG_BLANK")+"*(,|$)")})),a.defn(j,"$initialize",function(b,c,d){var f=this;return null==c&&(c=e),null==d&&(d=","),f.scanner=a.get("StringScanner").$new(b),f.block=c,f.delimiter=d,f.delimiter_skip_pattern=l.get("SkipRxs")["$[]"](d),f.delimiter_boundary_pattern=l.get("BoundaryRxs")["$[]"](d),f.attributes=e}),a.defn(j,"$parse_into",function(a,b){var c=this;return null==b&&(b=[]),a.$update(c.$parse(b))}),a.defn(j,"$parse",function(a){var c,d,f=this,g=e;if(null==a&&(a=[]),(c=f.attributes)!==e&&(!c.$$is_boolean||1==c))return f.attributes;for(f.attributes=h([],{}),g=0;(d=f.$parse_attribute(g,a))!==e&&(!d.$$is_boolean||1==d)&&((d=f.scanner["$eos?"]())===e||d.$$is_boolean&&1!=d);)f.$skip_delimiter(),g=b(g,1);return f.attributes}),a.defn(j,"$rekey",function(a){var b=this;return l.get("AttributeList").$rekey(b.attributes,a)}),a.defs(j,"$rekey",function(a,c){var d,f,g,h=this;return(d=(f=c).$each_with_index,d.$$p=(g=function(c,d){var f,h=(g.$$s||this,e),i=e;return null==c&&(c=e),null==d&&(d=e),c===!1||c===e?e:(h=b(d,1),(f=i=a["$[]"](h))===e||f.$$is_boolean&&1!=f?e:a["$[]="](c,i))},g.$$s=h,g),d).call(f),a}),a.defn(j,"$parse_attribute",function(a,d){var f,g,h,i,j,k=this,l=e,m=e,n=e,o=e,p=e,q=e,r=e,s=e,t=e;if(null==a&&(a=0),null==d&&(d=[]),l=!1,k.$skip_blank(),(m=k.scanner.$peek(1))["$=="]('"'))n=k.$parse_attribute_value(k.scanner.$get_byte()),o=e;else if(m["$=="]("'"))n=k.$parse_attribute_value(k.scanner.$get_byte()),o=e,l=!0;else{if(n=k.$scan_name(),p=0,q=e,(f=k.scanner["$eos?"]())===e||f.$$is_boolean&&1!=f)p=(f=k.$skip_blank())!==!1&&f!==e?f:0,q=k.scanner.$get_byte();else if(n===!1||n===e)return!1;if((f=(g=q["$!"]())!==!1&&g!==e?g:q["$=="](k.delimiter))===e||f.$$is_boolean&&1!=f)if((f=(g=q["$!="]("="))!==!1&&g!==e?g:n["$!"]())===e||f.$$is_boolean&&1!=f){if(k.$skip_blank(),(f=k.scanner.$peek(1))!==e&&(!f.$$is_boolean||1==f))if((q=k.scanner.$get_byte())["$=="]('"'))o=k.$parse_attribute_value(q);else if(q["$=="]("'"))o=k.$parse_attribute_value(q),l=!0;else if(q["$=="](k.delimiter))o=e;else if(o=""+q+k.$scan_to_delimiter(),o["$=="]("None"))return!0}else n=""+n+c(" ",p)+q+k.$scan_to_delimiter(),o=e;else o=e}return o!==!1&&o!==e?(r=n,"options"["$==="](r)||"opts"["$==="](r)?(n="options",(f=(g=o.$tr(" ","").$split(",")).$each,f.$$p=(h=function(a){var b=h.$$s||this;return null==b.attributes&&(b.attributes=e),null==a&&(a=e),b.attributes["$[]="](""+a+"-option","")},h.$$s=k,h),f).call(g),k.attributes["$[]="](n,o)):"title"["$==="](r)?k.attributes["$[]="](n,o):k.attributes["$[]="](n,function(){return i=(j=l!==!1&&l!==e)?o["$empty?"]()["$!"]():l,(f=i!==!1&&i!==e?k.block:i)===e||f.$$is_boolean&&1!=f?o:k.block.$apply_normal_subs(o)}())):(s=function(){return i=(j=l!==!1&&l!==e)?n["$empty?"]()["$!"]():l,(f=i!==!1&&i!==e?k.block:i)===e||f.$$is_boolean&&1!=f?n:k.block.$apply_normal_subs(n)}(),(f=t=d["$[]"](a))===e||f.$$is_boolean&&1!=f||k.attributes["$[]="](t,s),k.attributes["$[]="](b(a,1),s)),!0}),a.defn(j,"$parse_attribute_value",function(a){var b,c=this,d=e;return c.scanner.$peek(1)["$=="](a)?(c.scanner.$get_byte(),""):(b=d=c.$scan_to_quote(a))===e||b.$$is_boolean&&1!=b?""+a+c.$scan_to_delimiter():(c.scanner.$get_byte(),d.$gsub(l.get("EscapedQuoteRxs")["$[]"](a),a))}),a.defn(j,"$skip_blank",function(){var a=this;return a.scanner.$skip(l.get("BlankRx"))}),a.defn(j,"$skip_delimiter",function(){var a=this;return a.scanner.$skip(a.delimiter_skip_pattern)}),a.defn(j,"$scan_name",function(){var a=this;return a.scanner.$scan(l.get("NameRx"))}),a.defn(j,"$scan_to_delimiter",function(){var a=this;return a.scanner.$scan(a.delimiter_boundary_pattern)}),a.defn(j,"$scan_to_quote",function(a){var b=this;return b.scanner.$scan(l.get("BoundaryRxs")["$[]"](a))}),e&&"scan_to_quote"}(j.base,null)}(d.base)},Opal.modules["asciidoctor/block"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var d=(a.top,a),e=a.nil,f=(a.breaker,a.slice),g=a.module,h=a.klass,i=a.hash2;return function(d){var j=g(d,"Asciidoctor"),k=(j.$$proto,j.$$scope);!function(d,g){function j(){}var k,l,m,n,o=j=h(d,g,"Block",j),p=o.$$proto,q=o.$$scope;return p.attributes=p.content_model=p.lines=p.subs=p.blocks=p.context=p.style=e,k=["simple"],l=a.cdecl(q,"DEFAULT_CONTENT_MODEL",i(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),l["$default="].apply(l,k),k[k.length-1],a.alias(o,"blockname","context"),o.$attr_accessor("lines"),a.defn(o,"$initialize",m=function(b,c,d){var g,h=f.call(arguments,0),j=this,k=m.$$p,l=e,n=e;return null==d&&(d=i([],{})),m.$$p=null,a.find_super_dispatcher(j,"initialize",m,k).apply(j,h),j.content_model=(g=d["$[]"]("content_model"))!==!1&&g!==e?g:q.get("DEFAULT_CONTENT_MODEL")["$[]"](c),(g=d["$key?"]("subs"))===e||g.$$is_boolean&&1!=g?(j.subs=[],j.default_subs=e):(g=l=d["$[]"]("subs"))===e||g.$$is_boolean&&1!=g?(j.subs=[],j.default_subs=[],j.attributes.$delete("subs")):(l["$=="]("default")?j.default_subs=d["$[]"]("default_subs"):(g=a.get("Array")["$==="](l))===e||g.$$is_boolean&&1!=g?(j.default_subs=e,j.attributes["$[]="]("subs",""+l)):(j.default_subs=l.$dup(),j.attributes.$delete("subs")),j.$lock_in_subs()),(g=(n=d["$[]"]("source"))["$nil_or_empty?"]())===e||g.$$is_boolean&&1!=g?(g=a.get("String")["$==="](n))===e||g.$$is_boolean&&1!=g?j.lines=n.$dup():j.lines=q.get("Helpers").$normalize_lines_from_string(n):j.lines=[]}),a.defn(o,"$content",n=function(){var d,g,h=f.call(arguments,0),i=this,j=n.$$p,k=e,l=e,m=e,o=e;return n.$$p=null,function(){if(k=i.content_model,"compound"["$==="](k))return a.find_super_dispatcher(i,"content",n,j).apply(i,h);if("simple"["$==="](k))return i.$apply_subs(b(i.lines,q.get("EOL")),i.subs);if("verbatim"["$==="](k)||"raw"["$==="](k)){if(l=i.$apply_subs(i.lines,i.subs),c(l.$size(),2))return l["$[]"](0);for(;g=m=l["$[]"](0),(d=g!==!1&&g!==e?m.$rstrip()["$empty?"]():g)!==e&&(!d.$$is_boolean||1==d);)l.$shift();for(;g=o=l["$[]"](-1),(d=g!==!1&&g!==e?o.$rstrip()["$empty?"]():g)!==e&&(!d.$$is_boolean||1==d);)l.$pop();return b(l,q.get("EOL"))}return i.content_model["$=="]("empty")||i.$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),e}()}),a.defn(o,"$source",function(){var a=this;return b(a.lines,q.get("EOL"))}),a.defn(o,"$to_s",function(){var a=this,b=e;return b=function(){return a.content_model["$=="]("compound")?"blocks: "+a.blocks.$size():"lines: "+a.lines.$size()}(),"#<"+a.$class()+"@"+a.$object_id()+" {context: "+a.context.$inspect()+", content_model: "+a.content_model.$inspect()+", style: "+a.style.$inspect()+", "+b+"}>"}),e&&"to_s"}(k.base,k.get("AbstractBlock"))}(d.base)},Opal.modules["asciidoctor/callouts"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var f=(a.top,a),g=a.nil,h=(a.breaker,a.slice,a.module),i=a.klass,j=a.hash2;return function(f){var k=h(f,"Asciidoctor"),l=(k.$$proto,k.$$scope);!function(f,h){function k(){}var l=k=i(f,h,"Callouts",k),m=l.$$proto;l.$$scope;return m.co_index=m.lists=m.list_index=g,a.defn(l,"$initialize",function(){var a=this;return a.lists=[],a.list_index=0,a.$next_list()}),a.defn(l,"$register",function(a){var c=this,d=g;return c.$current_list()["$<<"](j(["ordinal","id"],{ordinal:a.$to_i(),id:d=c.$generate_next_callout_id()})),c.co_index=b(c.co_index,1),d}),a.defn(l,"$read_next_id",function(){var a=this,e=g,f=g;return e=g,f=a.$current_list(),c(a.co_index,f.$size())&&(e=f["$[]"](d(a.co_index,1))["$[]"]("id")),a.co_index=b(a.co_index,1),e}),a.defn(l,"$callout_ids",function(a){var b,c,d,e=this;return(b=(c=e.$current_list()).$map,b.$$p=(d=function(b){d.$$s||this;return null==b&&(b=g),b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":g},d.$$s=e,d),b).call(c).$join().$chop()}),a.defn(l,"$current_list",function(){var a=this;return a.lists["$[]"](d(a.list_index,1))}),a.defn(l,"$next_list",function(){var a=this;return a.list_index=b(a.list_index,1),e(a.lists.$size(),a.list_index)&&a.lists["$<<"]([]),a.co_index=1,g}),a.defn(l,"$rewind",function(){var a=this;return a.list_index=1,a.co_index=1,g}),a.defn(l,"$generate_next_callout_id",function(){var a=this;return a.$generate_callout_id(a.list_index,a.co_index)}),a.defn(l,"$generate_callout_id",function(a,b){return"CO"+a+"-"+b}),g&&"generate_callout_id"}(l.base,null)}(f.base)},Opal.modules["asciidoctor/converter/base"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(a){var b=d(a,"Converter");b.$$proto,b.$$scope}(h.base),function(a,b){function c(){}var d=c=e(a,b,"Base",c),f=(d.$$proto,d.$$scope);return d.$include(f.get("Converter"))}(h.get("Converter"),null),function(b,d){function g(){}var h=g=e(b,d,"BuiltIn",g);h.$$proto,h.$$scope;return a.defn(h,"$initialize",function(a,b){return null==b&&(b=f([],{})),c}),a.defn(h,"$convert",function(a,b,d){var e,g=this;return null==b&&(b=c),null==d&&(d=f([],{})),(e=b)!==!1&&e!==c?e:b=a.$node_name(),(e=d["$empty?"]())===c||e.$$is_boolean&&1!=e?g.$send(b,a,d):g.$send(b,a)}),a.alias(h,"handles?","respond_to?"),a.defn(h,"$content",function(a){return a.$content()}),a.alias(h,"pass","content"),a.defn(h,"$skip",function(a){return c}),c&&"skip"}(h.get("Converter"),null)}(b.base)},Opal.modules["asciidoctor/converter/factory"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(b){var g=d(b,"Converter"),h=(g.$$proto,g.$$scope);!function(b,d){function g(){}var h=g=e(b,d,"Factory",g),i=h.$$proto,j=h.$$scope;return i.converters=i.star_converter=c,h.__default__=c,function(b){b.$$scope,b.$$proto;return a.defn(b,"$default",function(b){var d,e,f=this;return null==f.__default__&&(f.__default__=c),null==b&&(b=!0),b===!1||b===c?(d=f.__default__)!==!1&&d!==c?d:f.$new():(d=f.__default__)!==!1&&d!==c?d:f.__default__=function(){try{return function(){return(e=null==a.Object.$$scope.ThreadSafe?c:"constant")===c||e.$$is_boolean&&1!=e?f.$require("thread_safe".$to_s()):c}(),f.$new(a.get("ThreadSafe").$$scope.get("Cache").$new())}catch(b){if(!a.rescue(b,[a.get("LoadError")]))throw b;try{return f.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters."),f.$new()}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}()}),a.defn(b,"$register",function(a,b){var c=this;return null==b&&(b=["*"]),c.$default().$register(a,b)}),a.defn(b,"$resolve",function(a){var b=this;return b.$default().$resolve(a)}),a.defn(b,"$create",function(a,b){var c=this;return null==b&&(b=f([],{})),c.$default().$create(a,b)}),a.defn(b,"$converters",function(){var a=this;return a.$default().$converters()}),a.defn(b,"$unregister_all",function(){var a=this;return a.$default().$unregister_all()}),c&&"unregister_all"}(a.get_singleton_class(h)),h.$attr_reader("converters"),a.defn(h,"$initialize",function(a){var b,d=this;return null==a&&(a=c),d.converters=(b=a)!==!1&&b!==c?b:f([],{}),d.star_converter=c}),a.defn(h,"$register",function(a,b){var d,e,f,g=this;return null==b&&(b=["*"]),(d=(e=b).$each,d.$$p=(f=function(b){var d=f.$$s||this;return null==d.converters&&(d.converters=c),null==b&&(b=c),d.converters["$[]="](b,a),b["$=="]("*")?d.star_converter=a:c},f.$$s=g,f),d).call(e),c}),a.defn(h,"$resolve",function(a){var b,d,e=this;return b=e.converters,b!==!1&&b!==c?(d=e.converters["$[]"](a))!==!1&&d!==c?d:e.star_converter:b}),a.defn(h,"$unregister_all",function(){var a=this;return a.converters.$clear(),a.star_converter=c}),a.defn(h,"$create",function(b,d){var e,g=this,h=c,i=c,k=c,l=c;return null==d&&(d=f([],{})),(e=h=g.$resolve(b))===c||e.$$is_boolean&&1!=e?(i=function(){return k=b,"html5"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/html5".$to_s()),j.get("Html5Converter").$new(b,d)):"docbook5"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/docbook5".$to_s()),j.get("DocBook5Converter").$new(b,d)):"docbook45"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/docbook45".$to_s()),j.get("DocBook45Converter").$new(b,d)):"manpage"["$==="](k)?(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/manpage".$to_s()),j.get("ManPageConverter").$new(b,d)):c}(),(e=d["$key?"]("template_dirs"))===c||e.$$is_boolean&&1!=e?i:(((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/template".$to_s()),((e=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":c}catch(b){if(b.$$class===a.NameError)return c;throw b}}())===c||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/composite".$to_s()),l=j.get("TemplateConverter").$new(b,d["$[]"]("template_dirs"),d),j.get("CompositeConverter").$new(b,l,i))):(e=h["$is_a?"](a.get("Class")))===c||e.$$is_boolean&&1!=e?h:h.$new(b,d)}),c&&"create"}(h.base,null)}(h.base)}(b.base)},Opal.modules["asciidoctor/converter"]=function(a){a.dynamic_require_severity="ignore";var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.module),f=a.range,g=a.hash2;return function(b){var c=e(b,"Asciidoctor"),h=(c.$$proto,c.$$scope);!function(b){var c=e(b,"Converter"),h=(c.$$proto,c.$$scope);!function(b){var c=e(b,"Config"),f=(c.$$proto,c.$$scope);a.defn(c,"$register_for",function(){var b,c,e,g,h,i=this,j=d,k=arguments.length-0;0>k&&(k=0);for(var l=new Array(k),m=0;k>m;m++)l[m]=arguments[m+0];return f.get("Factory").$register(i,l),j=function(a){a.$$scope,a.$$proto;return a}(a.get_singleton_class(i)),l["$=="](["*"])?(b=(c=j).$send,b.$$p=(e=function(a){e.$$s||this;return null==a&&(a=d),!0},e.$$s=i,e),b).call(c,"define_method","converts?"):(b=(g=j).$send,b.$$p=(h=function(a){h.$$s||this;return null==a&&(a=d),l["$include?"](a)},h.$$s=i,h),b).call(g,"define_method","converts?"),d})}(h.base),function(b){var c=e(b,"BackendInfo"),h=(c.$$proto,c.$$scope);a.defn(c,"$backend_info",function(){var a,b=this;return null==b.backend_info&&(b.backend_info=d),(a=b.backend_info)!==!1&&a!==d?a:b.backend_info=b.$setup_backend_info()}),a.defn(c,"$setup_backend_info",function(){var b,c=this,e=d,i=d,j=d,k=d;return null==c.backend&&(c.backend=d),((b=c.backend)===d||b.$$is_boolean&&1!=b)&&c.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+c.$class()),e=c.backend.$sub(h.get("TrailingDigitsRx"),""),(b=i=h.get("DEFAULT_EXTENSIONS")["$[]"](e))===d||b.$$is_boolean&&1!=b?(e="html",i=".html",j="html",k="html"):j=i["$[]"](f(1,-1,!1)),g(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:i,filetype:j,htmlsyntax:k})}),a.defn(c,"$filetype",function(a){var b=this;return null==a&&(a=d),a!==!1&&a!==d?b.$backend_info()["$[]="]("filetype",a):b.$backend_info()["$[]"]("filetype")}),a.defn(c,"$basebackend",function(a){var b=this;return null==a&&(a=d),a!==!1&&a!==d?b.$backend_info()["$[]="]("basebackend",a):b.$backend_info()["$[]"]("basebackend")}),a.defn(c,"$outfilesuffix",function(a){var b=this;return null==a&&(a=d),a!==!1&&a!==d?b.$backend_info()["$[]="]("outfilesuffix",a):b.$backend_info()["$[]"]("outfilesuffix")}),a.defn(c,"$htmlsyntax",function(a){var b=this;return null==a&&(a=d),a!==!1&&a!==d?b.$backend_info()["$[]="]("htmlsyntax",a):b.$backend_info()["$[]"]("htmlsyntax")})}(h.base),function(b){var c=b.$$scope;b.$$proto;return a.defn(b,"$included",function(a){return a.$extend(c.get("Config"))}),d&&"included"}(a.get_singleton_class(c)),c.$include(h.get("Config")),c.$include(h.get("BackendInfo")),a.defn(c,"$initialize",function(a,b){var c=this;return null==b&&(b=g([],{})),c.backend=a,c.$setup_backend_info()}),a.defn(c,"$convert",function(b,c,e){var f=this;return null==c&&(c=d),null==e&&(e=g([],{})),f.$raise(a.get("NotImplementedError"))}),a.alias(c,"convert_with_options","convert")}(h.base),function(b){var c=e(b,"Writer"),f=(c.$$proto,c.$$scope);a.defn(c,"$write",function(b,c){var e,g,h,i=this;return(e=c["$respond_to?"]("write"))===d||e.$$is_boolean&&1!=e?(e=(g=a.get("File")).$open,e.$$p=(h=function(a){h.$$s||this;return null==a&&(a=d),a.$write(b)},h.$$s=i,h),e).call(g,c,"w"):(c.$write(b.$chomp()),c.$write(f.get("EOL"))),d})}(h.base),function(b){var c=e(b,"VoidWriter"),f=(c.$$proto,c.$$scope);c.$include(f.get("Writer")),a.defn(c,"$write",function(a,b){return d})}(h.base)}(c.base),b.$require("asciidoctor/converter/base"),b.$require("asciidoctor/converter/factory")},Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var h=(a.top,a),i=a.nil,j=(a.breaker,a.slice,a.module),k=a.klass,l=a.hash2,m=a.range;return function(h){var n=j(h,"Asciidoctor"),o=(n.$$proto,n.$$scope);!function(h,j){function n(){}var o,p,q=n=k(h,j,"Html5Converter",n),r=q.$$proto,s=q.$$scope;return r.xml_mode=r.void_element_slash=r.stylesheets=i,o=[[i,i,i]],p=a.cdecl(s,"QUOTE_TAGS",l(["emphasis","strong","monospaced","superscript","subscript","double","single","mark","asciimath","latexmath"],{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),p["$default="].apply(p,o),o[o.length-1],a.cdecl(s,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m),a.cdecl(s,"SvgStartTagRx",/\A<svg[^>]*>/),a.cdecl(s,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/),a.defn(q,"$initialize",function(a,b){var c,d=this;return null==b&&(b=l([],{})),d.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml"),d.void_element_slash=function(){return(c=d.xml_mode)===i||c.$$is_boolean&&1!=c?i:"/"}(),d.stylesheets=s.get("Stylesheets").$instance()}),a.defn(q,"$document",function(a){var e,f,g,h,j,k=this,n=i,o=i,p=i,q=i,r=i,t=i,u=i,v=i,w=i,x=i,y=i,z=i,A=i,B=i,C=i,D=i,E=i,F=i,G=i,H=i;return n=[],o=k.void_element_slash,p="<br"+o+">",((e=(q=a.$attr("asset-uri-scheme","https"))["$empty?"]())===i||e.$$is_boolean&&1!=e)&&(q=""+q+":"),r=""+q+"//cdnjs.cloudflare.com/ajax/libs",t=(e=b(a.$safe(),s.get("SafeMode").$$scope.get("SECURE")))!==!1&&e!==i?e:a["$attr?"]("linkcss"),n["$<<"]("<!DOCTYPE html>"),u=function(){return(e=a["$attr?"]("nolang"))===i||e.$$is_boolean&&1!=e?' lang="'+a.$attr("lang","en")+'"':i}(),n["$<<"]("<html"+function(){return(e=k.xml_mode)===i||e.$$is_boolean&&1!=e?i:' xmlns="http://www.w3.org/1999/xhtml"'}()+u+">"),n["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+o+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+o+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+o+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+o+">"),(e=a["$attr?"]("app-name"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+o+">"),(e=a["$attr?"]("description"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+o+">"),(e=a["$attr?"]("keywords"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+o+">"),(e=a["$attr?"]("authors"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+o+">"),(e=a["$attr?"]("copyright"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+o+">"),n["$<<"]("<title>"+a.$doctitle(l(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),(e=s.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))===i||e.$$is_boolean&&1!=e?(e=a["$attr?"]("stylesheet"))===i||e.$$is_boolean&&1!=e||(t!==!1&&t!==i?n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+o+">"):n["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),l(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>")):((e=v=a.$attr("webfonts"))===i||e.$$is_boolean&&1!=e||n["$<<"]('<link rel="stylesheet" href="'+q+"//fonts.googleapis.com/css?family="+function(){return(e=v["$empty?"]())===i||e.$$is_boolean&&1!=e?v:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"}()+'"'+o+">"),t!==!1&&t!==i?n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(s.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",""),!1)+'"'+o+">"):n["$<<"](k.stylesheets.$embed_primary_stylesheet())),(e=a["$attr?"]("icons","font"))===i||e.$$is_boolean&&1!=e||((e=a["$attr?"]("iconfont-remote"))===i||e.$$is_boolean&&1!=e?(w=""+a.$attr("iconfont-name","font-awesome")+".css",n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(w,a.$attr("stylesdir",""),!1)+'"'+o+">")):n["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+r+"/font-awesome/4.4.0/css/font-awesome.min.css")+'"'+o+">")),x=y=a.$attr("source-highlighter"),"coderay"["$==="](x)?a.$attr("coderay-css","class")["$=="]("class")&&(t!==!1&&t!==i?n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(k.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+o+">"):n["$<<"](k.stylesheets.$embed_coderay_stylesheet())):"pygments"["$==="](x)&&a.$attr("pygments-css","class")["$=="]("class")&&(z=a.$attr("pygments-style"),t!==!1&&t!==i?n["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(k.stylesheets.$pygments_stylesheet_name(z),a.$attr("stylesdir",""),!1)+'"'+o+">"):n["$<<"](k.stylesheets.$embed_pygments_stylesheet(z))),((e=(A=a.$docinfo())["$empty?"]())===i||e.$$is_boolean&&1!=e)&&n["$<<"](A),n["$<<"]("</head>"),B=[],(e=a.$id())===i||e.$$is_boolean&&1!=e||B["$<<"]('id="'+a.$id()+'"'),g=a["$attr?"]("toc-class"),f=g!==!1&&g!==i?a["$attr?"]("toc"):g,(e=f!==!1&&f!==i?a["$attr?"]("toc-placement","auto"):f)===i||e.$$is_boolean&&1!=e?B["$<<"]('class="'+a.$doctype()+'"'):B["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"'),(e=a["$attr?"]("max-width"))===i||e.$$is_boolean&&1!=e||B["$<<"]('style="max-width: '+a.$attr("max-width")+';"'),n["$<<"]("<body "+c(B," ")+">"),((e=a.$noheader())===i||e.$$is_boolean&&1!=e)&&(n["$<<"]('<div id="header">'),a.$doctype()["$=="]("manpage")?(n["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>"),f=a["$attr?"]("toc"),(e=f!==!1&&f!==i?a["$attr?"]("toc-placement","auto"):f)===i||e.$$is_boolean&&1!=e||n["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+k.$outline(a)+"\n</div>"),n["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")):((e=a["$has_header?"]())===i||e.$$is_boolean&&1!=e||(((e=a.$notitle())===i||e.$$is_boolean&&1!=e)&&n["$<<"]("<h1>"+a.$header().$title()+"</h1>"),C=[],(e=a["$attr?"]("author"))===i||e.$$is_boolean&&1!=e||(C["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+p),(e=a["$attr?"]("email"))===i||e.$$is_boolean&&1!=e||C["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+p),d(D=a.$attr("authorcount").$to_i(),1)&&(e=(f=m(2,D,!1)).$each,e.$$p=(h=function(b){var c;h.$$s||this;return null==b&&(b=i),C["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+p),(c=a["$attr?"]("email_"+b))===i||c.$$is_boolean&&1!=c?i:C["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+p)},h.$$s=k,h),e).call(f)),(e=a["$attr?"]("revnumber"))===i||e.$$is_boolean&&1!=e||C["$<<"]('<span id="revnumber">'+((e=a.$attr("version-label"))!==!1&&e!==i?e:"").$downcase()+" "+a.$attr("revnumber")+function(){return(e=a["$attr?"]("revdate"))===i||e.$$is_boolean&&1!=e?"":","}()+"</span>"),(e=a["$attr?"]("revdate"))===i||e.$$is_boolean&&1!=e||C["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>"),(e=a["$attr?"]("revremark"))===i||e.$$is_boolean&&1!=e||C["$<<"](""+p+'<span id="revremark">'+a.$attr("revremark")+"</span>"),((e=C["$empty?"]())===i||e.$$is_boolean&&1!=e)&&(n["$<<"]('<div class="details">'),n.$concat(C),n["$<<"]("</div>"))),g=a["$attr?"]("toc"),(e=g!==!1&&g!==i?a["$attr?"]("toc-placement","auto"):g)===i||e.$$is_boolean&&1!=e||n["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+k.$outline(a)+"\n</div>")),n["$<<"]("</div>")),n["$<<"]('<div id="content">\n'+a.$content()+"\n</div>"),g=a["$footnotes?"](),(e=g!==!1&&g!==i?a["$attr?"]("nofootnotes")["$!"]():g)===i||e.$$is_boolean&&1!=e||(n["$<<"]('<div id="footnotes">\n<hr'+o+">"),(e=(g=a.$footnotes()).$each,e.$$p=(j=function(a){j.$$s||this;return null==a&&(a=i),n["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},j.$$s=k,j),e).call(g),n["$<<"]("</div>")),((e=a.$nofooter())===i||e.$$is_boolean&&1!=e)&&(n["$<<"]('<div id="footer">'),n["$<<"]('<div id="footer-text">'),(e=a["$attr?"]("revnumber"))===i||e.$$is_boolean&&1!=e||n["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+p),(e=a["$attr?"]("last-update-label"))===i||e.$$is_boolean&&1!=e||n["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime")),n["$<<"]("</div>"),n["$<<"]("</div>")),((e=(A=a.$docinfo("footer"))["$empty?"]())===i||e.$$is_boolean&&1!=e)&&n["$<<"](A),x=y,"highlightjs"["$==="](x)||"highlight.js"["$==="](x)?(E=a.$attr("highlightjsdir",""+r+"/highlight.js/8.9.1"),n["$<<"]('<link rel="stylesheet" href="'+E+"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+o+">"),n["$<<"]('<script src="'+E+'/highlight.min.js"></script>\n<script>hljs.initHighlighting()</script>')):"prettify"["$==="](x)&&(F=a.$attr("prettifydir",""+r+"/prettify/r298"),n["$<<"]('<link rel="stylesheet" href="'+F+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+o+">"),n["$<<"]('<script src="'+F+'/prettify.min.js"></script>\n<script>prettyPrint()</script>')),(e=a["$attr?"]("stem"))===i||e.$$is_boolean&&1!=e||(G=a.$attr("eqnums","none"),G["$=="]("")&&(G="AMS"),H=' equationNumbers: { autoNumber: "'+G+'" } ',n["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['+s.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+s.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+s.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+H+'}\n});\n</script>\n<script src="'+r+'/mathjax/2.5.3/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>')),n["$<<"]("</body>"),n["$<<"]("</html>"),c(n,s.get("EOL"))}),a.defn(q,"$embedded",function(a){var b,d,e,f=this,g=i,h=i;return g=[],a.$doctype()["$=="]("manpage")?(((b=a.$notitle())===i||b.$$is_boolean&&1!=b)&&(h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g["$<<"]("<h1"+h+">"+a.$doctitle()+" Manual Page</h1>")),g["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")):(d=a["$has_header?"](),(b=d!==!1&&d!==i?a.$notitle()["$!"]():d)===i||b.$$is_boolean&&1!=b||(h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g["$<<"]("<h1"+h+">"+a.$header().$title()+"</h1>"))),d=a["$attr?"]("toc"),(b=d!==!1&&d!==i?["macro","preamble"]["$include?"](a.$attr("toc-placement"))["$!"]():d)===i||b.$$is_boolean&&1!=b||g["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+f.$outline(a)+"\n</div>"),g["$<<"](a.$content()),d=a["$footnotes?"](),(b=d!==!1&&d!==i?a["$attr?"]("nofootnotes")["$!"]():d)===i||b.$$is_boolean&&1!=b||(g["$<<"]('<div id="footnotes">\n<hr'+f.void_element_slash+">"),(b=(d=a.$footnotes()).$each,b.$$p=(e=function(a){e.$$s||this;return null==a&&(a=i),g["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},e.$$s=f,e),b).call(d),g["$<<"]("</div>")),c(g,s.get("EOL"))}),a.defn(q,"$outline",function(a,b){var d,g,h,j=this,k=i,m=i,n=i,o=i,p=i,q=i;return null==b&&(b=l([],{})),(d=(k=a.$sections())["$empty?"]())===i||d.$$is_boolean&&1!=d?(m=(d=b["$[]"]("sectnumlevels"))!==!1&&d!==i?d:a.$document().$attr("sectnumlevels",3).$to_i(),n=(d=b["$[]"]("toclevels"))!==!1&&d!==i?d:a.$document().$attr("toclevels",2).$to_i(),o=[],p=(q=k["$[]"](0)).$level(),(d=(g=p["$=="](0))?q.$special():p["$=="](0))===i||d.$$is_boolean&&1!=d||(p=1),o["$<<"]('<ul class="sectlevel'+p+'">'),(d=(g=k).$each,d.$$p=(h=function(a){var b,c,d,g=h.$$s||this,j=i,k=i;return null==a&&(a=i),j=function(){return d=a.$numbered(),c=d!==!1&&d!==i?a.$caption()["$!"]():d,(b=c!==!1&&c!==i?e(a.$level(),m):c)===i||b.$$is_boolean&&1!=b?i:""+a.$sectnum()+" "}(),(b=(c=f(a.$level(),n))?k=g.$outline(a,l(["toclevels","secnumlevels"],{toclevels:n,secnumlevels:m})):f(a.$level(),n))===i||b.$$is_boolean&&1!=b?o["$<<"]('<li><a href="#'+a.$id()+'">'+j+a.$captioned_title()+"</a></li>"):(o["$<<"]('<li><a href="#'+a.$id()+'">'+j+a.$captioned_title()+"</a>"),o["$<<"](k),o["$<<"]("</li>"))},h.$$s=j,h),d).call(g),o["$<<"]("</ul>"),
c(o,s.get("EOL"))):i}),a.defn(q,"$section",function(a){var b,c,d,f=i,h=i,j=i,k=i,l=i,m=i,n=i,o=i,p=i;return f=a.$level(),(b=(c=f["$=="](0))?a.$special():f["$=="](0))===i||b.$$is_boolean&&1!=b||(f=1),h="h"+g(f,1),j=k=l=m=i,(b=a.$id())===i||b.$$is_boolean&&1!=b||(j=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))===i||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("sectlinks"))===i||b.$$is_boolean&&1!=b||(l='<a class="link" href="#'+a.$id()+'">',m="</a>"):k='<a class="anchor" href="#'+a.$id()+'"></a>'),f["$=="](0)?"<h1"+j+' class="sect0">'+k+l+a.$title()+m+"</h1>\n"+a.$content():(n=function(){return(b=o=a.$role())===i||b.$$is_boolean&&1!=b?' class="sect'+f+'"':' class="sect'+f+" "+o+'"'}(),p=function(){return d=a.$numbered(),c=d!==!1&&d!==i?a.$caption()["$!"]():d,(b=c!==!1&&c!==i?e(f,a.$document().$attr("sectnumlevels",3).$to_i()):c)===i||b.$$is_boolean&&1!=b?i:""+a.$sectnum()+" "}(),"<div"+n+">\n<"+h+j+">"+k+l+p+a.$captioned_title()+m+"</"+h+">\n"+function(){return f["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content()}()+"\n</div>")}),a.defn(q,"$admonition",function(a){var b,c=this,d=i,e=i,f=i,g=i,h=i;return d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),e=a.$attr("name"),f=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>\n"}(),g=function(){return(b=a.$document()["$attr?"]("icons"))===i||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=a.$document()["$attr?"]("icons","font"))===i||b.$$is_boolean&&1!=b?'<img src="'+a.$icon_uri(e)+'" alt="'+a.$caption()+'"'+c.void_element_slash+">":'<i class="fa icon-'+e+'" title="'+a.$caption()+'"></i>'}(),"<div"+d+' class="admonitionblock '+e+(b=h=a.$role(),b!==!1&&b!==i?" "+h:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+g+'\n</td>\n<td class="content">\n'+f+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"}),a.defn(q,"$audio",function(a){var b,d=this,e=i,f=i,g=i,h=i,j=i;return e=a.$document()["$attr?"]("htmlsyntax","xml"),f=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g=["audioblock",a.$style(),a.$role()].$compact(),h=' class="'+c(g," ")+'"',j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+f+h+">\n"+j+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+function(){return(b=a["$option?"]("autoplay"))===i||b.$$is_boolean&&1!=b?i:d.$append_boolean_attribute("autoplay",e)}()+function(){return(b=a["$option?"]("nocontrols"))===i||b.$$is_boolean&&1!=b?d.$append_boolean_attribute("controls",e):i}()+function(){return(b=a["$option?"]("loop"))===i||b.$$is_boolean&&1!=b?i:d.$append_boolean_attribute("loop",e)}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"}),a.defn(q,"$colist",function(a){var b,d,e,f,h,j=this,k=i,l=i,m=i,n=i,o=i;return k=[],l=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),m=["colist",a.$style(),a.$role()].$compact(),n=' class="'+c(m," ")+'"',k["$<<"]("<div"+l+n+">"),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||k["$<<"]('<div class="title">'+a.$title()+"</div>"),(b=a.$document()["$attr?"]("icons"))===i||b.$$is_boolean&&1!=b?(k["$<<"]("<ol>"),(b=(f=a.$items()).$each,b.$$p=(h=function(a){h.$$s||this;return null==a&&(a=i),k["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},h.$$s=j,h),b).call(f),k["$<<"]("</ol>")):(k["$<<"]("<table>"),o=a.$document()["$attr?"]("icons","font"),(b=(d=a.$items()).$each_with_index,b.$$p=(e=function(b,c){var d=e.$$s||this,f=i,h=i;return null==d.void_element_slash&&(d.void_element_slash=i),null==b&&(b=i),null==c&&(c=i),f=g(c,1),h=function(){return o!==!1&&o!==i?'<i class="conum" data-value="'+f+'"></i><b>'+f+"</b>":'<img src="'+a.$icon_uri("callouts/"+f)+'" alt="'+f+'"'+d.void_element_slash+">"}(),k["$<<"]("<tr>\n<td>"+h+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},e.$$s=j,e),b).call(d),k["$<<"]("</table>")),k["$<<"]("</div>"),c(k,s.get("EOL"))}),a.defn(q,"$dlist",function(b){var d,e,f,g,h,j,k,l=this,m=i,n=i,o=i,p=i,q=i,r=i,t=i,u=i;return m=[],n=function(){return(d=b.$id())===i||d.$$is_boolean&&1!=d?i:' id="'+b.$id()+'"'}(),o=function(){return p=b.$style(),"qanda"["$==="](p)?["qlist","qanda",b.$role()]:"horizontal"["$==="](p)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]}().$compact(),q=' class="'+c(o," ")+'"',m["$<<"]("<div"+n+q+">"),(d=b["$title?"]())===i||d.$$is_boolean&&1!=d||m["$<<"]('<div class="title">'+b.$title()+"</div>"),p=b.$style(),"qanda"["$==="](p)?(m["$<<"]("<ol>"),(d=(e=b.$items()).$each,d.$$p=(f=function(b,c){var d,e,g,h=f.$$s||this;return null==b&&(b=i),null==c&&(c=i),m["$<<"]("<li>"),(d=(e=[].concat(a.to_a(b))).$each,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=i),m["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=h,g),d).call(e),c!==!1&&c!==i&&((d=c["$text?"]())===i||d.$$is_boolean&&1!=d||m["$<<"]("<p>"+c.$text()+"</p>"),(d=c["$blocks?"]())===i||d.$$is_boolean&&1!=d||m["$<<"](c.$content())),m["$<<"]("</li>")},f.$$s=l,f),d).call(e),m["$<<"]("</ol>")):"horizontal"["$==="](p)?(r=l.void_element_slash,m["$<<"]("<table>"),(d=(g=b["$attr?"]("labelwidth"))!==!1&&g!==i?g:b["$attr?"]("itemwidth"))===i||d.$$is_boolean&&1!=d||(m["$<<"]("<colgroup>"),t=function(){return(d=b["$attr?"]("labelwidth"))===i||d.$$is_boolean&&1!=d?i:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"'}(),m["$<<"]("<col"+t+r+">"),t=function(){return(d=b["$attr?"]("itemwidth"))===i||d.$$is_boolean&&1!=d?i:' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"'}(),m["$<<"]("<col"+t+r+">"),m["$<<"]("</colgroup>")),(d=(g=b.$items()).$each,d.$$p=(h=function(c,d){var e,f,g,j=h.$$s||this,k=i,l=i;return null==c&&(c=i),null==d&&(d=i),m["$<<"]("<tr>"),m["$<<"]('<td class="hdlist1'+function(){return(e=b["$option?"]("strong"))===i||e.$$is_boolean&&1!=e?i:" strong"}()+'">'),k=[].concat(a.to_a(c)),l=k["$[]"](-1),(e=(f=k).$each,e.$$p=(g=function(a){var b;g.$$s||this;return null==a&&(a=i),m["$<<"](a.$text()),(b=a["$!="](l))===i||b.$$is_boolean&&1!=b?i:m["$<<"]("<br"+r+">")},g.$$s=j,g),e).call(f),m["$<<"]("</td>"),m["$<<"]('<td class="hdlist2">'),d!==!1&&d!==i&&((e=d["$text?"]())===i||e.$$is_boolean&&1!=e||m["$<<"]("<p>"+d.$text()+"</p>"),(e=d["$blocks?"]())===i||e.$$is_boolean&&1!=e||m["$<<"](d.$content())),m["$<<"]("</td>"),m["$<<"]("</tr>")},h.$$s=l,h),d).call(g),m["$<<"]("</table>")):(m["$<<"]("<dl>"),u=function(){return(d=b.$style())===i||d.$$is_boolean&&1!=d?' class="hdlist1"':i}(),(d=(j=b.$items()).$each,d.$$p=(k=function(b,c){var d,e,f,g=k.$$s||this;return null==b&&(b=i),null==c&&(c=i),(d=(e=[].concat(a.to_a(b))).$each,d.$$p=(f=function(a){f.$$s||this;return null==a&&(a=i),m["$<<"]("<dt"+u+">"+a.$text()+"</dt>")},f.$$s=g,f),d).call(e),c!==!1&&c!==i?(m["$<<"]("<dd>"),(d=c["$text?"]())===i||d.$$is_boolean&&1!=d||m["$<<"]("<p>"+c.$text()+"</p>"),(d=c["$blocks?"]())===i||d.$$is_boolean&&1!=d||m["$<<"](c.$content()),m["$<<"]("</dd>")):i},k.$$s=l,k),d).call(j),m["$<<"]("</dl>")),m["$<<"]("</div>"),c(m,s.get("EOL"))}),a.defn(q,"$example",function(a){var b,d=i,e=i,f=i;return d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),e=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+d+' class="'+function(){return(b=f=a.$role())===i||b.$$is_boolean&&1!=b?"exampleblock":c(["exampleblock",f]," ")}()+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"}),a.defn(q,"$floating_title",function(a){var b,d=i,e=i,f=i;return d="h"+g(a.$level(),1),e=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),f=[a.$style(),a.$role()].$compact(),"<"+d+e+' class="'+c(f," ")+'">'+a.$title()+"</"+d+">"}),a.defn(q,"$image",function(a){var b,d,e,g=this,h=i,j=i,k=i,l=i,m=i,n=i,o=i,p=i,q=i,r=i,t=i,u=i,v=i,w=i;return h=a.$attr("target"),j=function(){return(b=a["$attr?"]("width"))===i||b.$$is_boolean&&1!=b?i:' width="'+a.$attr("width")+'"'}(),k=function(){return(b=a["$attr?"]("height"))===i||b.$$is_boolean&&1!=b?i:' height="'+a.$attr("height")+'"'}(),d=(e=a["$attr?"]("format","svg",!1))!==!1&&e!==i?e:h["$include?"](".svg"),(b=d!==!1&&d!==i?f(a.$document().$safe(),s.get("SafeMode").$$scope.get("SECURE")):d)===i||b.$$is_boolean&&1!=b||((b=l=a["$option?"]("inline"))!==!1&&b!==i?b:m=a["$option?"]("interactive"),l!==!1&&l!==i?n=(b=g.$read_svg_contents(a,h))!==!1&&b!==i?b:'<span class="alt">'+a.$attr("alt")+"</span>":m!==!1&&m!==i&&(o=function(){return(b=a["$attr?"]("fallback"))===i||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+j+k+g.void_element_slash+">"}(),n='<object type="image/svg+xml" data="'+a.$image_uri(h)+'"'+j+k+">"+o+"</object>")),(b=n)!==!1&&b!==i?b:n='<img src="'+a.$image_uri(h)+'" alt="'+a.$attr("alt")+'"'+j+k+g.void_element_slash+">",(b=p=a.$attr("link"))===i||b.$$is_boolean&&1!=b||(n='<a class="image" href="'+p+'">'+n+"</a>"),q=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),r=["imageblock",a.$style(),a.$role()].$compact(),t=' class="'+c(r," ")+'"',u=[],(b=a["$attr?"]("align"))===i||b.$$is_boolean&&1!=b||u["$<<"]("text-align: "+a.$attr("align")),(b=a["$attr?"]("float"))===i||b.$$is_boolean&&1!=b||u["$<<"]("float: "+a.$attr("float")),v=function(){return(b=u["$empty?"]())===i||b.$$is_boolean&&1!=b?' style="'+c(u,";")+'"':i}(),w=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'\n<div class="title">'+a.$captioned_title()+"</div>"}(),"<div"+q+t+v+'>\n<div class="content">\n'+n+"\n</div>"+w+"\n</div>"}),a.defn(q,"$listing",function(a){var b,c=i,d=i,e=i,f=i,g=i,h=i,j=i,k=i,l=i,m=i;return c=(b=a.$document()["$attr?"]("prewrap")["$!"]())!==!1&&b!==i?b:a["$option?"]("nowrap"),a.$style()["$=="]("source")?(e=(b=d=a.$attr("language",i,!1))===i||b.$$is_boolean&&1!=b?i:' data-lang="'+d+'"',f=a.$document().$attr("source-highlighter"),"coderay"["$==="](f)?g=' class="CodeRay highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+'"':"pygments"["$==="](f)?g=' class="pygments highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+'"':"highlightjs"["$==="](f)||"highlight.js"["$==="](f)?(g=' class="highlightjs highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+'"',d!==!1&&d!==i&&(e=' class="language-'+d+'"'+e)):"prettify"["$==="](f)?(g=' class="prettyprint highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+function(){return(b=a["$attr?"]("linenums"))===i||b.$$is_boolean&&1!=b?i:" linenums"}()+'"',d!==!1&&d!==i&&(e=' class="language-'+d+'"'+e)):"html-pipeline"["$==="](f)?(g=function(){return d!==!1&&d!==i?' lang="'+d+'"':i}(),e=i):(g=' class="highlight'+function(){return c!==!1&&c!==i?" nowrap":i}()+'"',d!==!1&&d!==i&&(e=' class="language-'+d+'"'+e)),h="<pre"+g+"><code"+e+">",j="</code></pre>"):(h="<pre"+function(){return c!==!1&&c!==i?' class="nowrap"':i}()+">",j="</pre>"),k=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),l=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$captioned_title()+"</div>\n"}(),"<div"+k+' class="listingblock'+(b=m=a.$role(),b!==!1&&b!==i?" "+m:b)+'">\n'+l+'<div class="content">\n'+h+a.$content()+j+"\n</div>\n</div>"}),a.defn(q,"$literal",function(a){var b,c=i,d=i,e=i,f=i;return c=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),d=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>\n"}(),e=(b=a.$document()["$attr?"]("prewrap")["$!"]())!==!1&&b!==i?b:a["$option?"]("nowrap"),"<div"+c+' class="literalblock'+(b=f=a.$role(),b!==!1&&b!==i?" "+f:b)+'">\n'+d+'<div class="content">\n<pre'+function(){return e!==!1&&e!==i?' class="nowrap"':i}()+">"+a.$content()+"</pre>\n</div>\n</div>"}),a.defn(q,"$stem",function(b){var d,e,f=i,g=i,h=i,j=i,k=i,l=i;return f=function(){return(d=b.$id())===i||d.$$is_boolean&&1!=d?i:' id="'+b.$id()+'"'}(),g=function(){return(d=b["$title?"]())===i||d.$$is_boolean&&1!=d?i:'<div class="title">'+b.$title()+"</div>\n"}(),d=a.to_ary(s.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym())),h=null==d[0]?i:d[0],j=null==d[1]?i:d[1],e=(k=b.$content())["$start_with?"](h),((d=e!==!1&&e!==i?k["$end_with?"](j):e)===i||d.$$is_boolean&&1!=d)&&(k=""+h+k+j),"<div"+f+' class="'+function(){return(d=l=b.$role())===i||d.$$is_boolean&&1!=d?"stemblock":c(["stemblock",l]," ")}()+'">\n'+g+'<div class="content">\n'+k+"\n</div>\n</div>"}),a.defn(q,"$olist",function(a){var b,d,e,f=this,g=i,h=i,j=i,k=i,l=i,m=i,n=i;return g=[],h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),j=["olist",a.$style(),a.$role()].$compact(),k=' class="'+c(j," ")+'"',g["$<<"]("<div"+h+k+">"),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||g["$<<"]('<div class="title">'+a.$title()+"</div>"),l=function(){return(b=m=a.$list_marker_keyword())===i||b.$$is_boolean&&1!=b?i:' type="'+m+'"'}(),n=function(){return(b=a["$attr?"]("start"))===i||b.$$is_boolean&&1!=b?i:' start="'+a.$attr("start")+'"'}(),g["$<<"]('<ol class="'+a.$style()+'"'+l+n+">"),(b=(d=a.$items()).$each,b.$$p=(e=function(a){var b;e.$$s||this;return null==a&&(a=i),g["$<<"]("<li>"),g["$<<"]("<p>"+a.$text()+"</p>"),(b=a["$blocks?"]())===i||b.$$is_boolean&&1!=b||g["$<<"](a.$content()),g["$<<"]("</li>")},e.$$s=f,e),b).call(d),g["$<<"]("</ol>"),g["$<<"]("</div>"),c(g,s.get("EOL"))}),a.defn(q,"$open",function(a){var b,c,d,e,f=this,g=i,h=i,j=i,k=i;return(g=a.$style())["$=="]("abstract")?(b=(c=a.$parent()["$=="](a.$document()))?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===i||b.$$is_boolean&&1!=b?(h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>"}(),"<div"+h+' class="quoteblock abstract'+(b=k=a.$role(),b!==!1&&b!==i?" "+k:b)+'">\n'+j+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"):(f.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(b=(c=g["$=="]("partintro"))?(d=(e=a.$level()["$!="](0))!==!1&&e!==i?e:a.$parent().$context()["$!="]("section"))!==!1&&d!==i?d:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro"))===i||b.$$is_boolean&&1!=b?(h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>"}(),"<div"+h+' class="openblock'+function(){return(b=(c=g!==!1&&g!==i)?g["$!="]("open"):g)===i||b.$$is_boolean&&1!=b?"":" "+g}()+(b=k=a.$role(),b!==!1&&b!==i?" "+k:b)+'">\n'+j+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"):(f.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"")}),a.defn(q,"$page_break",function(a){return'<div style="page-break-after: always;"></div>'}),a.defn(q,"$paragraph",function(a){var b,c=i,d=i;return c=function(){return(b=a.$role())===i||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"'}(),d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?c:'id="'+a.$id()+'" '+c}(),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?"<div "+d+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"}),a.defn(q,"$preamble",function(a){var b,c,d=this,e=i;return e=function(){return c=a["$attr?"]("toc"),(b=c!==!1&&c!==i?a["$attr?"]("toc-placement","preamble"):c)===i||b.$$is_boolean&&1!=b?i:'\n<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+d.$outline(a.$document())+"\n</div>"}(),'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+e+"\n</div>"}),a.defn(q,"$quote",function(a){var b,d,e=this,f=i,g=i,h=i,j=i,k=i,l=i,m=i,n=i,o=i;return f=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g=["quoteblock",a.$role()].$compact(),h=' class="'+c(g," ")+'"',j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'\n<div class="title">'+a.$title()+"</div>"}(),k=function(){return(b=a["$attr?"]("attribution"))===i||b.$$is_boolean&&1!=b?i:a.$attr("attribution")}(),l=function(){return(b=a["$attr?"]("citetitle"))===i||b.$$is_boolean&&1!=b?i:a.$attr("citetitle")}(),(b=(d=k)!==!1&&d!==i?d:l)===i||b.$$is_boolean&&1!=b?o=i:(m=function(){return l!==!1&&l!==i?"<cite>"+l+"</cite>":i}(),n=function(){return k!==!1&&k!==i?"&#8212; "+k+function(){return l!==!1&&l!==i?"<br"+e.void_element_slash+">\n":i}():i}(),o='\n<div class="attribution">\n'+n+m+"\n</div>"),"<div"+f+h+">"+j+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+o+"\n</div>"}),a.defn(q,"$thematic_break",function(a){var b=this;return"<hr"+b.void_element_slash+">"}),a.defn(q,"$sidebar",function(a){var b,d=i,e=i,f=i;return d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),e=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'<div class="title">'+a.$title()+"</div>\n"}(),"<div"+d+' class="'+function(){return(b=f=a.$role())===i||b.$$is_boolean&&1!=b?"sidebarblock":c(["sidebarblock",f]," ")}()+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"}),a.defn(q,"$table",function(a){var b,e,f,g,h,j,k,l,m,n,o=this,p=i,q=i,r=i,t=i,u=i,v=i,w=i,x=i,y=i,z=i;return p=[],q=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),r=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],t=[],((b=a["$option?"]("autowidth"))===i||b.$$is_boolean&&1!=b)&&((u=a.$attr("tablepcwidth"))["$=="](100)?r["$<<"]("spread"):t["$<<"]("width: "+u+"%;")),(b=v=a.$role())===i||b.$$is_boolean&&1!=b||r["$<<"](v),w=' class="'+c(r," ")+'"',(b=a["$attr?"]("float"))===i||b.$$is_boolean&&1!=b||t["$<<"]("float: "+a.$attr("float")+";"),x=function(){return(b=t["$empty?"]())===i||b.$$is_boolean&&1!=b?' style="'+c(t," ")+'"':i}(),p["$<<"]("<table"+q+w+x+">"),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||p["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>"),d(a.$attr("rowcount"),0)&&(y=o.void_element_slash,p["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===i||b.$$is_boolean&&1!=b?(b=(g=a.$columns()).$each,b.$$p=(h=function(a){h.$$s||this;return null==a&&(a=i),p["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+y+">")},h.$$s=o,h),b).call(g):(z="<col"+y+">",(b=(e=a.$columns().$size()).$times,b.$$p=(f=function(){f.$$s||this;return p["$<<"](z)},f.$$s=o,f),b).call(e)),p["$<<"]("</colgroup>"),(b=(j=(l=(m=["head","foot","body"]).$select,l.$$p=(n=function(b){n.$$s||this;return null==b&&(b=i),a.$rows()["$[]"](b)["$empty?"]()["$!"]()},n.$$s=o,n),l).call(m)).$each,b.$$p=(k=function(b){var c,d,e,f=k.$$s||this;return null==b&&(b=i),p["$<<"]("<t"+b+">"),(c=(d=a.$rows()["$[]"](b)).$each,c.$$p=(e=function(c){var d,f,g,h=e.$$s||this;return null==c&&(c=i),p["$<<"]("<tr>"),(d=(f=c).$each,d.$$p=(g=function(c){var d,e,f,h,j=g.$$s||this,k=i,l=i,m=i,n=i,o=i,q=i,r=i;return null==c&&(c=i),b["$=="]("head")?k=c.$text():(l=c.$style(),"asciidoc"["$==="](l)?k="<div>"+c.$content()+"</div>":"verse"["$==="](l)?k='<div class="verse">'+c.$text()+"</div>":"literal"["$==="](l)?k='<div class="literal"><pre>'+c.$text()+"</pre></div>":(k="",(d=(e=c.$content()).$each,d.$$p=(f=function(a){f.$$s||this;return null==a&&(a=i),k=""+k+'<p class="tableblock">'+a+"</p>"},f.$$s=j,f),d).call(e))),m=function(){return(d=(h=b["$=="]("head"))!==!1&&h!==i?h:c.$style()["$=="]("header"))===i||d.$$is_boolean&&1!=d?"td":"th"}(),n=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+'"',o=function(){return(d=c.$colspan())===i||d.$$is_boolean&&1!=d?i:' colspan="'+c.$colspan()+'"'}(),q=function(){return(d=c.$rowspan())===i||d.$$is_boolean&&1!=d?i:' rowspan="'+c.$rowspan()+'"'}(),r=function(){return(d=a.$document()["$attr?"]("cellbgcolor"))===i||d.$$is_boolean&&1!=d?i:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"'}(),p["$<<"]("<"+m+n+o+q+r+">"+k+"</"+m+">")},g.$$s=h,g),d).call(f),p["$<<"]("</tr>")},e.$$s=f,e),c).call(d),p["$<<"]("</t"+b+">")},k.$$s=o,k),b).call(j)),p["$<<"]("</table>"),c(p,s.get("EOL"))}),a.defn(q,"$toc",function(a){var b,c,d=this,e=i,f=i,g=i,h=i,j=i,k=i;return c=(e=a.$document())["$attr?"]("toc-placement","macro"),(b=c!==!1&&c!==i?e["$attr?"]("toc"):c)===i||b.$$is_boolean&&1!=b?"<!-- toc disabled -->":((b=a.$id())===i||b.$$is_boolean&&1!=b?(f=' id="toc"',g=' id="toctitle"'):(f=' id="'+a.$id()+'"',g=' id="'+a.$id()+'title"'),h=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?e.$attr("toc-title"):a.$title()}(),j=function(){return(b=a["$attr?"]("levels"))===i||b.$$is_boolean&&1!=b?i:a.$attr("levels").$to_i()}(),k=function(){return(b=a["$role?"]())===i||b.$$is_boolean&&1!=b?e.$attr("toc-class","toc"):a.$role()}(),"<div"+f+' class="'+k+'">\n<div'+g+' class="title">'+h+"</div>\n"+d.$outline(e,l(["toclevels"],{toclevels:j}))+"\n</div>")}),a.defn(q,"$ulist",function(a){var b,d,e,f=this,g=i,h=i,j=i,k=i,l=i,m=i,n=i;return g=[],h=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),j=["ulist",a.$style(),a.$role()].$compact(),k=i,l=i,(b=m=a["$option?"]("checklist"))===i||b.$$is_boolean&&1!=b?n=function(){return(b=a.$style())===i||b.$$is_boolean&&1!=b?i:' class="'+a.$style()+'"'}():(j.$insert(1,"checklist"),n=' class="checklist"',(b=a["$option?"]("interactive"))===i||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===i||b.$$is_boolean&&1!=b?(k="&#10003; ",l="&#10063; "):(k='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===i||b.$$is_boolean&&1!=b?(k='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> ')),g["$<<"]("<div"+h+' class="'+c(j," ")+'">'),(b=a["$title?"]())===i||b.$$is_boolean&&1!=b||g["$<<"]('<div class="title">'+a.$title()+"</div>"),g["$<<"]("<ul"+n+">"),(b=(d=a.$items()).$each,b.$$p=(e=function(a){var b,c;e.$$s||this;return null==a&&(a=i),g["$<<"]("<li>"),(b=(c=m!==!1&&m!==i)?a["$attr?"]("checkbox"):m)===i||b.$$is_boolean&&1!=b?g["$<<"]("<p>"+a.$text()+"</p>"):g["$<<"]("<p>"+function(){return(b=a["$attr?"]("checked"))===i||b.$$is_boolean&&1!=b?l:k}()+a.$text()+"</p>"),(b=a["$blocks?"]())===i||b.$$is_boolean&&1!=b||g["$<<"](a.$content()),g["$<<"]("</li>")},e.$$s=f,e),b).call(d),g["$<<"]("</ul>"),g["$<<"]("</div>"),c(g,s.get("EOL"))}),a.defn(q,"$verse",function(a){var b,d,e=this,f=i,g=i,h=i,j=i,k=i,l=i,m=i,n=i,o=i;return f=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="'+a.$id()+'"'}(),g=["verseblock",a.$role()].$compact(),h=' class="'+c(g," ")+'"',j=function(){return(b=a["$title?"]())===i||b.$$is_boolean&&1!=b?i:'\n<div class="title">'+a.$title()+"</div>"}(),k=function(){return(b=a["$attr?"]("attribution"))===i||b.$$is_boolean&&1!=b?i:a.$attr("attribution")}(),l=function(){return(b=a["$attr?"]("citetitle"))===i||b.$$is_boolean&&1!=b?i:a.$attr("citetitle")}(),(b=(d=k)!==!1&&d!==i?d:l)===i||b.$$is_boolean&&1!=b?o=i:(m=function(){return l!==!1&&l!==i?"<cite>"+l+"</cite>":i}(),n=function(){return k!==!1&&k!==i?"&#8212; "+k+function(){return l!==!1&&l!==i?"<br"+e.void_element_slash+">\n":i}():i}(),o='\n<div class="attribution">\n'+n+m+"\n</div>"),"<div"+f+h+">"+j+'\n<pre class="content">'+a.$content()+"</pre>"+o+"\n</div>"}),a.defn(q,"$video",function(b){var d,e,f=this,g=i,h=i,j=i,k=i,l=i,m=i,n=i,o=i,p=i,q=i,r=i,s=i,t=i,u=i,v=i,w=i,x=i,y=i,z=i,A=i,B=i,C=i,D=i,E=i,F=i,G=i,H=i,I=i,J=i,K=i,L=i;return g=b.$document()["$attr?"]("htmlsyntax","xml"),h=function(){return(d=b.$id())===i||d.$$is_boolean&&1!=d?i:' id="'+b.$id()+'"'}(),j=["videoblock",b.$style(),b.$role()].$compact(),k=' class="'+c(j," ")+'"',l=function(){return(d=b["$title?"]())===i||d.$$is_boolean&&1!=d?i:'\n<div class="title">'+b.$captioned_title()+"</div>"}(),m=function(){return(d=b["$attr?"]("width"))===i||d.$$is_boolean&&1!=d?i:' width="'+b.$attr("width")+'"'}(),n=function(){return(d=b["$attr?"]("height"))===i||d.$$is_boolean&&1!=d?i:' height="'+b.$attr("height")+'"'}(),function(){return o=b.$attr("poster"),"vimeo"["$==="](o)?(((d=(p=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===i||d.$$is_boolean&&1!=d)&&(p=""+p+":"),q=function(){return(d=b["$attr?"]("start",i,!1))===i||d.$$is_boolean&&1!=d?i:"#at="+b.$attr("start")}(),r="?",s=function(){return(d=b["$option?"]("autoplay"))===i||d.$$is_boolean&&1!=d?i:""+r+"autoplay=1"}(),s!==!1&&s!==i&&(r="&amp;"),t=function(){return(d=b["$option?"]("loop"))===i||d.$$is_boolean&&1!=d?i:""+r+"loop=1"}(),"<div"+h+k+">"+l+'\n<div class="content">\n<iframe'+m+n+' src="'+p+"//player.vimeo.com/video/"+b.$attr("target")+q+s+t+'" frameborder="0"'+function(){return(d=b["$option?"]("nofullscreen"))===i||d.$$is_boolean&&1!=d?f.$append_boolean_attribute("allowfullscreen",g):i}()+"></iframe>\n</div>\n</div>"):"youtube"["$==="](o)?(((d=(p=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===i||d.$$is_boolean&&1!=d)&&(p=""+p+":"),u=function(){return(d=b["$option?"]("related"))===i||d.$$is_boolean&&1!=d?0:1}(),v=function(){return(d=b["$attr?"]("start",i,!1))===i||d.$$is_boolean&&1!=d?i:"&amp;start="+b.$attr("start")}(),w=function(){return(d=b["$attr?"]("end",i,!1))===i||d.$$is_boolean&&1!=d?i:"&amp;end="+b.$attr("end")}(),s=function(){return(d=b["$option?"]("autoplay"))===i||d.$$is_boolean&&1!=d?i:"&amp;autoplay=1"}(),t=function(){return(d=b["$option?"]("loop"))===i||d.$$is_boolean&&1!=d?i:"&amp;loop=1"}(),x=function(){return(d=b["$option?"]("nocontrols"))===i||d.$$is_boolean&&1!=d?i:"&amp;controls=0"}(),(d=b["$option?"]("nofullscreen"))===i||d.$$is_boolean&&1!=d?(y=i,z=f.$append_boolean_attribute("allowfullscreen",g)):(y="&amp;fs=0",z=i),A=function(){return(d=b["$option?"]("modest"))===i||d.$$is_boolean&&1!=d?i:"&amp;modestbranding=1"}(),B=function(){return(d=b["$attr?"]("theme",i,!1))===i||d.$$is_boolean&&1!=d?i:"&amp;theme="+b.$attr("theme")}(),C=function(){return(d=b["$attr?"]("lang"))===i||d.$$is_boolean&&1!=d?i:"&amp;hl="+b.$attr("lang")}(),d=a.to_ary(b.$attr("target").$split("/",2)),D=null==d[0]?i:d[0],E=null==d[1]?i:d[1],(d=(e=E)!==!1&&e!==i?e:E=b.$attr("list",i,!1))===i||d.$$is_boolean&&1!=d?(d=a.to_ary(D.$split(",",2)),D=null==d[0]?i:d[0],G=null==d[1]?i:d[1],F=(d=(e=G)!==!1&&e!==i?e:G=b.$attr("playlist",i,!1))===i||d.$$is_boolean&&1!=d?function(){return t!==!1&&t!==i?"&amp;playlist="+D:i}():"&amp;playlist="+G):F="&amp;list="+E,"<div"+h+k+">"+l+'\n<div class="content">\n<iframe'+m+n+' src="'+p+"//www.youtube.com/embed/"+D+"?rel="+u+v+w+s+t+x+F+y+A+B+C+'" frameborder="0"'+z+"></iframe>\n</div>\n</div>"):(H=function(){return(d=(""+(I=b.$attr("poster")))["$empty?"]())===i||d.$$is_boolean&&1!=d?' poster="'+b.$media_uri(I)+'"':i}(),J=b.$attr("start",i,!1),K=b.$attr("end",i,!1),L=function(){return(d=(e=J)!==!1&&e!==i?e:K)===i||d.$$is_boolean&&1!=d?i:"#t="+J+function(){return K!==!1&&K!==i?",":i}()+K}(),"<div"+h+k+">"+l+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+L+'"'+m+n+H+function(){return(d=b["$option?"]("autoplay"))===i||d.$$is_boolean&&1!=d?i:f.$append_boolean_attribute("autoplay",g)}()+function(){return(d=b["$option?"]("nocontrols"))===i||d.$$is_boolean&&1!=d?f.$append_boolean_attribute("controls",g):i}()+function(){return(d=b["$option?"]("loop"))===i||d.$$is_boolean&&1!=d?i:f.$append_boolean_attribute("loop",g)}()+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()}),a.defn(q,"$inline_anchor",function(a){var b,c,d=this,e=i,f=i,g=i,h=i,j=i,k=i;return e=a.$target(),function(){return f=a.$type(),"xref"["$==="](f)?(g=(b=a.$attributes()["$[]"]("refid"))!==!1&&b!==i?b:e,h=(b=a.$text())!==!1&&b!==i?b:(c=a.$document().$references()["$[]"]("ids")["$[]"](g))!==!1&&c!==i?c:"["+g+"]",'<a href="'+e+'">'+h+"</a>"):"ref"["$==="](f)?'<a id="'+e+'"></a>':"link"["$==="](f)?(j=[],(b=a.$id())===i||b.$$is_boolean&&1!=b||j["$<<"](' id="'+a.$id()+'"'),(b=k=a.$role())===i||b.$$is_boolean&&1!=b||j["$<<"](' class="'+k+'"'),(b=a["$attr?"]("title",i,!1))===i||b.$$is_boolean&&1!=b||j["$<<"](' title="'+a.$attr("title")+'"'),(b=a["$attr?"]("window",i,!1))===i||b.$$is_boolean&&1!=b||j["$<<"](' target="'+a.$attr("window")+'"'),'<a href="'+e+'"'+j.$join()+">"+a.$text()+"</a>"):"bibref"["$==="](f)?'<a id="'+e+'"></a>['+e+"]":d.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()}),a.defn(q,"$inline_break",function(a){var b=this;return""+a.$text()+"<br"+b.void_element_slash+">"}),a.defn(q,"$inline_button",function(a){return'<b class="button">'+a.$text()+"</b>"}),a.defn(q,"$inline_callout",function(a){var b,c=this,d=i;return(b=a.$document()["$attr?"]("icons","font"))===i||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons"))===i||b.$$is_boolean&&1!=b?'<b class="conum">('+a.$text()+")</b>":(d=a.$icon_uri("callouts/"+a.$text()),'<img src="'+d+'" alt="'+a.$text()+'"'+c.void_element_slash+">"):'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"}),a.defn(q,"$inline_footnote",function(a){var b,c=i,d=i;return(b=c=a.$attr("index"))===i||b.$$is_boolean&&1!=b?a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":i:a.$type()["$=="]("xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+c+'" title="View footnote.">'+c+"</a>]</sup>":(d=function(){return(b=a.$id())===i||b.$$is_boolean&&1!=b?i:' id="_footnote_'+a.$id()+'"'}(),'<sup class="footnote"'+d+'>[<a id="_footnoteref_'+c+'" class="footnote" href="#_footnote_'+c+'" title="View footnote.">'+c+"</a>]</sup>")}),a.defn(q,"$inline_image",function(a){var b,c,d,e,g,h,j,k,m,n=this,o=i,p=i,q=i,r=i,t=i,u=i,v=i,w=i,x=i,y=i,z=i,A=i;return(b=(c=(o=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(o=a.$type())["$=="]("icon"))===i||b.$$is_boolean&&1!=b?(b=(e=o["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():o["$=="]("icon"))===i||b.$$is_boolean&&1!=b?(t=a.$target(),u=(b=(e=["width","height","title"]).$map,b.$$p=(g=function(b){var c;g.$$s||this;return null==b&&(b=i),(c=a["$attr?"](b))===i||c.$$is_boolean&&1!=c?i:" "+b+'="'+a.$attr(b)+'"'},g.$$s=n,g),b).call(e).$join(),k=o["$!="]("icon"),j=k!==!1&&k!==i?(m=a["$attr?"]("format","svg",!1))!==!1&&m!==i?m:t["$include?"](".svg"):k,h=j!==!1&&j!==i?f(a.$document().$safe(),s.get("SafeMode").$$scope.get("SECURE")):j,(b=h!==!1&&h!==i?(j=v=a["$option?"]("inline"))!==!1&&j!==i?j:w=a["$option?"]("interactive"):h)===i||b.$$is_boolean&&1!=b||(v!==!1&&v!==i?r=(b=n.$read_svg_contents(a,t))!==!1&&b!==i?b:'<span class="alt">'+a.$attr("alt")+"</span>":w!==!1&&w!==i&&(x=function(){return(b=a["$attr?"]("fallback"))===i||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+u+n.void_element_slash+">"}(),r='<object type="image/svg+xml" data="'+a.$image_uri(t)+'"'+u+">"+x+"</object>")),(b=r)!==!1&&b!==i?b:r='<img src="'+function(){return o["$=="]("icon")?a.$icon_uri(t):a.$image_uri(t)}()+'" alt="'+a.$attr("alt")+'"'+u+n.void_element_slash+">"):r="["+a.$attr("alt")+"]":(p="fa fa-"+a.$target(),(b=(c=l(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,b.$$p=(d=function(b,c){var e;d.$$s||this;return null==b&&(b=i),null==c&&(c=i),(e=a["$attr?"](b))===i||e.$$is_boolean&&1!=e?i:p=""+p+" "+c+a.$attr(b)},d.$$s=n,d),b).call(c),q=function(){return(b=a["$attr?"]("title"))===i||b.$$is_boolean&&1!=b?i:' title="'+a.$attr("title")+'"'}(),r='<i class="'+p+'"'+q+"></i>"),(b=a["$attr?"]("link"))===i||b.$$is_boolean&&1!=b||(y=function(){return(b=a["$attr?"]("window"))===i||b.$$is_boolean&&1!=b?i:' target="'+a.$attr("window")+'"'}(),r='<a class="image" href="'+a.$attr("link")+'"'+y+">"+r+"</a>"),p=function(){return(b=z=a.$role())===i||b.$$is_boolean&&1!=b?o:""+o+" "+z;
}(),A=function(){return(b=a["$attr?"]("float"))===i||b.$$is_boolean&&1!=b?i:' style="float: '+a.$attr("float")+'"'}(),'<span class="'+p+'"'+A+">"+r+"</span>"}),a.defn(q,"$inline_indexterm",function(a){return a.$type()["$=="]("visible")?a.$text():""}),a.defn(q,"$inline_kbd",function(a){var b,c,d,e=this,f=i,g=i;return(f=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+f["$[]"](0)+"</kbd>":(g=(b=(c=f).$map,b.$$p=(d=function(a){d.$$s||this;return null==a&&(a=i),"<kbd>"+a+"</kbd>+"},d.$$s=e,d),b).call(c).$join().$chop(),'<span class="keyseq">'+g+"</span>")}),a.defn(q,"$inline_menu",function(a){var b,c,d,e=this,f=i,g=i,h=i,j=i;return f=a.$attr("menu"),(b=(g=a.$attr("submenus"))["$empty?"]()["$!"]())===i||b.$$is_boolean&&1!=b?(b=j=a.$attr("menuitem"))===i||b.$$is_boolean&&1!=b?'<span class="menu">'+f+"</span>":'<span class="menuseq"><span class="menu">'+f+'</span>&#160;&#9656; <span class="menuitem">'+j+"</span></span>":(h=(b=(c=g).$map,b.$$p=(d=function(a){d.$$s||this;return null==a&&(a=i),'<span class="submenu">'+a+"</span>&#160;&#9656; "},d.$$s=e,d),b).call(c).$join().$chop(),'<span class="menuseq"><span class="menu">'+f+"</span>&#160;&#9656; "+h+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>")}),a.defn(q,"$inline_quoted",function(b){var c,d=i,e=i,f=i,g=i,h=i;return c=a.to_ary(s.get("QUOTE_TAGS")["$[]"](b.$type())),d=null==c[0]?i:c[0],e=null==c[1]?i:c[1],f=null==c[2]?i:c[2],h=(c=g=b.$role())===i||c.$$is_boolean&&1!=c?""+d+b.$text()+e:f!==!1&&f!==i?""+d.$chop()+' class="'+g+'">'+b.$text()+e:'<span class="'+g+'">'+d+b.$text()+e+"</span>",(c=b.$id())===i||c.$$is_boolean&&1!=c?h:'<a id="'+b.$id()+'"></a>'+h}),a.defn(q,"$append_boolean_attribute",function(a,b){return b!==!1&&b!==i?" "+a+'="'+a+'"':" "+a}),a.defn(q,"$read_svg_contents",function(a,b){var c,d,e,f=this,g=i,h=i;return(c=g=a.$read_contents(b,l(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===i||c.$$is_boolean&&1!=c||(g=g.$sub(s.get("SvgPreambleRx"),""),h=i,(c=(d=["width","height"]).$each,c.$$p=(e=function(b){var c;e.$$s||this;return null==b&&(b=i),(c=a["$attr?"](b))===i||c.$$is_boolean&&1!=c?i:((c=h)!==!1&&c!==i?c:h=g.$match(s.get("SvgStartTagRx"))["$[]"](0).$gsub(s.get("DimensionAttributeRx"),""),h=""+h.$chop()+" "+b+'="'+a.$attr(b)+'px">')},e.$$s=f,e),c).call(d),h!==!1&&h!==i&&(g=g.$sub(s.get("SvgStartTagRx"),h))),g}),i&&"read_svg_contents"}(o.get("Converter"),o.get("Converter").$$scope.get("BuiltIn"))}(h.base)},Opal.modules["asciidoctor/document"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}a.dynamic_require_severity="ignore";var e=(a.top,a),f=a.nil,g=(a.breaker,a.slice),h=a.module,i=a.klass,j=a.hash2,k=a.range;return function(e){var l=h(e,"Asciidoctor"),m=(l.$$proto,l.$$scope);!function(e,h){function l(){}var m,n,o,p=l=i(e,h,"Document",l),q=p.$$proto,r=p.$$scope;return q.attributes=q.safe=q.reader=q.base_dir=q.parsed=q.parent_document=q.extensions=q.options=q.counters=q.references=q.doctype=q.backend=q.header=q.blocks=q.attributes_modified=q.id=q.callouts=q.header_attributes=q.attribute_overrides=q.converter=q.outfilesuffix=q.docinfo_processor_extensions=q.document=f,a.cdecl(r,"Footnote",a.get("Struct").$new("index","id","text")),function(b,c){function d(){}var e=d=i(b,c,"AttributeEntry",d);e.$$proto,e.$$scope;return e.$attr_reader("name","value","negate"),a.defn(e,"$initialize",function(a,b,c){var d,e=this;return null==c&&(c=f),e.name=a,e.value=b,e.negate=function(){return(d=c["$nil?"]())===f||d.$$is_boolean&&1!=d?c:b["$nil?"]()}()}),a.defn(e,"$save_to",function(a){var b,c,d,e=this;return(b="attribute_entries",c=a,(d=c["$[]"](b))!==!1&&d!==f?d:c["$[]="](b,[]))["$<<"](e)}),f&&"save_to"}(r.base,null),function(b,c){function d(){}var e=d=i(b,c,"Title",d),g=e.$$proto,h=e.$$scope;return g.sanitized=g.subtitle=g.combined=f,e.$attr_reader("main"),a.alias(e,"title","main"),e.$attr_reader("subtitle"),e.$attr_reader("combined"),a.defn(e,"$initialize",function(b,c){var d,e,g,i=this,k=f,l=f;return null==c&&(c=j([],{})),e=i.sanitized=c["$[]"]("sanitize"),(d=e!==!1&&e!==f?b["$include?"]("<"):e)===f||d.$$is_boolean&&1!=d||(b=b.$gsub(h.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip()),(d=(e=(k=(g=c["$[]"]("separator"))!==!1&&g!==f?g:":")["$empty?"]())!==!1&&e!==f?e:b["$include?"](k=""+k+" ")["$!"]())===f||d.$$is_boolean&&1!=d?(d=a.to_ary(b.$rpartition(k)),i.main=null==d[0]?f:d[0],l=null==d[1]?f:d[1],i.subtitle=null==d[2]?f:d[2]):(i.main=b,i.subtitle=f),i.combined=b}),a.defn(e,"$sanitized?",function(){var a=this;return a.sanitized}),a.defn(e,"$subtitle?",function(){var a=this;return a.subtitle["$!"]()["$!"]()}),a.defn(e,"$to_s",function(){var a=this;return a.combined}),f&&"to_s"}(r.base,null),p.$attr_reader("safe"),p.$attr_reader("compat_mode"),p.$attr_reader("sourcemap"),p.$attr_reader("references"),p.$attr_reader("counters"),p.$attr_reader("callouts"),p.$attr_reader("header"),p.$attr_reader("base_dir"),p.$attr_reader("options"),p.$attr_reader("outfilesuffix"),p.$attr_reader("parent_document"),p.$attr_reader("reader"),p.$attr_reader("converter"),p.$attr_reader("extensions"),a.defn(p,"$initialize",m=function(d,e){var g,h,i,l,n,o,p,q,s,t,u,v=this,w=(m.$$p,f),x=f,y=f,z=f,A=f,B=f,C=f,D=f,E=f,F=f,G=f,H=f,I=f,J=f;if(null==d&&(d=f),null==e&&(e=j([],{})),m.$$p=null,a.find_super_dispatcher(v,"initialize",m,null).apply(v,[v,"document"]),(g=w=e.$delete("parent"))===f||g.$$is_boolean&&1!=g){if(v.parent_document=f,v.references=j(["ids","footnotes","links","images","indexterms","includes"],{ids:j([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()}),x=j([],{}),(g=(i=(o=e["$[]"]("attributes"))!==!1&&o!==f?o:j([],{})).$each,g.$$p=(n=function(a,b){var c;n.$$s||this;return null==a&&(a=f),null==b&&(b=f),(c=a["$start_with?"]("!"))===f||c.$$is_boolean&&1!=c?(c=a["$end_with?"]("!"))===f||c.$$is_boolean&&1!=c||(a=a.$chop(),b=f):(a=a["$[]"](k(1,-1,!1)),b=f),x["$[]="](a.$downcase(),b)},n.$$s=v,n),g).call(i),v.attribute_overrides=x,(g=(z=e["$[]"]("safe"))["$!"]())===f||g.$$is_boolean&&1!=g)if((g=a.get("Fixnum")["$==="](z))===f||g.$$is_boolean&&1!=g)try{v.safe=r.get("SafeMode").$const_get(z.$to_s().$upcase())}catch(K){try{v.safe=r.get("SafeMode").$$scope.get("SECURE")}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else v.safe=z;else v.safe=r.get("SafeMode").$$scope.get("SECURE");v.sourcemap=e["$[]"]("sourcemap"),v.compat_mode=!1,v.converter=f,y=function(){try{return null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":f}catch(b){if(b.$$class===a.NameError)return f;throw b}}(),v.extensions=f}else v.parent_document=w,g="base_dir",h=e,(i=h["$[]"](g))!==!1&&i!==f?i:h["$[]="](g,w.$base_dir()),v.references=(g=(h=w.$references()).$inject,g.$$p=(l=function(a,b){l.$$s||this;null==a&&(a=f);var c=b[0],d=b[1];return c["$=="]("footnotes")?a["$[]="]("footnotes",[]):a["$[]="](c,d),a},l.$$s=v,l),g).call(h,j([],{})),x=w.$attributes().$dup(),x.$delete("doctype"),x.$delete("compat-mode"),v.attribute_overrides=x,v.safe=w.$safe(),v.compat_mode=w.$compat_mode(),v.sourcemap=w.$sourcemap(),v.converter=w.$converter(),y=!1,v.extensions=w.$extensions();if(v.parsed=!1,v.header=f,v.counters=j([],{}),v.callouts=r.get("Callouts").$new(),v.attributes_modified=a.get("Set").$new(),v.options=e,v.docinfo_processor_extensions=j([],{}),g="header_footer",o=e,A=(p=o["$[]"](g))!==!1&&p!==f?p:o["$[]="](g,!1),e.$freeze(),B=v.attributes,B["$[]="]("sectids",""),A!==!1&&A!==f||B["$[]="]("notitle",""),B["$[]="]("toc-placement","auto"),B["$[]="]("stylesheet",""),B["$[]="]("webfonts",""),A!==!1&&A!==f&&B["$[]="]("copycss",""),B["$[]="]("prewrap",""),B["$[]="]("attribute-undefined",r.get("Compliance").$attribute_undefined()),B["$[]="]("attribute-missing",r.get("Compliance").$attribute_missing()),B["$[]="]("iconfont-remote",""),B["$[]="]("caution-caption","Caution"),B["$[]="]("important-caption","Important"),B["$[]="]("note-caption","Note"),B["$[]="]("tip-caption","Tip"),B["$[]="]("warning-caption","Warning"),B["$[]="]("appendix-caption","Appendix"),B["$[]="]("example-caption","Example"),B["$[]="]("figure-caption","Figure"),B["$[]="]("table-caption","Table"),B["$[]="]("toc-title","Table of Contents"),B["$[]="]("manname-title","NAME"),B["$[]="]("untitled-label","Untitled"),B["$[]="]("version-label","Version"),B["$[]="]("last-update-label","Last updated"),x["$[]="]("asciidoctor",""),x["$[]="]("asciidoctor-version",r.get("VERSION")),C=(g=(o=r.get("SafeMode").$constants()).$detect,g.$$p=(q=function(a){var b=q.$$s||this;return null==b.safe&&(b.safe=f),null==a&&(a=f),r.get("SafeMode").$const_get(a)["$=="](b.safe)},q.$$s=v,q),g).call(o).$to_s().$downcase(),x["$[]="]("safe-mode-name",C),x["$[]="]("safe-mode-"+C,""),x["$[]="]("safe-mode-level",v.safe),x["$[]="]("embedded",function(){return A!==!1&&A!==f?f:""}()),g="max-include-depth",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,64),((g=x["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===f||g.$$is_boolean&&1!=g)&&x["$[]="]("allow-uri-read",f),x["$[]="]("user-home",r.get("USER_HOME")),(g=x["$key?"]("numbered"))===f||g.$$is_boolean&&1!=g||x["$[]="]("sectnums",x.$delete("numbered")),(g=e["$[]"]("base_dir"))===f||g.$$is_boolean&&1!=g?(g=x["$[]"]("docdir"))===f||g.$$is_boolean&&1!=g?v.base_dir=x["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd())):v.base_dir=x["$[]="]("docdir",a.get("File").$expand_path(x["$[]"]("docdir"))):v.base_dir=x["$[]="]("docdir",a.get("File").$expand_path(e["$[]"]("base_dir"))),(g=D=e["$[]"]("backend"))===f||g.$$is_boolean&&1!=g||x["$[]="]("backend",""+D),(g=E=e["$[]"]("doctype"))===f||g.$$is_boolean&&1!=g||x["$[]="]("doctype",""+E),b(v.safe,r.get("SafeMode").$$scope.get("SERVER"))&&(g="copycss",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,f),g="source-highlighter",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,f),g="backend",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,r.get("DEFAULT_BACKEND")),p=w["$!"](),(g=p!==!1&&p!==f?x["$key?"]("docfile"):p)===f||g.$$is_boolean&&1!=g||x["$[]="]("docfile",x["$[]"]("docfile")["$[]"](k(c(x["$[]"]("docdir").$length(),1),-1,!1))),x["$[]="]("docdir",""),x["$[]="]("user-home","."),b(v.safe,r.get("SafeMode").$$scope.get("SECURE"))&&(((g=x.$fetch("linkcss","")["$nil?"]())===f||g.$$is_boolean&&1!=g)&&x["$[]="]("linkcss",""),g="icons",p=x,(s=p["$[]"](g))!==!1&&s!==f?s:p["$[]="](g,f))),(g=(p=x).$delete_if,g.$$p=(t=function(b,c){var d,e,g=(t.$$s||this,f);return null==b&&(b=f),null==c&&(c=f),g=!1,(d=c["$nil?"]())===f||d.$$is_boolean&&1!=d?(e=a.get("String")["$==="](c),(d=e!==!1&&e!==f?c["$end_with?"]("@"):e)===f||d.$$is_boolean&&1!=d||(c=c.$chop(),g=!0),B["$[]="](b,c)):B.$delete(b),g},t.$$s=v,t),g).call(p),(g=B["$key?"]("compat-mode"))===f||g.$$is_boolean&&1!=g||(v.compat_mode=!0),w!==!1&&w!==f)return g="doctype",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,r.get("DEFAULT_DOCTYPE")),v.reader=r.get("Reader").$new(d,e["$[]"]("cursor")),r.get("Parser").$parse(v.reader,v),v.$restore_attributes(),v.parsed=!0;if((g="backend",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,r.get("DEFAULT_BACKEND")))["$=="]("manpage")?B["$[]="]("doctype",x["$[]="]("doctype","manpage")):(g="doctype",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,r.get("DEFAULT_DOCTYPE"))),v.$update_backend_attributes(B["$[]"]("backend"),!0),F=a.get("Time").$now(),g="localdate",s=B,G=(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,F.$strftime("%Y-%m-%d")),(g=H=B["$[]"]("localtime"))===f||g.$$is_boolean&&1!=g)try{H=B["$[]="]("localtime",F.$strftime("%H:%M:%S %Z"))}catch(K){try{H=B["$[]="]("localtime",F.$strftime("%H:%M:%S"))}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}else;return g="localdatetime",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,""+G+" "+H),g="docdate",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,G),g="doctime",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,H),g="docdatetime",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,""+G+" "+H),g="stylesdir",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,"."),g="iconsdir",s=B,(u=s["$[]"](g))!==!1&&u!==f?u:s["$[]="](g,a.get("File").$join(B.$fetch("imagesdir","./images"),"icons")),y!==!1&&y!==f&&((g=I=e["$[]"]("extensions_registry"))===f||g.$$is_boolean&&1!=g?I=(g=a.get("Proc")["$==="](J=e["$[]"]("extensions")))===f||g.$$is_boolean&&1!=g?r.get("Extensions").$$scope.get("Registry").$new():(g=(s=r.get("Extensions")).$build_registry,g.$$p=J.$to_proc(),g).call(s):((g=(s=r.get("Extensions").$$scope.get("Registry")["$==="](I))!==!1&&s!==f?s:(u=a.get("RUBY_ENGINE_JRUBY"),u!==!1&&u!==f?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](I):u))===f||g.$$is_boolean&&1!=g)&&(I=r.get("Extensions").$$scope.get("Registry").$new()),v.extensions=I.$activate(v)),v.reader=r.get("PreprocessorReader").$new(v,d,r.get("Reader").$$scope.get("Cursor").$new(B["$[]"]("docfile"),v.base_dir))}),a.defn(p,"$parse",function(a){var b,c,d,e,g,h=this,i=f,k=f;return null==a&&(a=f),(b=h.parsed)===f||b.$$is_boolean&&1!=b?(i=h,a!==!1&&a!==f&&(h.reader=r.get("PreprocessorReader").$new(i,a,r.get("Reader").$$scope.get("Cursor").$new(h.attributes["$[]"]("docfile"),h.base_dir))),c=k=function(){return(d=h.parent_document)===f||d.$$is_boolean&&1!=d?h.extensions:f}(),(b=c!==!1&&c!==f?k["$preprocessors?"]():c)===f||b.$$is_boolean&&1!=b||(b=(c=k.$preprocessors()).$each,b.$$p=(e=function(a){var b,c=e.$$s||this;return null==c.reader&&(c.reader=f),null==a&&(a=f),c.reader=(b=a.$process_method()["$[]"](i,c.reader))!==!1&&b!==f?b:c.reader},e.$$s=h,e),b).call(c),r.get("Parser").$parse(h.reader,i,j(["header_only"],{header_only:h.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),h.$restore_attributes(),(b=(d=k!==!1&&k!==f)?k["$treeprocessors?"]():k)===f||b.$$is_boolean&&1!=b||(b=(d=k.$treeprocessors()).$each,b.$$p=(g=function(a){var b,c,d,e=(g.$$s||this,f);return null==a&&(a=f),d=e=a.$process_method()["$[]"](i),c=d!==!1&&d!==f?r.get("Document")["$==="](e):d,(b=c!==!1&&c!==f?e["$!="](i):c)===f||b.$$is_boolean&&1!=b?f:i=e},g.$$s=h,g),b).call(d),h.parsed=!0,i):h}),a.defn(p,"$counter",function(a,b){var c,d,e=this,g=f,h=f;return null==b&&(b=f),d=g=(h=e.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),(c=d!==!1&&d!==f?e.counters["$key?"](a):d)===f||c.$$is_boolean&&1!=c?((c=b["$nil?"]())===f||c.$$is_boolean&&1!=c?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=e.$nextval(function(){return g!==!1&&g!==f?h:0}()),e.counters["$[]="](a,b)):e.counters["$[]="](a,e.$nextval(h)),e.attributes["$[]="](a,e.counters["$[]"](a))}),a.defn(p,"$counter_increment",function(a,b){var c=this,d=f;return d=c.$counter(a),r.get("AttributeEntry").$new(a,d).$save_to(b.$attributes()),d}),a.defn(p,"$nextval",function(b){var d,e=f;return(d=a.get("Integer")["$==="](b))===f||d.$$is_boolean&&1!=d?(e=b.$to_i(),(d=e.$to_s()["$!="](b.$to_s()))===f||d.$$is_boolean&&1!=d?c(e,1):c(b["$[]"](0).$ord(),1).$chr()):c(b,1)}),a.defn(p,"$register",function(b,d,e){var g,h,i,j=this,k=f,l=f,m=f;return null==e&&(e=!1),function(){return k=b,"ids"["$==="](k)?(g=a.to_ary([].concat(a.to_a(d))),l=null==g[0]?f:g[0],m=null==g[1]?f:g[1],(g=m)!==!1&&g!==f?g:m=c(c("[",l),"]"),e!==!1&&e!==f?j.references["$[]"]("ids")["$[]="](l,m):(g=l,h=j.references["$[]"]("ids"),(i=h["$[]"](g))!==!1&&i!==f?i:h["$[]="](g,m))):"footnotes"["$==="](k)||"indexterms"["$==="](k)?j.references["$[]"](b)["$<<"](d):(g=j.options["$[]"]("catalog_assets"))===f||g.$$is_boolean&&1!=g?f:j.references["$[]"](b)["$<<"](d)}()}),a.defn(p,"$footnotes?",function(){var a=this;return a.references["$[]"]("footnotes")["$empty?"]()["$!"]()}),a.defn(p,"$footnotes",function(){var a=this;return a.references["$[]"]("footnotes")}),a.defn(p,"$nested?",function(){var a=this;return a.parent_document["$!"]()["$!"]()}),a.defn(p,"$embedded?",function(){var a=this;return a.attributes["$key?"]("embedded")}),a.defn(p,"$extensions?",function(){var a=this;return a.extensions["$!"]()["$!"]()}),a.defn(p,"$source",function(){var a,b=this;return(a=b.reader)===f||a.$$is_boolean&&1!=a?f:b.reader.$source()}),a.defn(p,"$source_lines",function(){var a,b=this;return(a=b.reader)===f||a.$$is_boolean&&1!=a?f:b.reader.$source_lines()}),a.defn(p,"$doctype",function(){var a,b=this;return(a=b.doctype)!==!1&&a!==f?a:b.doctype=b.attributes["$[]"]("doctype")}),a.defn(p,"$backend",function(){var a,b=this;return(a=b.backend)!==!1&&a!==f?a:b.backend=b.attributes["$[]"]("backend")}),a.defn(p,"$basebackend?",function(a){var b=this;return b.attributes["$[]"]("basebackend")["$=="](a)}),a.defn(p,"$title",function(){var a=this;return a.attributes["$[]"]("title")}),a.defn(p,"$title=",function(a){var b,c,d=this;return(b=d.header)!==!1&&b!==f?b:d.header=r.get("Section").$new(d,0),b=[a],c=d.header,c["$title="].apply(c,b),b[b.length-1]}),a.defn(p,"$doctitle",function(a){var b,c,d=this,e=f,g=f,h=f;if(null==a&&(a=j([],{})),(b=(e=d.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())===f||b.$$is_boolean&&1!=b)if(c=g=d.$first_section(),(b=c!==!1&&c!==f?g["$title?"]():c)===f||b.$$is_boolean&&1!=b){if(c=a["$[]"]("use_fallback"),(b=c!==!1&&c!==f?e=d.attributes["$[]"]("untitled-label"):c)===f||b.$$is_boolean&&1!=b)return f}else e=g.$title();else e=d.$title();return(b=h=a["$[]"]("partition"))===f||b.$$is_boolean&&1!=b?(c=a["$[]"]("sanitize"),(b=c!==!1&&c!==f?e["$include?"]("<"):c)===f||b.$$is_boolean&&1!=b?e:e.$gsub(r.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip()):r.get("Title").$new(e,a.$merge(j(["separator"],{separator:function(){return h["$=="](!0)?d.attributes["$[]"]("title-separator"):h}()})))}),a.alias(p,"name","doctitle"),a.defn(p,"$author",function(){var a=this;return a.attributes["$[]"]("author")}),a.defn(p,"$revdate",function(){var a=this;return a.attributes["$[]"]("revdate")}),a.defn(p,"$notitle",function(){var a,b=this;return a=b.attributes["$key?"]("showtitle")["$!"](),a!==!1&&a!==f?b.attributes["$key?"]("notitle"):a}),a.defn(p,"$noheader",function(){var a=this;return a.attributes["$key?"]("noheader")}),a.defn(p,"$nofooter",function(){var a=this;return a.attributes["$key?"]("nofooter")}),a.defn(p,"$first_section",function(){var a,b,c,d,e=this;return(a=e["$has_header?"]())===f||a.$$is_boolean&&1!=a?(a=(b=(d=e.blocks)!==!1&&d!==f?d:[]).$detect,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=f),a.$context()["$=="]("section")},c.$$s=e,c),a).call(b):e.header}),a.defn(p,"$has_header?",function(){var a,b=this;return(a=b.header)===f||a.$$is_boolean&&1!=a?!1:!0}),a.alias(p,"header?","has_header?"),a.defn(p,"$<<",n=function(b){var c=g.call(arguments,0),d=this,e=n.$$p;return n.$$p=null,a.find_super_dispatcher(d,"<<",n,e).apply(d,c),b.$context()["$=="]("section")?d.$assign_index(b):f}),a.defn(p,"$finalize_header",function(a,b){var c=this;return null==b&&(b=!0),c.$clear_playback_attributes(a),c.$save_attributes(),b!==!1&&b!==f||a["$[]="]("invalid-header",!0),a}),a.defn(p,"$save_attributes",function(){var a,b,c,d,e=this,g=f,h=f,i=f,j=f,k=f,l=f,m=f,n=f,o=f;return(g=e.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(((a=(b=e["$attribute_locked?"]("toc"))!==!1&&b!==f?b:e.attributes_modified["$include?"]("toc"))===f||a.$$is_boolean&&1!=a)&&g["$[]="]("toc",""),((a=(b=e["$attribute_locked?"]("sectnums"))!==!1&&b!==f?b:e.attributes_modified["$include?"]("sectnums"))===f||a.$$is_boolean&&1!=a)&&g["$[]="]("sectnums","")),((a=(b=g["$key?"]("doctitle"))!==!1&&b!==f?b:(h=e.$doctitle())["$!"]())===f||a.$$is_boolean&&1!=a)&&g["$[]="]("doctitle",h),((a=e.id)===f||a.$$is_boolean&&1!=a)&&(e.id=g["$[]"]("css-signature")),i=function(){return(a=j=function(){return(b=g.$delete("toc2"))===f||b.$$is_boolean&&1!=b?g["$[]"]("toc"):"left"}())===f||a.$$is_boolean&&1!=a?f:(b=k=g.$fetch("toc-placement","macro"),(a=b!==!1&&b!==f?k["$!="]("auto"):b)===f||a.$$is_boolean&&1!=a?g["$[]"]("toc-position"):k)}(),(a=(b=j!==!1&&j!==f)?(c=j["$empty?"]()["$!"]())!==!1&&c!==f?c:i["$nil_or_empty?"]()["$!"]():j)===f||a.$$is_boolean&&1!=a||(l="left",m="toc2",n=(a=i["$nil_or_empty?"]()["$!"]())===f||a.$$is_boolean&&1!=a?(a=j["$empty?"]()["$!"]())===f||a.$$is_boolean&&1!=a?l:j:i,g["$[]="]("toc",""),g["$[]="]("toc-placement","auto"),o=n,"left"["$==="](o)||"<"["$==="](o)||"&lt;"["$==="](o)?g["$[]="]("toc-position","left"):"right"["$==="](o)||">"["$==="](o)||"&gt;"["$==="](o)?g["$[]="]("toc-position","right"):"top"["$==="](o)||"^"["$==="](o)?g["$[]="]("toc-position","top"):"bottom"["$==="](o)||"v"["$==="](o)?g["$[]="]("toc-position","bottom"):"preamble"["$==="](o)||"macro"["$==="](o)?(g["$[]="]("toc-position","content"),g["$[]="]("toc-placement",n),m=f):(g.$delete("toc-position"),m=f),m!==!1&&m!==f&&(a="toc-class",b=g,(c=b["$[]"](a))!==!1&&c!==f?c:b["$[]="](a,m))),(a=g["$key?"]("compat-mode"))===f||a.$$is_boolean&&1!=a?e.compat_mode=!1:((a=g["$has_key?"]("language"))===f||a.$$is_boolean&&1!=a||g["$[]="]("source-language",g["$[]"]("language")),e.compat_mode=!0),e.outfilesuffix=g["$[]"]("outfilesuffix"),e.header_attributes=g.$dup(),(a=e["$nested?"]())===f||a.$$is_boolean&&1!=a?(a=(b=r.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(d=function(a){var b,c,e=d.$$s||this;return null==e.attribute_overrides&&(e.attribute_overrides=f),null==a&&(a=f),c=e.attribute_overrides["$key?"](a),(b=c!==!1&&c!==f?e.attribute_overrides["$[]"](a):c)===f||b.$$is_boolean&&1!=b?f:e.attribute_overrides.$delete(a)},d.$$s=e,d),a).call(b):f}),a.defn(p,"$restore_attributes",function(){var a=this;return a.callouts.$rewind(),a.attributes=a.header_attributes}),a.defn(p,"$clear_playback_attributes",function(a){return a.$delete("attribute_entries")}),a.defn(p,"$playback_attributes",function(a){var b,c,d,e=this;return(b=a["$key?"]("attribute_entries"))===f||b.$$is_boolean&&1!=b?f:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(d=function(a){var b,c=d.$$s||this,e=f;return null==c.attributes&&(c.attributes=f),null==a&&(a=f),e=a.$name(),(b=a.$negate())===f||b.$$is_boolean&&1!=b?(c.attributes["$[]="](e,a.$value()),e["$=="]("compat-mode")?c.compat_mode=!0:f):(c.attributes.$delete(e),e["$=="]("compat-mode")?c.compat_mode=!1:f)},d.$$s=e,d),b).call(c)}),a.defn(p,"$set_attribute",function(a,b){var c,d=this,e=f;return(c=d["$attribute_locked?"](a))===f||c.$$is_boolean&&1!=c?(e=a,"backend"["$==="](e)?d.$update_backend_attributes(d.$apply_attribute_value_subs(b),d.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](e)?d.$update_doctype_attributes(d.$apply_attribute_value_subs(b)):d.attributes["$[]="](a,d.$apply_attribute_value_subs(b)),d.attributes_modified["$<<"](a),!0):!1}),a.defn(p,"$delete_attribute",function(a){var b,c=this;return(b=c["$attribute_locked?"](a))===f||b.$$is_boolean&&1!=b?(c.attributes.$delete(a),c.attributes_modified["$<<"](a),!0):!1}),a.defn(p,"$attribute_locked?",function(a){var b=this;return b.attribute_overrides["$key?"](a)}),a.defn(p,"$apply_attribute_value_subs",function(a){var b,c=this,d=f,e=f;return(b=d=r.get("AttributeEntryPassMacroRx").$match(a))===f||b.$$is_boolean&&1!=b?c.$apply_header_subs(a):(b=d["$[]"](1)["$empty?"]()["$!"]())===f||b.$$is_boolean&&1!=b?d["$[]"](2):(e=c.$resolve_pass_subs(d["$[]"](1)),(b=e["$empty?"]())===f||b.$$is_boolean&&1!=b?c.$apply_subs(d["$[]"](2),e):d["$[]"](2))}),a.defn(p,"$update_backend_attributes",function(a,b){var c,d,e,g=this,h=f,i=f,j=f,l=f,m=f,n=f,o=f,p=f,q=f,s=f;return null==b&&(b=!1),(c=(d=b)!==!1&&d!==f?d:(e=a!==!1&&a!==f)?a["$!="](g.attributes["$[]"]("backend")):a)===f||c.$$is_boolean&&1!=c?f:(h=g.attributes,i=h["$[]"]("backend"),j=h["$[]"]("basebackend"),l=h["$[]"]("doctype"),(c=a["$start_with?"]("xhtml"))===f||c.$$is_boolean&&1!=c?(c=a["$start_with?"]("html"))===f||c.$$is_boolean&&1!=c||h["$[]"]("htmlsyntax")["$=="]("xml")||h["$[]="]("htmlsyntax","html"):(h["$[]="]("htmlsyntax","xml"),a=a["$[]"](k(1,-1,!1))),(c=m=r.get("BACKEND_ALIASES")["$[]"](a))===f||c.$$is_boolean&&1!=c||(a=m),i!==!1&&i!==f&&(h.$delete("backend-"+i),l!==!1&&l!==f&&h.$delete("backend-"+i+"-doctype-"+l)),l!==!1&&l!==f&&(h["$[]="]("doctype-"+l,""),h["$[]="]("backend-"+a+"-doctype-"+l,"")),h["$[]="]("backend",a),h["$[]="]("backend-"+a,""),(c=r.get("Converter").$$scope.get("BackendInfo")["$==="](g.converter=g.$create_converter()))===f||c.$$is_boolean&&1!=c?(n=a.$sub(r.get("TrailingDigitsRx"),""),p=(c=r.get("DEFAULT_EXTENSIONS")["$[]"](n))!==!1&&c!==f?c:".html",o=p["$[]"](k(1,-1,!1)),((c=g["$attribute_locked?"]("outfilesuffix"))===f||c.$$is_boolean&&1!=c)&&h["$[]="]("outfilesuffix",p)):(n=g.converter.$basebackend(),((c=g["$attribute_locked?"]("outfilesuffix"))===f||c.$$is_boolean&&1!=c)&&h["$[]="]("outfilesuffix",g.converter.$outfilesuffix()),o=g.converter.$filetype()),(c=q=h["$[]"]("filetype"))===f||c.$$is_boolean&&1!=c||h.$delete("filetype-"+q),h["$[]="]("filetype",o),h["$[]="]("filetype-"+o,""),(c=s=r.get("DEFAULT_PAGE_WIDTHS")["$[]"](n))===f||c.$$is_boolean&&1!=c?h.$delete("pagewidth"):h["$[]="]("pagewidth",s),(c=n["$!="](j))===f||c.$$is_boolean&&1!=c||(j!==!1&&j!==f&&(h.$delete("basebackend-"+j),l!==!1&&l!==f&&h.$delete("basebackend-"+j+"-doctype-"+l)),h["$[]="]("basebackend",n),h["$[]="]("basebackend-"+n,""),l!==!1&&l!==f&&h["$[]="]("basebackend-"+n+"-doctype-"+l,"")),g.backend=f)}),a.defn(p,"$update_doctype_attributes",function(a){var b,c,d=this,e=f,g=f,h=f,i=f;return(b=(c=a!==!1&&a!==f)?a["$!="](d.attributes["$[]"]("doctype")):a)===f||b.$$is_boolean&&1!=b?f:(e=d.attributes,g=e["$[]"]("doctype"),h=e["$[]"]("backend"),i=e["$[]"]("basebackend"),g!==!1&&g!==f&&(e.$delete("doctype-"+g),h!==!1&&h!==f&&e.$delete("backend-"+h+"-doctype-"+g),i!==!1&&i!==f&&e.$delete("basebackend-"+i+"-doctype-"+g)),e["$[]="]("doctype",a),e["$[]="]("doctype-"+a,""),h!==!1&&h!==f&&e["$[]="]("backend-"+h+"-doctype-"+a,""),i!==!1&&i!==f&&e["$[]="]("basebackend-"+i+"-doctype-"+a,""),d.doctype=f)}),a.defn(p,"$create_converter",function(){var b,c=this,d=f,e=f,g=f,h=f,i=f;return d=j([],{}),d["$[]="]("htmlsyntax",c.attributes["$[]"]("htmlsyntax")),e=function(){return(b=g=c.options["$[]"]("template_dir"))===f||b.$$is_boolean&&1!=b?(b=e=c.options["$[]"]("template_dirs"))===f||b.$$is_boolean&&1!=b?f:d["$[]="]("template_dirs",e):d["$[]="]("template_dirs",[g])}(),e!==!1&&e!==f&&(d["$[]="]("template_cache",c.options.$fetch("template_cache",!0)),d["$[]="]("template_engine",c.options["$[]"]("template_engine")),d["$[]="]("template_engine_options",c.options["$[]"]("template_engine_options")),d["$[]="]("eruby",c.options["$[]"]("eruby")),d["$[]="]("safe",c.safe)),i=(b=h=c.options["$[]"]("converter"))===f||b.$$is_boolean&&1!=b?r.get("Converter").$$scope.get("Factory").$default(!1):r.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](c.$backend(),h)),i.$create(c.$backend(),d)}),a.defn(p,"$convert",function(a){var c,d,e,g=this,h=f,i=f,k=f,l=f;return null==a&&(a=j([],{})),((c=g.parsed)===f||c.$$is_boolean&&1!=c)&&g.$parse(),((c=(d=b(g.safe,r.get("SafeMode").$$scope.get("SERVER")))!==!1&&d!==f?d:a["$empty?"]())===f||c.$$is_boolean&&1!=c)&&(((c=g.attributes["$[]="]("outfile",a["$[]"]("outfile")))===f||c.$$is_boolean&&1!=c)&&g.attributes.$delete("outfile"),((c=g.attributes["$[]="]("outdir",a["$[]"]("outdir")))===f||c.$$is_boolean&&1!=c)&&g.attributes.$delete("outdir")),((c=g.converter)===f||c.$$is_boolean&&1!=c)&&g.$fail("asciidoctor: FAILED: missing converter for backend '"+g.$backend()+"'. Processing aborted."),g.$doctype()["$=="]("inline")?(d=h=g.blocks["$[]"](0),i=(c=d!==!1&&d!==f?h.$content_model()["$!="]("compound"):d)===f||c.$$is_boolean&&1!=c?f:h.$content()):(k=function(){return(c=function(){return(d=a["$key?"]("header_footer"))===f||d.$$is_boolean&&1!=d?g.options["$[]"]("header_footer"):a["$[]"]("header_footer")}())===f||c.$$is_boolean&&1!=c?"embedded":"document"}(),i=g.converter.$convert(g,k)),((c=g.parent_document)===f||c.$$is_boolean&&1!=c)&&(d=l=g.extensions,(c=d!==!1&&d!==f?l["$postprocessors?"]():d)===f||c.$$is_boolean&&1!=c||(c=(d=l.$postprocessors()).$each,c.$$p=(e=function(a){var b=e.$$s||this;return null==a&&(a=f),i=a.$process_method()["$[]"](b,i)},e.$$s=g,e),c).call(d)),i}),a.alias(p,"render","convert"),a.defn(p,"$write",function(b,c){var d,e,g,h=this;return(d=r.get("Writer")["$==="](h.converter))===f||d.$$is_boolean&&1!=d?((d=c["$respond_to?"]("write"))===f||d.$$is_boolean&&1!=d?(d=(e=a.get("File")).$open,d.$$p=(g=function(a){g.$$s||this;return null==a&&(a=f),a.$write(b)},g.$$s=h,g),d).call(e,c,"w"):((d=b["$nil_or_empty?"]())===f||d.$$is_boolean&&1!=d)&&(c.$write(b.$chomp()),c.$write(r.get("EOL"))),f):h.converter.$write(b,c)}),a.defn(p,"$content",o=function(){var b=g.call(arguments,0),c=this,d=o.$$p;return o.$$p=null,c.attributes.$delete("title"),a.find_super_dispatcher(c,"content",o,d).apply(c,b)}),a.defn(p,"$docinfo",function(a,c){var e,g,h,i,k=this,l=f,m=f,n=f,o=f,p=f,q=f,s=f,t=f,u=f;return null==a&&(a="head"),null==c&&(c=f),b(k.$safe(),r.get("SafeMode").$$scope.get("SECURE"))?"":(l=function(){return a["$=="]("footer")?"-footer":f}(),c!==!1&&c!==f||(c=k.outfilesuffix),m=k.attributes["$[]"]("docinfodir"),n=f,o=(e=(o=k.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===f||e.$$is_boolean&&1!=e?(e=(g=o.$split(",")).$map,e.$$p="strip".$to_proc(),e).call(g):(e=k.attributes["$key?"]("docinfo2"))===f||e.$$is_boolean&&1!=e?(e=k.attributes["$key?"]("docinfo1"))===f||e.$$is_boolean&&1!=e?function(){return o!==!1&&o!==f?["private"]:f}():["shared"]:["private","shared"],o!==!1&&o!==f&&(p="docinfo"+l+c,((e=o["$&"](["shared","shared-"+a])["$empty?"]())===f||e.$$is_boolean&&1!=e)&&(q=k.$normalize_system_path(p,m),(e=n=k.$read_asset(q,j(["normalize"],{normalize:!0})))===f||e.$$is_boolean&&1!=e||(e=(h=s)!==!1&&h!==f?h:s=k.$resolve_docinfo_subs())===f||e.$$is_boolean&&1!=e||(n=function(){return(e=s["$=="]("attributes"))===f||e.$$is_boolean&&1!=e?k.$apply_subs(n,s):k.$sub_attributes(n)}())),((e=(h=k.attributes["$[]"]("docname")["$nil_or_empty?"]())!==!1&&h!==f?h:o["$&"](["private","private-"+a])["$empty?"]())===f||e.$$is_boolean&&1!=e)&&(q=k.$normalize_system_path(""+k.attributes["$[]"]("docname")+"-"+p,m),(e=t=k.$read_asset(q,j(["normalize"],{normalize:!0})))===f||e.$$is_boolean&&1!=e||((e=(h=s)!==!1&&h!==f?h:s=k.$resolve_docinfo_subs())===f||e.$$is_boolean&&1!=e||(t=function(){return(e=s["$=="]("attributes"))===f||e.$$is_boolean&&1!=e?k.$apply_subs(t,s):k.$sub_attributes(t)}()),n=function(){return n!==!1&&n!==f?""+n+r.get("EOL")+t:t}()))),h=k.extensions,(e=h!==!1&&h!==f?k["$docinfo_processors?"](a):h)===f||e.$$is_boolean&&1!=e||(u=d((e=(h=k.docinfo_processor_extensions["$[]"](a)).$map,e.$$p=(i=function(a){var b=i.$$s||this;return null==a&&(a=f),a.$process_method()["$[]"](b)},i.$$s=k,i),e).call(h).$compact(),r.get("EOL")),n=function(){return n!==!1&&n!==f?""+n+r.get("EOL")+u:u}()),""+n)}),a.defn(p,"$resolve_docinfo_subs",function(){var a,b=this,c=f;return(a=b.attributes["$key?"]("docinfosubs"))===f||a.$$is_boolean&&1!=a?"attributes":(c=b.$resolve_subs(b.attributes["$[]"]("docinfosubs"),"block",f,"docinfo"),(a=c["$empty?"]())===f||a.$$is_boolean&&1!=a?c:f)}),a.defn(p,"$docinfo_processors?",function(a){var b,c,d=this;return null==a&&(a="head"),(b=d.docinfo_processor_extensions["$key?"](a))===f||b.$$is_boolean&&1!=b?(c=d.extensions,(b=c!==!1&&c!==f?d.document.$extensions()["$docinfo_processors?"](a):c)===f||b.$$is_boolean&&1!=b?d.docinfo_processor_extensions["$[]="](a,!1):d.docinfo_processor_extensions["$[]="](a,d.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]()):d.docinfo_processor_extensions["$[]"](a)["$!="](!1)}),a.defn(p,"$to_s",function(){var a,b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {doctype: "+b.$doctype().$inspect()+", doctitle: "+function(){return(a=b.header["$!="](f))===f||a.$$is_boolean&&1!=a?f:b.header.$title()}().$inspect()+", blocks: "+b.blocks.$size()+"}>"}),f&&"to_s"}(m.base,m.get("AbstractBlock"))}(e.base)},Opal.modules["asciidoctor/inline"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(b,d){function g(){}var h,i=g=e(b,d,"Inline",g);i.$$proto,i.$$scope;return i.$attr_reader("text"),i.$attr_reader("type"),i.$attr_accessor("target"),a.defn(i,"$initialize",h=function(b,d,e,g){
var i,j=this,k=(h.$$p,c);return null==e&&(e=c),null==g&&(g=f([],{})),h.$$p=null,a.find_super_dispatcher(j,"initialize",h,null).apply(j,[b,d]),j.node_name="inline_"+d,j.text=e,j.id=g["$[]"]("id"),j.type=g["$[]"]("type"),j.target=g["$[]"]("target"),(i=(k=g["$[]"]("attributes"))["$nil_or_empty?"]())===c||i.$$is_boolean&&1!=i?j.$update_attributes(k):c}),a.defn(i,"$block?",function(){return!1}),a.defn(i,"$inline?",function(){return!0}),a.defn(i,"$convert",function(){var a=this;return a.$converter().$convert(a)}),a.alias(i,"render","convert")}(h.base,h.get("AbstractNode"))}(b.base)},Opal.modules["asciidoctor/list"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass;return function(b){var g=e(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(b,e){function g(){}var h,i,j=g=f(b,e,"List",g),k=j.$$proto;j.$$scope;return k.context=k.document=k.style=c,a.alias(j,"items","blocks"),a.alias(j,"content","blocks"),a.alias(j,"items?","blocks?"),a.defn(j,"$initialize",h=function(b,c){var e=d.call(arguments,0),f=this,g=h.$$p;return h.$$p=null,a.find_super_dispatcher(f,"initialize",h,g).apply(f,e)}),a.defn(j,"$outline?",function(){var a,b=this;return(a=b.context["$=="]("ulist"))!==!1&&a!==c?a:b.context["$=="]("olist")}),a.defn(j,"$convert",i=function(){var b=d.call(arguments,0),e=this,f=i.$$p,g=c;return i.$$p=null,e.context["$=="]("colist")?(g=a.find_super_dispatcher(e,"convert",i,f).apply(e,b),e.document.$callouts().$next_list(),g):a.find_super_dispatcher(e,"convert",i,f).apply(e,b)}),a.alias(j,"render","convert"),a.defn(j,"$to_s",function(){var a=this;return"#<"+a.$class()+"@"+a.$object_id()+" {context: "+a.context.$inspect()+", style: "+a.style.$inspect()+", items: "+a.$items().$size()+"}>"}),c&&"to_s"}(h.base,h.get("AbstractBlock")),function(b,d){function e(){}var g,h=e=f(b,d,"ListItem",e),i=h.$$proto,j=h.$$scope;return i.text=i.blocks=c,h.$attr_accessor("marker"),a.defn(h,"$initialize",g=function(b,d){var e=this;g.$$p;return null==d&&(d=c),g.$$p=null,a.find_super_dispatcher(e,"initialize",g,null).apply(e,[b,"list_item"]),e.text=d,e.level=b.$level()}),a.defn(h,"$text?",function(){var a=this;return a.text["$nil_or_empty?"]()["$!"]()}),a.defn(h,"$text",function(){var a=this;return a.$apply_subs(a.text)}),a.defn(h,"$simple?",function(){var a,b,d,e=this,f=c;return(a=e.blocks["$empty?"]())!==!1&&a!==c?a:(b=(d=e.blocks.$size()["$=="](1))?j.get("List")["$==="](f=e.blocks["$[]"](0)):e.blocks.$size()["$=="](1),b!==!1&&b!==c?f["$outline?"]():b)}),a.defn(h,"$compound?",function(){var a=this;return a["$simple?"]()["$!"]()}),a.defn(h,"$fold_first",function(a,b){var d,e,f,g,h,i,k=this,l=c,m=c;return null==a&&(a=!1),null==b&&(b=!1),f=l=k.blocks["$[]"](0),e=f!==!1&&f!==c?j.get("Block")["$==="](l):f,(d=e!==!1&&e!==c?(f=(g=l.$context()["$=="]("paragraph"))?a["$!"]():l.$context()["$=="]("paragraph"))!==!1&&f!==c?f:(h=(i=b)!==!1&&i!==c?i:a["$!"](),g=h!==!1&&h!==c?l.$context()["$=="]("literal"):h,g!==!1&&g!==c?l["$option?"]("listparagraph"):g):e)===c||d.$$is_boolean&&1!=d||(m=k.$blocks().$shift(),((d=k.text["$nil_or_empty?"]())===c||d.$$is_boolean&&1!=d)&&m.$lines().$unshift(k.text),k.text=m.$source()),c}),a.defn(h,"$to_s",function(){var a,b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {list_context: "+b.$parent().$context().$inspect()+", text: "+b.text.$inspect()+", blocks: "+((a=b.blocks)!==!1&&a!==c?a:[]).$size()+"}>"}),c&&"to_s"}(h.base,h.get("AbstractBlock"))}(b.base)},Opal.modules["asciidoctor/parser"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}function h(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function i(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}a.dynamic_require_severity="ignore";var j=(a.top,a),k=a.nil,l=a.breaker,m=(a.slice,a.module),n=a.klass,o=a.hash2,p=a.range,q=a.gvars;return function(j){var r=m(j,"Asciidoctor"),s=(r.$$proto,r.$$scope);!function(j,m){function r(){}var s,t,u,v,w,x,y,z=r=n(j,m,"Parser",r),A=(z.$$proto,z.$$scope);return a.cdecl(A,"BlockMatchData",A.get("Struct").$new("context","masq","tip","terminator")),a.cdecl(A,"TabRx",/\t/),a.cdecl(A,"TabIndentRx",/^\t+/),a.cdecl(A,"StartOfBlockProc",(s=(t=z).$lambda,s.$$p=(u=function(a){var b,c,d=u.$$s||this;return null==a&&(a=k),c=a["$start_with?"]("["),(b=c!==!1&&c!==k?A.get("BlockAttributeLineRx")["$=~"](a):c)!==!1&&b!==k?b:d["$is_delimited_block?"](a)},u.$$s=z,u),s).call(t)),a.cdecl(A,"StartOfListProc",(s=(v=z).$lambda,s.$$p=(w=function(a){w.$$s||this;return null==a&&(a=k),A.get("AnyListRx")["$=~"](a)},w.$$s=z,w),s).call(v)),a.cdecl(A,"StartOfBlockOrListProc",(s=(x=z).$lambda,s.$$p=(y=function(a){var b,c,d,e=y.$$s||this;return null==a&&(a=k),(b=(c=e["$is_delimited_block?"](a))!==!1&&c!==k?c:(d=a["$start_with?"]("["),d!==!1&&d!==k?A.get("BlockAttributeLineRx")["$=~"](a):d))!==!1&&b!==k?b:A.get("AnyListRx")["$=~"](a)},y.$$s=z,y),s).call(x)),a.cdecl(A,"NoOp",k),a.defn(z,"$initialize",function(){var a=this;return a.$raise("Au contraire, mon frere. No lexer instances will be running around.")}),a.defs(z,"$parse",function(b,c,d){var e,f,g=this,h=k,i=k;if(null==d&&(d=o([],{})),h=g.$parse_document_header(b,c),(e=d["$[]"]("header_only"))===k||e.$$is_boolean&&1!=e)for(;(f=b["$has_more_lines?"]())!==k&&(!f.$$is_boolean||1==f);)f=a.to_ary(g.$next_section(b,c,h)),i=null==f[0]?k:f[0],h=null==f[1]?k:f[1],i!==!1&&i!==k&&c["$<<"](i);else;return c}),a.defs(z,"$parse_document_header",function(b,c){var d,e,f=this,g=k,h=k,i=k,j=k,l=k,m=k,n=k,o=k,p=k;return g=f.$parse_block_metadata_lines(b,c),(d=g["$has_key?"]("title"))===k||d.$$is_boolean&&1!=d?(h=k,((d=(i=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===k||d.$$is_boolean&&1!=d)&&(d=[i],e=c,e["$title="].apply(e,d),d[d.length-1],h=i),j=k,(d=f["$is_next_line_document_title?"](b,g))===k||d.$$is_boolean&&1!=d||((d=c.$sourcemap())===k||d.$$is_boolean&&1!=d||(l=b.$cursor()),d=a.to_ary(f.$parse_section_title(b,c)),c["$id="](null==d[0]?k:d[0]),m=null==d[1]?k:d[1],n=null==d[2]?k:d[2],m=null==d[3]?k:d[3],o=null==d[4]?k:d[4],h!==!1&&h!==k||(d=[n],e=c,e["$title="].apply(e,d),d[d.length-1],h=n),o!==!1&&o!==k||c.$set_attribute("compat-mode",""),(d=p=g.$delete("separator"))===k||d.$$is_boolean&&1!=d||c.$set_attribute("title-separator",p),l!==!1&&l!==k&&(d=[l],e=c.$header(),e["$source_location="].apply(e,d),d[d.length-1]),c.$attributes()["$[]="]("doctitle",j=n),((d=c.$id())===k||d.$$is_boolean&&1!=d)&&(d=[g.$delete("id")],e=c,e["$id="].apply(e,d),d[d.length-1]),f.$parse_header_metadata(b,c)),e=(i=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]()["$!"](),(d=e!==!1&&e!==k?i["$!="](j):e)===k||d.$$is_boolean&&1!=d||(d=[i],e=c,e["$title="].apply(e,d),d[d.length-1],h=i),h!==!1&&h!==k&&c.$attributes()["$[]="]("doctitle",h),c.$doctype()["$=="]("manpage")&&f.$parse_manpage_header(b,c),c.$finalize_header(g)):c.$finalize_header(g,!1)}),a.defs(z,"$parse_manpage_header",function(a,b){var c,d=this,e=k,f=k,g=k;return(c=e=A.get("ManpageTitleVolnumRx").$match(b.$attributes()["$[]"]("doctitle")))===k||c.$$is_boolean&&1!=c?(d.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),b.$attributes()["$[]="]("mantitle",b.$attributes()["$[]"]("doctitle")),b.$attributes()["$[]="]("manvolnum","1")):(b.$attributes()["$[]="]("mantitle",b.$sub_attributes(e["$[]"](1).$rstrip().$downcase())),b.$attributes()["$[]="]("manvolnum",e["$[]"](2).$strip())),a.$skip_blank_lines(),(c=d["$is_next_line_section?"](a,o([],{})))===k||c.$$is_boolean&&1!=c?d.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected"):(f=d.$initialize_section(a,b,o([],{})),f.$level()["$=="](1)?(g=a.$read_lines_until(o(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(c=e=A.get("ManpageNamePurposeRx").$match(g))===k||c.$$is_boolean&&1!=c?d.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body"):(b.$attributes()["$[]="]("manname",b.$sub_attributes(e["$[]"](1))),b.$attributes()["$[]="]("manpurpose",e["$[]"](2)),b.$backend()["$=="]("manpage")?(b.$attributes()["$[]="]("docname",b.$attributes()["$[]"]("manname")),b.$attributes()["$[]="]("outfilesuffix","."+b.$attributes()["$[]"]("manvolnum"))):k)):d.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1"))}),a.defs(z,"$next_section",function(e,f,g){var h,i,j,l,m=this,n=k,p=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k,z=k,B=k,C=k,D=k,E=k;for(null==g&&(g=o([],{})),n=!1,p=!1,q=!1,i=(j=f.$context()["$=="]("document"))?f.$blocks()["$empty?"]():f.$context()["$=="]("document"),(h=i!==!1&&i!==k?(j=(l=r=f["$has_header?"]())!==!1&&l!==k?l:g.$delete("invalid-header"))!==!1&&j!==k?j:m["$is_next_line_section?"](e,g)["$!"]():i)===k||h.$$is_boolean&&1!=h?(s=f.$document().$doctype(),t=m.$initialize_section(e,f,g),g=function(){return(h=w=g["$[]"]("title"))===k||h.$$is_boolean&&1!=h?o([],{}):o(["title"],{title:w})}(),u=t.$level(),(h=(i=u["$=="](0))?s["$=="]("book"):u["$=="](0))===k||h.$$is_boolean&&1!=h?v=[b(u,1)]:(p=t.$special()["$!"](),i=t.$special(),v=(h=i!==!1&&i!==k?["preface","appendix"]["$include?"](t.$sectname()):i)===k||h.$$is_boolean&&1!=h?[b(u,1)]:[b(u,2)])):(s=f.$doctype(),(h=(i=r)!==!1&&i!==k?i:(j=s["$=="]("book"))?g["$[]"](1)["$!="]("abstract"):s["$=="]("book"))===k||h.$$is_boolean&&1!=h||(n=q=A.get("Block").$new(f,"preamble",o(["content_model"],{content_model:"compound"})),(h=(i=s["$=="]("book"))?f["$attr?"]("preface-title"):s["$=="]("book"))===k||h.$$is_boolean&&1!=h||(h=[f.$attr("preface-title")],i=n,i["$title="].apply(i,h),h[h.length-1]),f["$<<"](n)),t=f,u=0,v=(h=f.$attributes()["$has_key?"]("fragment"))===k||h.$$is_boolean&&1!=h?s["$=="]("book")?[0,1]:[1]:k),e.$skip_blank_lines();(i=e["$has_more_lines?"]())!==k&&(!i.$$is_boolean||1==i);){if(m.$parse_block_metadata_lines(e,t,g),(i=x=m["$is_next_line_section?"](e,g))===k||i.$$is_boolean&&1!=i)z=e.$line_info(),(i=B=m.$next_block(e,(j=q)!==!1&&j!==k?j:t,g,o(["parse_metadata"],{parse_metadata:!1})))===k||i.$$is_boolean&&1!=i||(p!==!1&&p!==k&&((i=t["$blocks?"]()["$!"]())===k||i.$$is_boolean&&1!=i?t.$blocks().$size()["$=="](1)&&(C=t.$blocks()["$[]"](0),j=q["$!"](),(i=j!==!1&&j!==k?C.$content_model()["$=="]("compound"):j)===k||i.$$is_boolean&&1!=i?(i=C.$content_model()["$!="]("compound"))===k||i.$$is_boolean&&1!=i||(q=A.get("Block").$new(t,"open",o(["content_model"],{content_model:"compound"})),i=["partintro"],j=q,j["$style="].apply(j,i),i[i.length-1],t.$blocks().$shift(),C.$style()["$=="]("partintro")&&(i=["paragraph"],j=C,j["$context="].apply(j,i),i[i.length-1],i=[k],j=C,j["$style="].apply(j,i),i[i.length-1]),i=[q],j=C,j["$parent="].apply(j,i),i[i.length-1],q["$<<"](C),i=[q],j=B,j["$parent="].apply(j,i),i[i.length-1],t["$<<"](q)):m.$warn("asciidoctor: ERROR: "+z+": illegal block content outside of partintro block")):(i=B.$style()["$!="]("partintro"))===k||i.$$is_boolean&&1!=i||(B.$context()["$=="]("paragraph")?(i=["open"],j=B,j["$context="].apply(j,i),i[i.length-1],i=["partintro"],j=B,j["$style="].apply(j,i),i[i.length-1]):(q=A.get("Block").$new(t,"open",o(["content_model"],{content_model:"compound"})),i=["partintro"],j=q,j["$style="].apply(j,i),i[i.length-1],i=[q],j=B,j["$parent="].apply(j,i),i[i.length-1],t["$<<"](q)))),((i=q)!==!1&&i!==k?i:t)["$<<"](B),g=o([],{}));else{if(x=b(x,t.$document().$attr("leveloffset",0).$to_i()),(i=(j=c(x,u))!==!1&&j!==k?j:(l=t.$context()["$=="]("document"))?x["$=="](0):t.$context()["$=="]("document"))===k||i.$$is_boolean&&1!=i){(i=(j=x["$=="](0))?s["$!="]("book"):x["$=="](0))===k||i.$$is_boolean&&1!=i||m.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections");break}(i=(j=x["$=="](0))?s["$!="]("book"):x["$=="](0))===k||i.$$is_boolean&&1!=i?(i=(j=v!==!1&&v!==k)?v["$include?"](x)["$!"]():v)===k||i.$$is_boolean&&1!=i||m.$warn(b(b("asciidoctor: WARNING: "+e.$line_info()+": section title out of sequence: ","expected "+function(){return c(v.$size(),1)?"levels":"level"}()+" "+d(v," or ")+", "),"got level "+x)):m.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections"),i=a.to_ary(m.$next_section(e,t,g)),y=null==i[0]?k:i[0],g=null==i[1]?k:i[1],t["$<<"](y)}e.$skip_blank_lines()}if(p!==!1&&p!==k)i=t["$blocks?"](),((h=i!==!1&&i!==k?t.$blocks()["$[]"](-1).$context()["$=="]("section"):i)===k||h.$$is_boolean&&1!=h)&&m.$warn("asciidoctor: ERROR: "+e.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(n!==!1&&n!==k)if(D=f,(h=n["$blocks?"]())===k||h.$$is_boolean&&1!=h)D.$blocks().$shift();else if(j=A.get("Compliance").$unwrap_standalone_preamble(),i=j!==!1&&j!==k?D.$blocks().$size()["$=="](1):j,(h=i!==!1&&i!==k?s["$!="]("book"):i)!==k&&(!h.$$is_boolean||1==h))for(D.$blocks().$shift();(i=E=n.$blocks().$shift())!==k&&(!i.$$is_boolean||1==i);)i=[D],j=E,j["$parent="].apply(j,i),i[i.length-1],D["$<<"](E);return[function(){return(h=t["$!="](f))===k||h.$$is_boolean&&1!=h?k:t}(),g.$dup()]}),a.defs(z,"$next_block",function(d,g,h,i){var j,l,m,n,q,r,s,t,u,v,w,x=this,y=k,z=k,B=k,C=k,D=k,E=k,F=k,G=k,H=k,I=k,J=k,K=k,L=k,M=k,N=k,O=k,P=k,Q=k,R=k,S=k,T=k,U=k,V=k,W=k,X=k,Y=k,Z=k,$=k,_=k,aa=k,ba=k,ca=k,da=k,ea=k,fa=k,ga=k,ha=k,ia=k,ja=k,ka=k,la=k,ma=k,na=k,oa=k,pa=k,qa=k,ra=k,sa=k,ta=k,ua=k,va=k,wa=k,xa=k,ya=k,za=k,Aa=k,Ba=k;if(null==h&&(h=o([],{})),null==i&&(i=o([],{})),y=d.$skip_blank_lines(),(j=d["$has_more_lines?"]())===k||j.$$is_boolean&&1!=j)return k;for(l=z=i["$[]"]("text"),(j=l!==!1&&l!==k?c(y,0):l)===k||j.$$is_boolean&&1!=j||(i.$delete("text"),z=!1),B=i.$fetch("parse_metadata",!0),C=g.$document(),(j=D=C.$extensions())===k||j.$$is_boolean&&1!=j?E=F=!1:(E=D["$blocks?"](),F=D["$block_macros?"]()),G=A.get("ListItem")["$==="](g),H=k,I=k,J=k,K=C.$sourcemap(),L=k;m=H["$!"](),(l=m!==!1&&m!==k?d["$has_more_lines?"]():m)!==k&&(!l.$$is_boolean||1==l);)if((l=(m=B!==!1&&B!==k)?x.$parse_block_metadata_line(d,C,h,i):B)===k||l.$$is_boolean&&1!=l){if(K!==!1&&K!==k&&(L=d.$cursor()),M=d.$read_line(),N=!1,O=k,P=k,Q=k,(l=h["$[]"](1))===k||l.$$is_boolean&&1!=l||(l=a.to_ary(x.$parse_style_attribute(h,d)),I=null==l[0]?k:l[0],J=null==l[1]?k:l[1]),(l=R=x["$is_delimited_block?"](M,!0))===k||l.$$is_boolean&&1!=l||(N=!0,O=P=R.$context(),Q=R.$terminator(),(l=I["$!"]())===k||l.$$is_boolean&&1!=l?(l=I["$!="](O.$to_s()))===k||l.$$is_boolean&&1!=l||((l=R.$masq()["$include?"](I))===k||l.$$is_boolean&&1!=l?(m=R.$masq()["$include?"]("admonition"),(l=m!==!1&&m!==k?A.get("ADMONITION_STYLES")["$include?"](I):m)===k||l.$$is_boolean&&1!=l?(l=(m=E!==!1&&E!==k)?D["$registered_for_block?"](I,O):E)===k||l.$$is_boolean&&1!=l?(x.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for "+O+" block: "+I),I=O.$to_s()):O=I.$to_sym():O="admonition"):O=I.$to_sym()):I=h["$[]="]("style",O.$to_s())),N!==!1&&N!==k);else for(;(m=!0)!==k&&(!m.$$is_boolean||1==m);){if(n=(q=I!==!1&&I!==k)?A.get("Compliance").$strict_verbatim_paragraphs():I,(m=n!==!1&&n!==k?A.get("VERBATIM_STYLES")["$include?"](I):n)!==k&&(!m.$$is_boolean||1==m)){O=I.$to_sym(),d.$unshift_line(M);break}if(z!==!1&&z!==k);else{if(S=function(){return(m=A.get("Compliance").$markdown_syntax())===k||m.$$is_boolean&&1!=m?M.$chr():M.$lstrip().$chr()}(),q=A.get("LAYOUT_BREAK_LINES")["$has_key?"](S),n=q!==!1&&q!==k?e(M.$length(),3):q,!((m=n!==!1&&n!==k?function(){return(q=A.get("Compliance").$markdown_syntax())===k||q.$$is_boolean&&1!=q?A.get("LayoutBreakLineRx"):A.get("LayoutBreakLinePlusRx")}()["$=~"](M):n)===k||m.$$is_boolean&&1!=m)){H=A.get("Block").$new(g,A.get("LAYOUT_BREAK_LINES")["$[]"](S),o(["content_model"],{content_model:"empty"}));break}if(n=M["$end_with?"]("]"),!((m=n!==!1&&n!==k?T=A.get("MediaBlockMacroRx").$match(M):n)===k||m.$$is_boolean&&1!=m)){if(U=T["$[]"](1).$to_sym(),H=A.get("Block").$new(g,U,o(["content_model"],{content_model:"empty"})),V=U["$=="]("image")?["alt","width","height"]:U["$=="]("video")?["poster","width","height"]:[],((m=(n=I["$!"]())!==!1&&n!==k?n:J)===k||m.$$is_boolean&&1!=m)&&(U["$=="]("image")&&h["$[]="]("alt",I),h.$delete("style"),I=k),H.$parse_attributes(T["$[]"](3),V,o(["unescape_input","sub_input","sub_result","into"],{unescape_input:U["$=="]("image"),sub_input:!0,sub_result:!1,into:h})),W=H.$sub_attributes(T["$[]"](2),o(["attribute_missing"],{attribute_missing:"drop-line"})),(m=W["$empty?"]())!==k&&(!m.$$is_boolean||1==m))return C.$attributes().$fetch("attribute-missing",A.get("Compliance").$attribute_missing())["$=="]("skip")?A.get("Block").$new(g,"paragraph",o(["content_model","source"],{content_model:"simple",source:[M]})):(h.$clear(),k);h["$[]="]("target",W);break}if(!((m=(n=S["$=="]("t"))?T=A.get("TocBlockMacroRx").$match(M):S["$=="]("t"))===k||m.$$is_boolean&&1!=m)){H=A.get("Block").$new(g,"toc",o(["content_model"],{content_model:"empty"})),H.$parse_attributes(T["$[]"](1),[],o(["sub_result","into"],{sub_result:!1,into:h}));break}if(n=(q=F!==!1&&F!==k)?T=A.get("GenericBlockMacroRx").$match(M):F,(m=n!==!1&&n!==k?X=D["$registered_for_block_macro?"](T["$[]"](1)):n)!==k&&(!m.$$is_boolean||1==m)){if(W=T["$[]"](2),Y=T["$[]"](3),X.$config()["$[]"]("content_model")["$=="]("attributes")?((m=Y["$empty?"]())===k||m.$$is_boolean&&1!=m)&&C.$parse_attributes(Y,(m=X.$config()["$[]"]("pos_attrs"))!==!1&&m!==k?m:[],o(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:h})):h["$[]="]("text",Y),(m=Z=X.$config()["$[]"]("default_attrs"))===k||m.$$is_boolean&&1!=m||(m=(n=Z).$each,m.$$p=(r=function(a,b){var c,d,e;r.$$s||this;return null==a&&(a=k),null==b&&(b=k),c=a,d=h,(e=d["$[]"](c))!==!1&&e!==k?e:d["$[]="](c,b)},r.$$s=x,r),m).call(n),(m=H=X.$process_method()["$[]"](g,W,h.$dup()))===k||m.$$is_boolean&&1!=m)return h.$clear(),k;h.$replace(H.$attributes());break}}if(!((m=T=A.get("CalloutListRx").$match(M))===k||m.$$is_boolean&&1!=m)){for(H=A.get("List").$new(g,"colist"),h["$[]="]("style","arabic"),d.$unshift_line(M),$=1;(q=(s=T)!==!1&&s!==k?s:(t=d["$has_more_lines?"](),t!==!1&&t!==k?T=A.get("CalloutListRx").$match(d.$peek_line()):t))!==k&&(!q.$$is_boolean||1==q);)(q=T["$[]"](1).$to_i()["$!="]($))===k||q.$$is_boolean&&1!=q||x.$warn("asciidoctor: WARNING: "+d.$path()+": line "+f(d.$lineno(),2)+": callout list item index: expected "+$+" got "+T["$[]"](1)),_=x.$next_list_item(d,H,T),$=b($,1),_!==!1&&_!==k&&(H["$<<"](_),aa=C.$callouts().$callout_ids(H.$items().$size()),(q=aa["$empty?"]()["$!"]())===k||q.$$is_boolean&&1!=q?x.$warn("asciidoctor: WARNING: "+d.$path()+": line "+f(d.$lineno(),2)+": no callouts refer to list item "+H.$items().$size()):_.$attributes()["$[]="]("coids",aa)),T=k;C.$callouts().$next_list();break}if(!((m=A.get("UnorderedListRx")["$=~"](M))===k||m.$$is_boolean&&1!=m)){d.$unshift_line(M),H=x.$next_outline_list(d,"ulist",g);break}if(!((m=T=A.get("OrderedListRx").$match(M))===k||m.$$is_boolean&&1!=m)){d.$unshift_line(M),H=x.$next_outline_list(d,"olist",g),q=h["$[]"]("style")["$!"](),(m=q!==!1&&q!==k?H.$attributes()["$[]"]("style")["$!"]():q)===k||m.$$is_boolean&&1!=m||(ba=H.$items()["$[]"](0).$marker(),(m=ba["$start_with?"]("."))===k||m.$$is_boolean&&1!=m?(I=(m=(q=A.get("ORDERED_LIST_STYLES")).$detect,m.$$p=(u=function(a){u.$$s||this;return null==a&&(a=k),A.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](ba)},u.$$s=x,u),m).call(q),h["$[]="]("style",((m=I)!==!1&&m!==k?m:A.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s())):h["$[]="]("style",((m=A.get("ORDERED_LIST_STYLES")["$[]"](f(ba.$length(),1)))!==!1&&m!==k?m:A.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s()));break}if(!((m=T=A.get("DefinitionListRx").$match(M))===k||m.$$is_boolean&&1!=m)){d.$unshift_line(M),H=x.$next_labeled_list(d,T,g);break}if(s=(t=I["$=="]("float"))!==!1&&t!==k?t:I["$=="]("discrete"),!((m=s!==!1&&s!==k?x["$is_section_title?"](M,function(){return(t=A.get("Compliance").$underline_style_section_titles())===k||t.$$is_boolean&&1!=t?k:d.$peek_line(!0)}()):s)===k||m.$$is_boolean&&1!=m)){d.$unshift_line(M),m=a.to_ary(x.$parse_section_title(d,C)),ca=null==m[0]?k:m[0],da=null==m[1]?k:m[1],ea=null==m[2]?k:m[2],fa=null==m[3]?k:m[3],ga=null==m[4]?k:m[4],da!==!1&&da!==k&&h["$[]="]("reftext",da),(m=h["$has_key?"]("id"))===k||m.$$is_boolean&&1!=m||((m=ca)!==!1&&m!==k?m:ca=h["$[]"]("id")),H=A.get("Block").$new(g,"floating_title",o(["content_model"],{content_model:"empty"})),(m=ca["$nil_or_empty?"]())===k||m.$$is_boolean&&1!=m?(m=[ca],s=H,s["$id="].apply(s,m),m[m.length-1]):(ha=A.get("Section").$new(g),m=[ea],s=ha,s["$title="].apply(s,m),m[m.length-1],m=[ha.$generate_id()],s=H,s["$id="].apply(s,m),m[m.length-1]),m=[fa],s=H,s["$level="].apply(s,m),m[m.length-1],m=[ea],s=H,s["$title="].apply(s,m),m[m.length-1];break}if((m=(s=I!==!1&&I!==k)?I["$!="]("normal"):I)!==k&&(!m.$$is_boolean||1==m)){if(!((m=A.get("PARAGRAPH_STYLES")["$include?"](I))===k||m.$$is_boolean&&1!=m)){O=I.$to_sym(),P="paragraph",d.$unshift_line(M);break}if(!((m=A.get("ADMONITION_STYLES")["$include?"](I))===k||m.$$is_boolean&&1!=m)){O="admonition",P="paragraph",d.$unshift_line(M);break}if(!((m=(s=E!==!1&&E!==k)?D["$registered_for_block?"](I,"paragraph"):E)===k||m.$$is_boolean&&1!=m)){O=I.$to_sym(),P="paragraph",d.$unshift_line(M);break}x.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for paragraph: "+I),I=k}if(ia=(m=y["$=="](0))?G:y["$=="](0),s=I["$!="]("normal"),(m=s!==!1&&s!==k?A.get("LiteralParagraphRx")["$=~"](M):s)===k||m.$$is_boolean&&1!=m){if(d.$unshift_line(M),ja=x.$read_paragraph_lines(d,ia,o(["skip_line_comments"],{skip_line_comments:!0})),(m=ja["$empty?"]())!==k&&(!m.$$is_boolean||1==m))return d.$advance(),k;if(x.$catalog_inline_anchors(ja.$join(A.get("EOL")),C),ka=ja["$[]"](0),s=z["$!"](),(m=s!==!1&&s!==k?la=A.get("AdmonitionParagraphRx").$match(ka):s)===k||m.$$is_boolean&&1!=m)if(t=z["$!"](),s=t!==!1&&t!==k?A.get("Compliance").$markdown_syntax():t,(m=s!==!1&&s!==k?ka["$start_with?"]("> "):s)===k||m.$$is_boolean&&1!=m)if(t=z["$!"](),(m=t!==!1&&t!==k?x["$blockquote?"](ja,ka):t)===k||m.$$is_boolean&&1!=m)I["$=="]("normal")&&x["$adjust_indentation!"](ja),H=A.get("Block").$new(g,"paragraph",o(["content_model","source","attributes"],{content_model:"simple",source:ja,attributes:h}));else{for(ja["$[]="](0,ka["$[]"](p(1,-1,!1))),m=a.to_ary(ja.$pop()["$[]"](p(3,-1,!1)).$split(", ",2)),na=null==m[0]?k:m[0],oa=null==m[1]?k:m[1];(t=ja["$[]"](-1)["$empty?"]())!==k&&(!t.$$is_boolean||1==t);)ja.$pop();ja["$[]="](-1,ja["$[]"](-1).$chop()),h["$[]="]("style","quote"),na!==!1&&na!==k&&h["$[]="]("attribution",na),oa!==!1&&oa!==k&&h["$[]="]("citetitle",oa),H=A.get("Block").$new(g,"quote",o(["content_model","source","attributes"],{content_model:"simple",source:ja,attributes:h}))}else{if((m=(s=ja)["$map!"],m.$$p=(v=function(a){var b;v.$$s||this;return null==a&&(a=k),a["$=="](">")?a["$[]"](p(1,-1,!1)):(b=a["$start_with?"]("> "))===k||b.$$is_boolean&&1!=b?a:a["$[]"](p(2,-1,!1))},v.$$s=x,v),m).call(s),(m=ja["$[]"](-1)["$start_with?"]("-- "))===k||m.$$is_boolean&&1!=m)m=a.to_ary(k),na=null==m[0]?k:m[0],oa=null==m[1]?k:m[1];else for(m=a.to_ary(ja.$pop()["$[]"](p(3,-1,!1)).$split(", ",2)),na=null==m[0]?k:m[0],oa=null==m[1]?k:m[1];(t=ja["$[]"](-1)["$empty?"]())!==k&&(!t.$$is_boolean||1==t);)ja.$pop();h["$[]="]("style","quote"),na!==!1&&na!==k&&h["$[]="]("attribution",na),oa!==!1&&oa!==k&&h["$[]="]("citetitle",oa),H=x.$build_block("quote","compound",!1,g,A.get("Reader").$new(ja),h)}else ja["$[]="](0,la.$post_match().$lstrip()),h["$[]="]("style",la["$[]"](1)),h["$[]="]("name",ma=la["$[]"](1).$downcase()),m="caption",s=h,(t=s["$[]"](m))!==!1&&t!==k?t:s["$[]="](m,C.$attributes()["$[]"](""+ma+"-caption")),H=A.get("Block").$new(g,"admonition",o(["content_model","source","attributes"],{content_model:"simple",source:ja,attributes:h}))}else d.$unshift_line(M),ja=x.$read_paragraph_lines(d,ia,o(["skip_line_comments"],{skip_line_comments:z})),x["$adjust_indentation!"](ja),H=A.get("Block").$new(g,"literal",o(["content_model","source","attributes"],{content_model:"verbatim",source:ja,attributes:h})),G!==!1&&G!==k&&H.$set_option("listparagraph");break}if(m=H["$!"](),(l=m!==!1&&m!==k?O:m)!==k&&(!l.$$is_boolean||1==l))if((l=(m=O["$=="]("abstract"))!==!1&&m!==k?m:O["$=="]("partintro"))===k||l.$$is_boolean&&1!=l||(O="open"),pa=O,"admonition"["$==="](pa))h["$[]="]("name",ma=I.$downcase()),l="caption",m=h,(t=m["$[]"](l))!==!1&&t!==k?t:m["$[]="](l,C.$attributes()["$[]"](""+ma+"-caption")),H=x.$build_block(O,"compound",Q,g,d,h);else{if("comment"["$==="](pa))return x.$build_block(O,"skip",Q,g,d,h),k;if("example"["$==="](pa))H=x.$build_block(O,"compound",Q,g,d,h);else if("listing"["$==="](pa)||"fenced_code"["$==="](pa)||"source"["$==="](pa))O["$=="]("fenced_code")?(I=h["$[]="]("style","source"),l=a.to_ary(M["$[]"](p(3,-1,!1)).$tr(" ","").$split(",",2)),qa=null==l[0]?k:l[0],ra=null==l[1]?k:l[1],(l=qa["$nil_or_empty?"]()["$!"]())===k||l.$$is_boolean&&1!=l?(l=sa=C.$attributes()["$[]"]("source-language"))===k||l.$$is_boolean&&1!=l||h["$[]="]("language",sa):(h["$[]="]("language",qa),((l=ra["$nil_or_empty?"]())===k||l.$$is_boolean&&1!=l)&&h["$[]="]("linenums","")),m=h["$key?"]("indent")["$!"](),(l=m!==!1&&m!==k?C.$attributes()["$key?"]("source-indent"):m)===k||l.$$is_boolean&&1!=l||h["$[]="]("indent",C.$attributes()["$[]"]("source-indent")),Q=Q["$[]"](p(0,2,!1))):O["$=="]("source")&&(A.get("AttributeList").$rekey(h,[k,"language","linenums"]),((l=h["$key?"]("language"))===k||l.$$is_boolean&&1!=l)&&((l=sa=C.$attributes()["$[]"]("source-language"))===k||l.$$is_boolean&&1!=l||h["$[]="]("language",sa)),m=h["$key?"]("indent")["$!"](),(l=m!==!1&&m!==k?C.$attributes()["$key?"]("source-indent"):m)===k||l.$$is_boolean&&1!=l||h["$[]="]("indent",C.$attributes()["$[]"]("source-indent"))),H=x.$build_block("listing","verbatim",Q,g,d,h);else if("literal"["$==="](pa))H=x.$build_block(O,"verbatim",Q,g,d,h);else if("pass"["$==="](pa))H=x.$build_block(O,"raw",Q,g,d,h);else if("stem"["$==="](pa)||"latexmath"["$==="](pa)||"asciimath"["$==="](pa))O["$=="]("stem")&&h["$[]="]("style",function(){return(l=ta=h["$[]"](2))===k||l.$$is_boolean&&1!=l?(l=(ua=C.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===k||l.$$is_boolean&&1!=l?ua:"asciimath":(l=ta["$include?"]("tex"))===k||l.$$is_boolean&&1!=l?"asciimath":"latexmath"}()),H=x.$build_block("stem","raw",Q,g,d,h);else if("open"["$==="](pa)||"sidebar"["$==="](pa))H=x.$build_block(O,"compound",Q,g,d,h);else if("table"["$==="](pa))va=d.$cursor(),wa=A.get("Reader").$new(d.$read_lines_until(o(["terminator","skip_line_comments"],{terminator:Q,skip_line_comments:!0})),va),pa=Q.$chr(),","["$==="](pa)?h["$[]="]("format","csv"):":"["$==="](pa)&&h["$[]="]("format","dsv"),H=x.$next_table(wa,g,h);else if("quote"["$==="](pa)||"verse"["$==="](pa))A.get("AttributeList").$rekey(h,[k,"attribution","citetitle"]),H=x.$build_block(O,function(){return O["$=="]("verse")?"verbatim":"compound"}(),Q,g,d,h);else if((l=(m=E!==!1&&E!==k)?X=D["$registered_for_block?"](O,P):E)===k||l.$$is_boolean&&1!=l)x.$raise("Unsupported block type "+O+" at "+d.$line_info());else if((l=(xa=X.$config()["$[]"]("content_model"))["$!="]("skip"))===k||l.$$is_boolean&&1!=l||((l=(ya=(m=X.$config()["$[]"]("pos_attrs"))!==!1&&m!==k?m:[])["$empty?"]()["$!"]())===k||l.$$is_boolean&&1!=l||A.get("AttributeList").$rekey(h,[k].$concat(ya)),(l=Z=X.$config()["$[]"]("default_attrs"))===k||l.$$is_boolean&&1!=l||(l=(m=Z).$each,l.$$p=(w=function(a,b){var c,d,e;w.$$s||this;return null==a&&(a=k),null==b&&(b=k),c=a,d=h,(e=d["$[]"](c))!==!1&&e!==k?e:d["$[]="](c,b)},w.$$s=x,w),l).call(m)),H=x.$build_block(O,xa,Q,g,d,h,o(["extension"],{extension:X})),(l=(t=H!==!1&&H!==k)?xa["$!="]("skip"):H)===k||l.$$is_boolean&&1!=l)return h.$clear(),k}}else d.$advance();return H!==!1&&H!==k&&(L!==!1&&L!==k&&(j=[L],l=H,l["$source_location="].apply(l,j),j[j.length-1]),((j=H["$title?"]())===k||j.$$is_boolean&&1!=j)&&(j=[h["$[]"]("title")],l=H,l["$title="].apply(l,j),j[j.length-1]),H.$context()["$=="]("image")?(za=h["$[]"]("target"),H.$document().$register("images",za),j="alt",l=h,(t=l["$[]"](j))!==!1&&t!==k?t:l["$[]="](j,A.get("Helpers").$basename(za,!0).$tr("_-"," ")),h["$[]="]("alt",H.$sub_specialchars(h["$[]"]("alt"))),H.$assign_caption(h.$delete("caption"),"figure"),(j=Aa=h["$[]"]("scaledwidth"))===k||j.$$is_boolean&&1!=j||(j=p(48,57,!1)["$include?"](((l=Aa["$[]"](-1))!==!1&&l!==k?l:0).$ord()))===k||j.$$is_boolean&&1!=j||h["$[]="]("scaledwidth",""+Aa+"%")):(j=H,(l=j.$caption())!==!1&&l!==k?l:j["$caption="](h.$delete("caption"))),j=[h["$[]"]("style")],l=H,l["$style="].apply(l,j),j[j.length-1],l=H,(j=Ba=(t=l.$id())!==!1&&t!==k?t:l["$id="](h["$[]"]("id")))===k||j.$$is_boolean&&1!=j||C.$register("ids",[Ba,(j=h["$[]"]("reftext"))!==!1&&j!==k?j:function(){return(l=H["$title?"]())===k||l.$$is_boolean&&1!=l?k:H.$title()}()]),((j=h["$empty?"]())===k||j.$$is_boolean&&1!=j)&&H.$attributes().$update(h),H.$lock_in_subs(),(j=H["$sub?"]("callouts"))===k||j.$$is_boolean&&1!=j||((j=x.$catalog_callouts(H.$source(),C))===k||j.$$is_boolean&&1!=j)&&H.$remove_sub("callouts")),H}),a.defs(z,"$blockquote?",function(a,b){var d,e,f,g;return null==b&&(b=k),e=(f=c(a.$size(),1))?((g=b)!==!1&&g!==k?g:a["$[]"](0))["$start_with?"]('"'):c(a.$size(),1),d=e!==!1&&e!==k?a["$[]"](-1)["$start_with?"]("-- "):e,d!==!1&&d!==k?a["$[]"](-2)["$end_with?"]('"'):d}),a.defs(z,"$read_paragraph_lines",function(a,b,c){var d,e,f=k;return null==c&&(c=o([],{})),c["$[]="]("break_on_blank_lines",!0),c["$[]="]("break_on_list_continuation",!0),c["$[]="]("preserve_last_line",!0),f=function(){return b!==!1&&b!==k?function(){return(d=A.get("Compliance").$block_terminates_paragraph())===k||d.$$is_boolean&&1!=d?A.get("StartOfListProc"):A.get("StartOfBlockOrListProc")}():function(){return(d=A.get("Compliance").$block_terminates_paragraph())===k||d.$$is_boolean&&1!=d?A.get("NoOp"):A.get("StartOfBlockProc")}()}(),(d=(e=a).$read_lines_until,d.$$p=f.$to_proc(),d).call(e,c)}),a.defs(z,"$is_delimited_block?",function(b,e){var i,j,l=k,m=k,n=k,o=k,q=k,r=k,s=k;if(null==e&&(e=!1),(i=(j=c(l=b.$length(),1))?A.get("DELIMITED_BLOCK_LEADERS")["$include?"](b["$[]"](p(0,1,!1))):c(l=b.$length(),1))===k||i.$$is_boolean&&1!=i)return k;if(l["$=="](2))m=b,n=2;else{if(g(l,4)?(m=b,n=l):(m=b["$[]"](p(0,3,!1)),n=4),o=!1,(i=A.get("Compliance").$markdown_syntax())!==k&&(!i.$$is_boolean||1==i)&&(q=function(){return n["$=="](4)?m.$chop():m}(),q["$=="]("```"))){if((i=(j=n["$=="](4))?m["$end_with?"]("`"):n["$=="](4))!==k&&(!i.$$is_boolean||1==i))return k;m=q,n=3,o=!0}if((i=(j=n["$=="](3))?o["$!"]():n["$=="](3))!==k&&(!i.$$is_boolean||1==i))return k}return(i=A.get("DELIMITED_BLOCKS")["$has_key?"](m))===k||i.$$is_boolean&&1!=i?k:(i=(j=h(n,4))!==!1&&j!==k?j:n["$=="](l))===k||i.$$is_boolean&&1!=i?(""+m+d(m["$[]"](p(-1,-1,!1)),f(l,n)))["$=="](b)?e!==!1&&e!==k?(i=a.to_a(A.get("DELIMITED_BLOCKS")["$[]"](m)),r=null==i[0]?k:i[0],s=null==i[1]?k:i[1],A.get("BlockMatchData").$new(r,s,m,b)):!0:k:e!==!1&&e!==k?(i=a.to_a(A.get("DELIMITED_BLOCKS")["$[]"](m)),r=null==i[0]?k:i[0],s=null==i[1]?k:i[1],A.get("BlockMatchData").$new(r,s,m,m)):!0}),a.defs(z,"$build_block",function(a,b,d,e,f,g,h){var i,j,l=this,m=k,n=k,p=k,q=k,r=k,s=k,t=k,u=k,v=k;if(null==h&&(h=o([],{})),(i=(j=b["$=="]("skip"))!==!1&&j!==k?j:b["$=="]("raw"))===k||i.$$is_boolean&&1!=i?(m=!1,n=b):(m=b["$=="]("skip"),n="simple"),(i=d["$nil?"]())===k||i.$$is_boolean&&1!=i?(i=n["$!="]("compound"))===k||i.$$is_boolean&&1!=i?d["$=="](!1)?(p=k,q=f):(p=k,r=f.$cursor(),q=A.get("Reader").$new(f.$read_lines_until(o(["terminator","skip_processing"],{terminator:d,skip_processing:m})),r)):(p=f.$read_lines_until(o(["terminator","skip_processing"],{terminator:d,skip_processing:m})),q=k):(n["$=="]("verbatim")?p=f.$read_lines_until(o(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),p=l.$read_paragraph_lines(f,!1,o(["skip_line_comments","skip_processing"],{
skip_line_comments:!0,skip_processing:!0}))),q=k),b["$=="]("skip"))return g.$clear(),p;if(b["$=="]("verbatim")&&((i=s=g["$[]"]("indent"))===k||i.$$is_boolean&&1!=i?c(t=((i=g["$[]"]("tabsize"))!==!1&&i!==k?i:e.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)&&l["$adjust_indentation!"](p,k,t):l["$adjust_indentation!"](p,s,(i=g["$[]"]("tabsize"))!==!1&&i!==k?i:e.$document().$attributes()["$[]"]("tabsize"))),(i=u=h["$[]"]("extension"))===k||i.$$is_boolean&&1!=i)v=A.get("Block").$new(e,a,o(["content_model","source","attributes"],{content_model:b,source:p,attributes:g}));else{if(g.$delete("style"),(i=v=u.$process_method()["$[]"](e,(j=q)!==!1&&j!==k?j:A.get("Reader").$new(p),g.$dup()))===k||i.$$is_boolean&&1!=i)return k;g.$replace(v.$attributes()),(i=(j=v.$content_model()["$=="]("compound"))?(p=v.$lines())["$nil_or_empty?"]()["$!"]():v.$content_model()["$=="]("compound"))===k||i.$$is_boolean&&1!=i||(b="compound",q=A.get("Reader").$new(p))}return j=g["$has_key?"]("title"),(i=j!==!1&&j!==k?v.$document()["$attr?"](""+v.$context()+"-caption"):j)===k||i.$$is_boolean&&1!=i||(i=[g.$delete("title")],j=v,j["$title="].apply(j,i),i[i.length-1],v.$assign_caption(g.$delete("caption"))),b["$=="]("compound")&&l.$parse_blocks(q,v),v}),a.defs(z,"$parse_blocks",function(a,b){for(var c,d=k;(c=a["$has_more_lines?"]())!==k&&(!c.$$is_boolean||1==c);)d=A.get("Parser").$next_block(a,b),d!==!1&&d!==k&&b["$<<"](d)}),a.defs(z,"$next_outline_list",function(a,d,e){var f,g,i,j=this,l=k,m=k,n=k,o=k,p=k,q=k;for(l=A.get("List").$new(e,d),e.$context()["$=="](d)?(f=[b(e.$level(),1)],g=l,g["$level="].apply(g,f),f[f.length-1]):(f=[1],g=l,g["$level="].apply(g,f),f[f.length-1]);i=a["$has_more_lines?"](),(g=i!==!1&&i!==k?m=A.get("ListRxMap")["$[]"](d).$match(a.$peek_line()):i)!==k&&(!g.$$is_boolean||1==g);){if(n=j.$resolve_list_marker(d,m["$[]"](1)),i=l["$items?"](),(g=i!==!1&&i!==k?n["$!="](l.$items()["$[]"](0).$marker()):i)===k||g.$$is_boolean&&1!=g)o=l.$level();else for(o=b(l.$level(),1),p=e;p.$context()["$=="](d);){if(n["$=="](p.$items()["$[]"](0).$marker())){o=p.$level();break}p=p.$parent()}if((g=(i=l["$items?"]()["$!"]())!==!1&&i!==k?i:o["$=="](l.$level()))===k||g.$$is_boolean&&1!=g){if(h(o,l.$level()))break;c(o,l.$level())&&l.$items()["$[]"](-1)["$<<"](j.$next_block(a,l))}else q=j.$next_list_item(a,l,m);q!==!1&&q!==k&&l["$<<"](q),q=k,a.$skip_blank_lines()}return l}),a.defs(z,"$catalog_callouts",function(a,b){var c,d,e,f=this,g=k;return g=!1,(c=a["$include?"]("<"))===k||c.$$is_boolean&&1!=c||(c=(d=a).$scan,c.$$p=(e=function(){var a,c=(e.$$s||this,k);return null==q["~"]&&(q["~"]=k),c=q["~"],(a=c["$[]"](0).$chr()["$!="]("\\"))===k||a.$$is_boolean&&1!=a||b.$callouts().$register(c["$[]"](2)),g=!0},e.$$s=f,e),c).call(d,A.get("CalloutQuickScanRx")),g}),a.defs(z,"$catalog_inline_anchors",function(a,b){var c,d,e,f=this;return(c=a["$include?"]("["))===k||c.$$is_boolean&&1!=c||(c=(d=a).$scan,c.$$p=(e=function(){var a,c=(e.$$s||this,k),d=k,f=k;return null==q["~"]&&(q["~"]=k),c=q["~"],(a=c["$[]"](0)["$start_with?"]("\\"))===k||a.$$is_boolean&&1!=a?(d=(a=c["$[]"](1))!==!1&&a!==k?a:c["$[]"](3),f=(a=c["$[]"](2))!==!1&&a!==k?a:c["$[]"](4),b.$register("ids",[d,f])):k},e.$$s=f,e),c).call(d,A.get("InlineAnchorRx")),k}),a.defs(z,"$next_labeled_list",function(b,c,d){var e,f,g,h=this,i=k,j=k,l=k,m=k,n=k;for(i=A.get("List").$new(d,"dlist"),j=k,l=A.get("DefinitionListSiblingRx")["$[]"](c["$[]"](2));(e=(f=c)!==!1&&f!==k?f:(g=b["$has_more_lines?"](),g!==!1&&g!==k?c=l.$match(b.$peek_line()):g))!==k&&(!e.$$is_boolean||1==e);)e=a.to_ary(h.$next_list_item(b,i,c,l)),m=null==e[0]?k:e[0],n=null==e[1]?k:e[1],(e=(f=j!==!1&&j!==k)?j["$[]"](-1)["$!"]():j)===k||e.$$is_boolean&&1!=e?i.$items()["$<<"](j=[[m],n]):(j.$pop(),j["$[]"](0)["$<<"](m),j["$<<"](n)),c=k;return i}),a.defs(z,"$next_list_item",function(a,b,c,d){var e,f,g=this,h=k,i=k,j=k,l=k,m=k,n=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k;if(null==d&&(d=k),(h=b.$context())["$=="]("dlist")?(i=A.get("ListItem").$new(b,c["$[]"](1)),j=A.get("ListItem").$new(b,c["$[]"](3)),l=c["$[]"](3)["$nil_or_empty?"]()["$!"]()):(m=c["$[]"](2),n=!1,(e=(f=h["$=="]("ulist"))?m["$start_with?"]("["):h["$=="]("ulist"))===k||e.$$is_boolean&&1!=e||((e=m["$start_with?"]("[ ] "))===k||e.$$is_boolean&&1!=e?(e=(f=m["$start_with?"]("[x] "))!==!1&&f!==k?f:m["$start_with?"]("[*] "))===k||e.$$is_boolean&&1!=e||(n=!0,q=!0,m=m["$[]"](p(3,-1,!1)).$lstrip()):(n=!0,q=!1,m=m["$[]"](p(3,-1,!1)).$lstrip())),j=A.get("ListItem").$new(b,m),n!==!1&&n!==k&&(b.$attributes()["$[]="]("checklist-option",""),j.$attributes()["$[]="]("checkbox",""),q!==!1&&q!==k&&j.$attributes()["$[]="]("checked","")),(e=d)!==!1&&e!==k?e:d=g.$resolve_list_marker(h,c["$[]"](1),b.$items().$size(),!0,a),e=[d],f=j,f["$marker="].apply(f,e),e[e.length-1],l=!0),a.$advance(),r=a.$cursor(),s=A.get("Reader").$new(g.$read_lines_for_list_item(a,h,d,l),r),(e=s["$has_more_lines?"]())!==k&&(!e.$$is_boolean||1==e)){for(t=s.$skip_line_comments(),u=s.$peek_line(),((e=t["$empty?"]())===k||e.$$is_boolean&&1!=e)&&s.$unshift_lines(t),(e=u["$nil?"]()["$!"]())===k||e.$$is_boolean&&1!=e?(v=!1,w=!1):(v=u["$empty?"](),f=v["$!"](),(e=f!==!1&&f!==k?h["$!="]("dlist"):f)===k||e.$$is_boolean&&1!=e||(l=!1),e=v["$!"](),w=e!==!1&&e!==k?u["$empty?"]()["$!"]():e),x=o(["text"],{text:l["$!"]()});(f=s["$has_more_lines?"]())!==k&&(!f.$$is_boolean||1==f);)(f=y=g.$next_block(s,j,o([],{}),x))===k||f.$$is_boolean&&1!=f||j["$<<"](y);j.$fold_first(v,w)}return h["$=="]("dlist")?(((e=(f=j["$text?"]())!==!1&&f!==k?f:j["$blocks?"]())===k||e.$$is_boolean&&1!=e)&&(j=k),[i,j]):j}),a.defs(z,"$read_lines_for_list_item",function(a,b,c,d){var e,f,g,h,i,j,l,m,n,p,r,s,t,u=this,v=k,w=k,x=k,y=k,z=k,B=k,C=k,D=k;for(null==q["~"]&&(q["~"]=k),null==c&&(c=k),null==d&&(d=!0),v=[],w="inactive",x=!1,y=k;(f=a["$has_more_lines?"]())!==k&&(!f.$$is_boolean||1==f)&&(z=a.$read_line(),(f=u["$is_sibling_list_item?"](z,b,c))===k||f.$$is_boolean&&1!=f);)if(B=function(){return(f=v["$empty?"]())===k||f.$$is_boolean&&1!=f?v["$[]"](-1):k}(),B["$=="](A.get("LIST_CONTINUATION"))&&(w["$=="]("inactive")&&(w="active",d=!0,x!==!1&&x!==k||v["$[]="](-1,"")),z["$=="](A.get("LIST_CONTINUATION"))))(f=w["$!="]("frozen"))===k||f.$$is_boolean&&1!=f||(w="frozen",v["$<<"](z)),z=k;else{if((f=C=u["$is_delimited_block?"](z,!0))===k||f.$$is_boolean&&1!=f){if(g=(h=b["$=="]("dlist"))?w["$!="]("active"):b["$=="]("dlist"),!((f=g!==!1&&g!==k?A.get("BlockAttributeLineRx")["$=~"](z):g)===k||f.$$is_boolean&&1!=f))break;if((f=(g=w["$=="]("active"))?z["$empty?"]()["$!"]():w["$=="]("active"))===k||f.$$is_boolean&&1!=f)if(h=B["$nil?"]()["$!"](),(f=h!==!1&&h!==k?B["$empty?"]():h)===k||f.$$is_boolean&&1!=f)(f=z["$empty?"]()["$!"]())===k||f.$$is_boolean&&1!=f||(d=!0),(f=D=(r=(s=function(){return x!==!1&&x!==k?["dlist"]:A.get("NESTABLE_LIST_CONTEXTS")}()).$detect,r.$$p=(t=function(a){t.$$s||this;return null==a&&(a=k),A.get("ListRxMap")["$[]"](a)["$=~"](z)},t.$$s=u,t),r).call(s))===k||f.$$is_boolean&&1!=f||(x=!0,(f=(r=D["$=="]("dlist"))?q["~"]["$[]"](3)["$nil_or_empty?"]():D["$=="]("dlist"))===k||f.$$is_boolean&&1!=f||(d=!1)),v["$<<"](z);else{if(!((f=z["$empty?"]())===k||f.$$is_boolean&&1!=f||(a.$skip_blank_lines(),z=a.$read_line(),(f=(h=z["$nil?"]())!==!1&&h!==k?h:u["$is_sibling_list_item?"](z,b,c))===k||f.$$is_boolean&&1!=f)))break;if(z["$=="](A.get("LIST_CONTINUATION")))y=v.$size(),v["$<<"](z);else if(d!==!1&&d!==k){if(!((f=u["$is_sibling_list_item?"](z,b,c))===k||f.$$is_boolean&&1!=f))break;if((f=D=(h=(m=A.get("NESTABLE_LIST_CONTEXTS")).$detect,h.$$p=(n=function(a){n.$$s||this;return null==a&&(a=k),A.get("ListRxMap")["$[]"](a)["$=~"](z)},n.$$s=u,n),h).call(m))===k||f.$$is_boolean&&1!=f){if((f=A.get("LiteralParagraphRx")["$=~"](z))===k||f.$$is_boolean&&1!=f)break;a.$unshift_line(z),v.$concat((f=(h=a).$read_lines_until,f.$$p=(p=function(a){var d,e=p.$$s||this;return null==a&&(a=k),(d=b["$=="]("dlist"))?e["$is_sibling_list_item?"](a,b,c):b["$=="]("dlist")},p.$$s=u,p),f).call(h,o(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}else v["$<<"](z),x=!0,(f=(h=D["$=="]("dlist"))?q["~"]["$[]"](3)["$nil_or_empty?"]():D["$=="]("dlist"))===k||f.$$is_boolean&&1!=f||(d=!1)}else x!==!1&&x!==k||v.$pop(),v["$<<"](z),d=!0}else(f=A.get("LiteralParagraphRx")["$=~"](z))===k||f.$$is_boolean&&1!=f?(f=(h=(j=A.get("BlockTitleRx")["$=~"](z))!==!1&&j!==k?j:A.get("BlockAttributeLineRx")["$=~"](z))!==!1&&h!==k?h:A.get("AttributeEntryRx")["$=~"](z))===k||f.$$is_boolean&&1!=f?((f=D=(h=(j=function(){return x!==!1&&x!==k?["dlist"]:A.get("NESTABLE_LIST_CONTEXTS")}()).$detect,h.$$p=(l=function(a){l.$$s||this;return null==a&&(a=k),A.get("ListRxMap")["$[]"](a)["$=~"](z)},l.$$s=u,l),h).call(j))===k||f.$$is_boolean&&1!=f||(x=!0,(f=(h=D["$=="]("dlist"))?q["~"]["$[]"](3)["$nil_or_empty?"]():D["$=="]("dlist"))===k||f.$$is_boolean&&1!=f||(d=!1)),v["$<<"](z),w="inactive"):v["$<<"](z):(a.$unshift_line(z),v.$concat((f=(g=a).$read_lines_until,f.$$p=(i=function(a){var d,e=i.$$s||this;return null==a&&(a=k),(d=b["$=="]("dlist"))?e["$is_sibling_list_item?"](a,b,c):b["$=="]("dlist")},i.$$s=u,i),f).call(g,o(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),w="inactive")}else{if(!w["$=="]("active"))break;v["$<<"](z),v.$concat(a.$read_lines_until(o(["terminator","read_last_line"],{terminator:C.$terminator(),read_last_line:!0}))),w="inactive"}z=k}for(z!==!1&&z!==k&&a.$unshift_line(z),y!==!1&&y!==k&&v.$delete_at(y);r=v["$empty?"]()["$!"](),(f=r!==!1&&r!==k?v["$[]"](-1)["$empty?"]():r)!==k&&(!f.$$is_boolean||1==f);)v.$pop();return f=v["$empty?"]()["$!"](),(e=f!==!1&&f!==k?v["$[]"](-1)["$=="](A.get("LIST_CONTINUATION")):f)===k||e.$$is_boolean&&1!=e||v.$pop(),v}),a.defs(z,"$initialize_section",function(b,c,d){var e,f,g=this,h=k,i=k,j=k,l=k,m=k,n=k,p=k,q=k,r=k,s=k;return null==d&&(d=o([],{})),h=c.$document(),(e=h.$sourcemap())===k||e.$$is_boolean&&1!=e||(i=b.$cursor()),e=a.to_ary(g.$parse_section_title(b,h)),j=null==e[0]?k:e[0],l=null==e[1]?k:e[1],m=null==e[2]?k:e[2],n=null==e[3]?k:e[3],p=null==e[4]?k:e[4],l!==!1&&l!==k&&d["$[]="]("reftext",l),q=A.get("Section").$new(c,n,h.$attributes()["$has_key?"]("sectnums")),i!==!1&&i!==k&&(e=[i],f=q,f["$source_location="].apply(f,e),e[e.length-1]),e=[j],f=q,f["$id="].apply(f,e),e[e.length-1],e=[m],f=q,f["$title="].apply(f,e),e[e.length-1],(e=d["$[]"](1))===k||e.$$is_boolean&&1!=e?(e=(f=m.$downcase()["$=="]("synopsis"))?h.$doctype()["$=="]("manpage"):m.$downcase()["$=="]("synopsis"))===k||e.$$is_boolean&&1!=e?(e=["sect"+q.$level()],f=q,f["$sectname="].apply(f,e),e[e.length-1]):(e=[!0],f=q,f["$special="].apply(f,e),e[e.length-1],e=["synopsis"],f=q,f["$sectname="].apply(f,e),e[e.length-1]):(e=a.to_ary(g.$parse_style_attribute(d,b)),r=null==e[0]?k:e[0],p=null==e[1]?k:e[1],r!==!1&&r!==k?(e=[r],f=q,f["$sectname="].apply(f,e),e[e.length-1],e=[!0],f=q,f["$special="].apply(f,e),e[e.length-1],(e=(f=q.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):q.$sectname()["$=="]("abstract"))===k||e.$$is_boolean&&1!=e||(e=["sect1"],f=q,f["$sectname="].apply(f,e),e[e.length-1],e=[!1],f=q,f["$special="].apply(f,e),e[e.length-1],e=[1],f=q,f["$level="].apply(f,e),e[e.length-1])):(e=["sect"+q.$level()],f=q,f["$sectname="].apply(f,e),e[e.length-1])),f=q.$id()["$!"](),(e=f!==!1&&f!==k?s=d["$[]"]("id"):f)===k||e.$$is_boolean&&1!=e?(e=q,(f=e.$id())!==!1&&f!==k?f:e["$id="](q.$generate_id())):(e=[s],f=q,f["$id="].apply(f,e),e[e.length-1]),(e=q.$id())===k||e.$$is_boolean&&1!=e||q.$document().$register("ids",[q.$id(),(e=d["$[]"]("reftext"))!==!1&&e!==k?e:q.$title()]),q.$update_attributes(d),b.$skip_blank_lines(),q}),a.defs(z,"$section_level",function(a){return A.get("SECTION_LEVELS")["$[]"](a.$chr())}),a.defs(z,"$single_line_section_level",function(a){return f(a.$length(),1)}),a.defs(z,"$is_next_line_section?",function(b,c){var d,e,f,g,h=this,i=k,j=k;return f=(i=c["$[]"](1))["$nil?"]()["$!"](),e=f!==!1&&f!==k?(g=(j=i["$[]"](0).$ord())["$=="](100))!==!1&&g!==k?g:j["$=="](102):f,(d=e!==!1&&e!==k?i["$=~"](A.get("FloatingTitleStyleRx")):e)===k||d.$$is_boolean&&1!=d?(d=b["$has_more_lines?"]())===k||d.$$is_boolean&&1!=d?!1:(d=A.get("Compliance").$underline_style_section_titles())===k||d.$$is_boolean&&1!=d?h["$is_section_title?"](b.$peek_line()):(d=h)["$is_section_title?"].apply(d,a.to_a(b.$peek_lines(2))):!1}),a.defs(z,"$is_next_line_document_title?",function(a,b){var c=this;return c["$is_next_line_section?"](a,b)["$=="](0)}),a.defs(z,"$is_section_title?",function(a,b){var c,d,e=this,f=k;return null==b&&(b=k),((c=f=e["$is_single_line_section_title?"](a))===k||c.$$is_boolean&&1!=c)&&((c=(d=b!==!1&&b!==k)?f=e["$is_two_line_section_title?"](a,b):b)===k||c.$$is_boolean&&1!=c)?!1:f}),a.defs(z,"$is_single_line_section_title?",function(a){var b,c,d,e,f=this,g=k,h=k;return g=function(){return a!==!1&&a!==k?a.$chr():k}(),c=(d=g["$=="]("="))!==!1&&d!==k?d:(e=A.get("Compliance").$markdown_syntax(),e!==!1&&e!==k?g["$=="]("#"):e),(b=c!==!1&&c!==k?h=A.get("AtxSectionRx").$match(a):c)===k||b.$$is_boolean&&1!=b?!1:f.$single_line_section_level(h["$[]"](1))}),a.defs(z,"$is_two_line_section_title?",function(a,b){var c,d,e,h,i,j,l=this;return i=(j=a!==!1&&a!==k)?b:a,h=i!==!1&&i!==k?A.get("SECTION_LEVELS")["$has_key?"](b.$chr()):i,e=h!==!1&&h!==k?b["$=~"](A.get("SetextSectionLineRx")):h,d=e!==!1&&e!==k?a["$=~"](A.get("SetextSectionTitleRx")):e,(c=d!==!1&&d!==k?g(f(l.$line_length(a),l.$line_length(b)).$abs(),1):d)===k||c.$$is_boolean&&1!=c?!1:l.$section_level(b)}),a.defs(z,"$parse_section_title",function(a,c){var d,h,i,j,l,m=this,n=k,o=k,p=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k;return n=a.$read_line(),o=k,p=k,q=-1,r=k,s=!0,t=n.$chr(),h=(i=t["$=="]("="))!==!1&&i!==k?i:(j=A.get("Compliance").$markdown_syntax(),j!==!1&&j!==k?t["$=="]("#"):j),(d=h!==!1&&h!==k?u=A.get("AtxSectionRx").$match(n):h)===k||d.$$is_boolean&&1!=d?(d=A.get("Compliance").$underline_style_section_titles())===k||d.$$is_boolean&&1!=d||(l=w=a.$peek_line(!0),j=l!==!1&&l!==k?A.get("SECTION_LEVELS")["$has_key?"](w.$chr()):l,i=j!==!1&&j!==k?w["$=~"](A.get("SetextSectionLineRx")):j,h=i!==!1&&i!==k?x=A.get("SetextSectionTitleRx").$match(n):i,(d=h!==!1&&h!==k?g(f(m.$line_length(n),m.$line_length(w)).$abs(),1):h)===k||d.$$is_boolean&&1!=d||(p=x["$[]"](1),h=p["$end_with?"]("]]"),(d=h!==!1&&h!==k?v=A.get("InlineSectionAnchorRx").$match(p):h)===k||d.$$is_boolean&&1!=d||(d=v["$[]"](2)["$nil?"]())===k||d.$$is_boolean&&1!=d||(p=v["$[]"](1),o=v["$[]"](3),r=v["$[]"](4)),q=m.$section_level(w),s=!1,a.$advance())):(q=m.$single_line_section_level(u["$[]"](1)),p=u["$[]"](2),h=p["$end_with?"]("]]"),(d=h!==!1&&h!==k?v=A.get("InlineSectionAnchorRx").$match(p):h)===k||d.$$is_boolean&&1!=d||(d=v["$[]"](2)["$nil?"]())===k||d.$$is_boolean&&1!=d||(p=v["$[]"](1),o=v["$[]"](3),r=v["$[]"](4))),e(q,0)&&(q=b(q,c.$attr("leveloffset",0).$to_i())),[o,r,p,q,s]}),a.defs(z,"$line_length",function(a){var b;return(b=A.get("FORCE_UNICODE_LINE_LENGTH"))===k||b.$$is_boolean&&1!=b?a.$length():a.$scan(A.get("UnicodeCharScanRx")).$length()}),a.defs(z,"$parse_header_metadata",function(d,e){var f,g,h,i,j,l,m=this,n=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k,z=k;if(null==e&&(e=k),m.$process_attribute_entries(d,e),n=o([],{}),q=k,r=k,g=d["$has_more_lines?"](),(f=g!==!1&&g!==k?d["$next_line_empty?"]()["$!"]():g)===k||f.$$is_boolean&&1!=f||(s=m.$process_authors(d.$read_line()),((f=s["$empty?"]())===k||f.$$is_boolean&&1!=f)&&(e!==!1&&e!==k&&((f=(g=s).$each,f.$$p=(h=function(b,c){var d;h.$$s||this;return null==b&&(b=k),null==c&&(c=k),(d=e.$attributes()["$has_key?"](b))===k||d.$$is_boolean&&1!=d?e.$attributes()["$[]="](b,function(){return(d=c["$is_a?"](a.get("String")))===k||d.$$is_boolean&&1!=d?c:e.$apply_header_subs(c)}()):k},h.$$s=m,h),f).call(g),q=e.$attributes()["$[]"]("author"),r=e.$attributes()["$[]"]("authors")),n=s),m.$process_attribute_entries(d,e),t=o([],{}),i=d["$has_more_lines?"](),(f=i!==!1&&i!==k?d["$next_line_empty?"]()["$!"]():i)===k||f.$$is_boolean&&1!=f||(u=d.$read_line(),(f=v=A.get("RevisionInfoLineRx").$match(u))===k||f.$$is_boolean&&1!=f?d.$unshift_line(u):((f=v["$[]"](1))===k||f.$$is_boolean&&1!=f||t["$[]="]("revnumber",v["$[]"](1).$rstrip()),(w=v["$[]"](2).$strip())["$=="]("")||(i=v["$[]"](1)["$!"](),(f=i!==!1&&i!==k?w["$start_with?"]("v"):i)===k||f.$$is_boolean&&1!=f?t["$[]="]("revdate",w):t["$[]="]("revnumber",w["$[]"](p(1,-1,!1)))),(f=v["$[]"](3))===k||f.$$is_boolean&&1!=f||t["$[]="]("revremark",v["$[]"](3).$rstrip()))),((f=t["$empty?"]())===k||f.$$is_boolean&&1!=f)&&(e!==!1&&e!==k&&(f=(i=t).$each,f.$$p=(j=function(a,b){var c;j.$$s||this;return null==a&&(a=k),null==b&&(b=k),(c=e.$attributes()["$has_key?"](a))===k||c.$$is_boolean&&1!=c?e.$attributes()["$[]="](a,e.$apply_header_subs(b)):k},j.$$s=m,j),f).call(i),n.$update(t)),m.$process_attribute_entries(d,e),d.$skip_blank_lines()),e!==!1&&e!==k){if(s=k,l=e.$attributes()["$has_key?"]("author"),(f=l!==!1&&l!==k?(x=e.$attributes()["$[]"]("author"))["$!="](q):l)===k||f.$$is_boolean&&1!=f)if(l=e.$attributes()["$has_key?"]("authors"),(f=l!==!1&&l!==k?(x=e.$attributes()["$[]"]("authors"))["$!="](r):l)===k||f.$$is_boolean&&1!=f){for(y=[],z="author_"+b(y.$size(),1);(l=e.$attributes()["$has_key?"](z))!==k&&(!l.$$is_boolean||1==l);)y["$<<"](e.$attributes()["$[]"](z)),z="author_"+b(y.$size(),1);y.$size()["$=="](1)?s=m.$process_authors(y["$[]"](0),!0,!1):c(y.$size(),1)&&(s=m.$process_authors(y.$join("; "),!0))}else s=m.$process_authors(x,!0);else s=m.$process_authors(x,!0,!1);s!==!1&&s!==k&&(e.$attributes().$update(s),l=e.$attributes()["$has_key?"]("email")["$!"](),(f=l!==!1&&l!==k?e.$attributes()["$has_key?"]("email_1"):l)===k||f.$$is_boolean&&1!=f||e.$attributes()["$[]="]("email",e.$attributes()["$[]"]("email_1")))}return n}),a.defs(z,"$process_authors",function(a,c,d){var e,f,g,h,i,j=this,l=k,m=k,n=k;return null==c&&(c=!1),null==d&&(d=!0),l=o([],{}),m=["author","authorinitials","firstname","middlename","lastname","email"],n=function(){return d!==!1&&d!==k?(e=(f=a.$split(";")).$map,e.$$p=(g=function(a){g.$$s||this;return null==a&&(a=k),a.$strip()},g.$$s=j,g),e).call(f):[a]}(),(e=(h=n).$each_with_index,e.$$p=(i=function(a,d){var e,f,g,h,j,n,p,q=i.$$s||this,r=k,s=k,t=k,u=k,v=k,w=k;return null==a&&(a=k),null==d&&(d=k),(e=a["$empty?"]())===k||e.$$is_boolean&&1!=e?(r=o([],{}),(e=d["$zero?"]())===k||e.$$is_boolean&&1!=e?(e=(h=m).$each,e.$$p=(j=function(a){j.$$s||this;return null==a&&(a=k),r["$[]="](a.$to_sym(),""+a+"_"+b(d,1))},j.$$s=q,j),e).call(h):(e=(f=m).$each,e.$$p=(g=function(a){g.$$s||this;return null==a&&(a=k),r["$[]="](a.$to_sym(),a)},g.$$s=q,g),e).call(f),s=k,c!==!1&&c!==k?s=a.$split(" ",3):(e=t=A.get("AuthorInfoLineRx").$match(a))===k||e.$$is_boolean&&1!=e||(s=t.$to_a(),s.$shift()),(e=s["$nil?"]())===k||e.$$is_boolean&&1!=e?(l["$[]="](r["$[]"]("firstname"),u=s["$[]"](0).$tr("_"," ")),l["$[]="](r["$[]"]("author"),u),l["$[]="](r["$[]"]("authorinitials"),u["$[]"](0,1)),n=s["$[]"](1)["$nil?"]()["$!"](),(e=n!==!1&&n!==k?s["$[]"](2)["$nil?"]()["$!"]():n)===k||e.$$is_boolean&&1!=e?(e=s["$[]"](1)["$nil?"]()["$!"]())===k||e.$$is_boolean&&1!=e||(l["$[]="](r["$[]"]("lastname"),w=s["$[]"](1).$tr("_"," ")),l["$[]="](r["$[]"]("author"),[u,w].$join(" ")),l["$[]="](r["$[]"]("authorinitials"),[u["$[]"](0,1),w["$[]"](0,1)].$join())):(l["$[]="](r["$[]"]("middlename"),v=s["$[]"](1).$tr("_"," ")),l["$[]="](r["$[]"]("lastname"),w=s["$[]"](2).$tr("_"," ")),l["$[]="](r["$[]"]("author"),[u,v,w].$join(" ")),l["$[]="](r["$[]"]("authorinitials"),[u["$[]"](0,1),v["$[]"](0,1),w["$[]"](0,1)].$join())),((e=(n=c)!==!1&&n!==k?n:s["$[]"](3)["$nil?"]())===k||e.$$is_boolean&&1!=e)&&l["$[]="](r["$[]"]("email"),s["$[]"](3))):(l["$[]="](r["$[]"]("author"),l["$[]="](r["$[]"]("firstname"),u=a.$strip().$tr_s(" "," "))),l["$[]="](r["$[]"]("authorinitials"),u["$[]"](0,1))),l["$[]="]("authorcount",b(d,1)),d["$=="](1)&&(e=(n=m).$each,e.$$p=(p=function(a){var b;p.$$s||this;return null==a&&(a=k),(b=l["$has_key?"](a))===k||b.$$is_boolean&&1!=b?k:l["$[]="](""+a+"_1",l["$[]"](a))},p.$$s=q,p),e).call(n),(e=d["$zero?"]())===k||e.$$is_boolean&&1!=e?l["$[]="]("authors",""+l["$[]"]("authors")+", "+l["$[]"](r["$[]"]("author"))):l["$[]="]("authors",l["$[]"](r["$[]"]("author")))):k},i.$$s=j,i),e).call(h),l}),a.defs(z,"$parse_block_metadata_lines",function(a,b,c,d){var e,f=this;for(null==c&&(c=o([],{})),null==d&&(d=o([],{}));(e=f.$parse_block_metadata_line(a,b,c,d))!==k&&(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_blank_lines();return c}),a.defs(z,"$parse_block_metadata_line",function(a,b,c,d){var e,f,g,h=this,i=k,j=k,l=k,m=k,n=k;if(null==d&&(d=o([],{})),(e=a["$has_more_lines?"]())===k||e.$$is_boolean&&1!=e)return!1;if(i=a.$peek_line(),f=j=i["$start_with?"]("//"),(e=f!==!1&&f!==k?l=A.get("CommentBlockRx").$match(i):f)===k||e.$$is_boolean&&1!=e)if((e=(f=j!==!1&&j!==k)?A.get("CommentLineRx")["$=~"](i):j)===k||e.$$is_boolean&&1!=e)if(g=d["$[]"]("text")["$!"](),f=g!==!1&&g!==k?i["$start_with?"](":"):g,(e=f!==!1&&f!==k?l=A.get("AttributeEntryRx").$match(i):f)===k||e.$$is_boolean&&1!=e)if(g=i["$start_with?"]("["),f=n=g!==!1&&g!==k?i["$end_with?"]("]"):g,(e=f!==!1&&f!==k?l=A.get("BlockAnchorRx").$match(i):f)===k||e.$$is_boolean&&1!=e)if((e=(f=n!==!1&&n!==k)?l=A.get("BlockAttributeListRx").$match(i):n)===k||e.$$is_boolean&&1!=e){if(f=d["$[]"]("text")["$!"](),(e=f!==!1&&f!==k?l=A.get("BlockTitleRx").$match(i):f)===k||e.$$is_boolean&&1!=e)return!1;c["$[]="]("title",l["$[]"](1))}else b.$document().$parse_attributes(l["$[]"](1),[],o(["sub_input","into"],{sub_input:!0,into:c}));else((e=l["$[]"](1)["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e)&&(c["$[]="]("id",l["$[]"](1)),((e=l["$[]"](2)["$nil?"]())===k||e.$$is_boolean&&1!=e)&&c["$[]="]("reftext",l["$[]"](2)));else h.$process_attribute_entry(a,b,c,l);else;else m=l["$[]"](0),a.$read_lines_until(o(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:m,skip_processing:!0}));return!0}),a.defs(z,"$process_attribute_entries",function(a,b,c){var d,e=this;for(null==c&&(c=k),a.$skip_comment_lines();(d=e.$process_attribute_entry(a,b,c))!==k&&(!d.$$is_boolean||1==d);)a.$advance(),a.$skip_comment_lines()}),a.defs(z,"$process_attribute_entry",function(a,b,c,d){var e,f,g=this,h=k,i=k,j=k,l=k,m=k,n=k;if(null==c&&(c=k),null==d&&(d=k),(e=d)!==!1&&e!==k?e:d=function(){return(f=a["$has_more_lines?"]())===k||f.$$is_boolean&&1!=f?k:A.get("AttributeEntryRx").$match(a.$peek_line())}(),d!==!1&&d!==k){if(h=d["$[]"](1),(e=(i=(f=d["$[]"](2))!==!1&&f!==k?f:"")["$empty?"]())===k||e.$$is_boolean&&1!=e){if((e=(f=i["$end_with?"](j=A.get("LINE_CONTINUATION")))!==!1&&f!==k?f:i["$end_with?"](j=A.get("LINE_CONTINUATION_LEGACY")))!==k&&(!e.$$is_boolean||1==e))for(i=i.$chop().$rstrip();(f=a.$advance())!==k&&(!f.$$is_boolean||1==f)&&((f=(l=a.$peek_line().$strip())["$empty?"]())===k||f.$$is_boolean&&1!=f)&&((f=m=l["$end_with?"](j))===k||f.$$is_boolean&&1!=f||(l=l.$chop().$rstrip()),n=function(){return(f=i["$end_with?"](A.get("LINE_BREAK")))===k||f.$$is_boolean&&1!=f?" ":A.get("EOL")}(),i=""+i+n+l,m!==!1&&m!==k););}else;return g.$store_attribute(h,i,function(){return b!==!1&&b!==k?b.$document():k}(),c),!0}return!1}),a.defs(z,"$store_attribute",function(a,c,d,e){var g,h,i=this,j=k,l=k;return null==d&&(d=k),null==e&&(e=k),(g=a["$end_with?"]("!"))===k||g.$$is_boolean&&1!=g?(g=a["$start_with?"]("!"))===k||g.$$is_boolean&&1!=g||(c=k,a=a["$[]"](p(1,-1,!1))):(c=k,a=a.$chop()),a=i.$sanitize_attribute_name(a),j=!0,d!==!1&&d!==k&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&c!==!1&&c!==k&&(l=c.$chr(),"+"["$==="](l)?c=b(d.$attr("leveloffset",0).$to_i(),((g=c["$[]"](p(1,-1,!1)))!==!1&&g!==k?g:0).$to_i()).$to_s():"-"["$==="](l)&&(c=f(d.$attr("leveloffset",0).$to_i(),((g=c["$[]"](p(1,-1,!1)))!==!1&&g!==k?g:0).$to_i()).$to_s())),j=function(){return c!==!1&&c!==k?d.$set_attribute(a,c):d.$delete_attribute(a)}()),(g=(h=j!==!1&&j!==k)?e:j)===k||g.$$is_boolean&&1!=g||(c!==!1&&c!==k&&(c=d.$attributes()["$[]"](a)),A.get("Document").$$scope.get("AttributeEntry").$new(a,c).$save_to(e)),[a,c]}),a.defs(z,"$resolve_list_marker",function(a,b,c,d,e){var f,g,h=this;return null==c&&(c=0),null==d&&(d=!1),null==e&&(e=k),(f=(g=a["$=="]("olist"))?b["$start_with?"](".")["$!"]():a["$=="]("olist"))===k||f.$$is_boolean&&1!=f?a["$=="]("colist")?"<1>":b:h.$resolve_ordered_list_marker(b,c,d,e)}),a.defs(z,"$resolve_ordered_list_marker",function(a,c,d,e){var f,g,h,i,j=this,l=k,m=k,n=k,o=k;return null==c&&(c=0),null==d&&(d=!1),null==e&&(e=k),l=(f=(g=A.get("ORDERED_LIST_STYLES")).$detect,f.$$p=(h=function(b){h.$$s||this;return null==b&&(b=k),A.get("OrderedListMarkerRxMap")["$[]"](b)["$=~"](a)},h.$$s=j,h),f).call(g),m=n=k,o=l,"arabic"["$==="](o)?(d!==!1&&d!==k&&(m=b(c,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](o)?(d!==!1&&d!==k&&(m=b("a"["$[]"](0).$ord(),c).$chr(),n=a.$chomp(".")),a="a."):"upperalpha"["$==="](o)?(d!==!1&&d!==k&&(m=b("A"["$[]"](0).$ord(),c).$chr(),n=a.$chomp(".")),a="A."):"lowerroman"["$==="](o)?(d!==!1&&d!==k&&(m=b(c,1),n=j.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](o)&&(d!==!1&&d!==k&&(m=b(c,1),n=j.$roman_numeral_to_int(a.$chomp(")"))),a="I)"),(f=(i=d!==!1&&d!==k)?m["$!="](n):d)===k||f.$$is_boolean&&1!=f||j.$warn("asciidoctor: WARNING: "+e.$line_info()+": list item index: expected "+m+", got "+n),a}),a.defs(z,"$is_sibling_list_item?",function(b,c,d){var e,f=this,g=k,h=k,i=k;return(e=d["$is_a?"](a.get("Regexp")))===k||e.$$is_boolean&&1!=e?(g=A.get("ListRxMap")["$[]"](c),h=d):(g=d,h=!1),(e=i=g.$match(b))===k||e.$$is_boolean&&1!=e?!1:h!==!1&&h!==k?h["$=="](f.$resolve_list_marker(c,i["$[]"](1))):!0}),a.defs(z,"$next_table",function(c,d,e){var f,g,h,j,l,m,n,o=this,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k,z=k,B=k,C=k;for(q=A.get("Table").$new(d,e),(f=e["$has_key?"]("title"))===k||f.$$is_boolean&&1!=f||(f=[e.$delete("title")],g=q,g["$title="].apply(g,f),f[f.length-1],q.$assign_caption(e.$delete("caption"))),(f=e["$[]"]("cols")["$nil_or_empty?"]())===k||f.$$is_boolean&&1!=f?(q.$create_columns(o.$parse_col_specs(e["$[]"]("cols"))),r=!0):r=!1,s=c.$skip_blank_lines(),t=A.get("Table").$$scope.get("ParserContext").$new(c,q,e),u=-1;(g=c["$has_more_lines?"]())!==k&&(!g.$$is_boolean||1==g);){for(u=b(u,1),v=c.$read_line(),l=(m=s["$=="](0))?u["$zero?"]():s["$=="](0),j=l!==!1&&l!==k?e["$has_key?"]("options")["$!"]():l,h=j!==!1&&j!==k?(w=c.$peek_line())["$nil?"]()["$!"]():j,(g=h!==!1&&h!==k?w["$empty?"]():h)===k||g.$$is_boolean&&1!=g||(g=[!0],h=q,h["$has_header_option="].apply(h,g),g[g.length-1],q.$set_option("header")),t.$format()["$=="]("psv")&&((g=t["$starts_with_delimiter?"](v))===k||g.$$is_boolean&&1!=g?(g=a.to_ary(o.$parse_cell_spec(v,"start",t.$delimiter())),x=null==g[0]?k:g[0],v=null==g[1]?k:g[1],(g=x["$nil?"]()["$!"]())===k||g.$$is_boolean&&1!=g||t.$close_open_cell(x)):(v=v["$[]"](p(1,-1,!1)),t.$close_open_cell())),y=!1;(h=(j=y["$!"]())!==!1&&j!==k?j:v["$empty?"]()["$!"]())!==k&&(!h.$$is_boolean||1==h);)if(y=!0,(h=z=t.$match_delimiter(v))===k||h.$$is_boolean&&1!=h)h=[""+t.$buffer()+v+A.get("EOL")],j=t,j["$buffer="].apply(j,h),h[h.length-1],t.$format()["$=="]("csv")&&(h=[""+t.$buffer().$rstrip()+" "],j=t,j["$buffer="].apply(j,h),h[h.length-1]),v="",(h=(j=t.$format()["$=="]("psv"))!==!1&&j!==k?j:(l=t.$format()["$=="]("csv"))?t["$buffer_has_unclosed_quotes?"]():t.$format()["$=="]("csv"))===k||h.$$is_boolean&&1!=h?t.$close_cell(!0):t.$keep_cell_open();else{if(t.$format()["$=="]("csv")){if((h=t["$buffer_has_unclosed_quotes?"](z.$pre_match()))!==k&&(!h.$$is_boolean||1==h)){v=t.$skip_matched_delimiter(z);continue}}else if((h=z.$pre_match()["$end_with?"]("\\"))!==k&&(!h.$$is_boolean||1==h)){if((h=(v=t.$skip_matched_delimiter(z,!0))["$empty?"]())!==k&&(!h.$$is_boolean||1==h)){h=[""+t.$buffer()+A.get("EOL")],j=t,j["$buffer="].apply(j,h),h[h.length-1],t.$keep_cell_open();break}continue}t.$format()["$=="]("psv")?(h=a.to_ary(o.$parse_cell_spec(z.$pre_match(),"end")),x=null==h[0]?k:h[0],B=null==h[1]?k:h[1],t.$push_cell_spec(x),h=[""+t.$buffer()+B],j=t,j["$buffer="].apply(j,h),h[h.length-1]):(h=[""+t.$buffer()+z.$pre_match()],j=t,j["$buffer="].apply(j,h),h[h.length-1]),(v=z.$post_match())["$=="]("")&&(y=!1),t.$close_cell()}((g=t["$cell_open?"]())===k||g.$$is_boolean&&1!=g)&&(s=c.$skip_blank_lines()),((g=c["$has_more_lines?"]())===k||g.$$is_boolean&&1!=g)&&((g=t["$cell_open?"]())===k||g.$$is_boolean&&1!=g||t.$close_cell(!0))}return f="colcount",g=q.$attributes(),(h=g["$[]"](f))!==!1&&h!==k?h:g["$[]="](f,t.$col_count()),(f=r["$!"]())===k||f.$$is_boolean&&1!=f||(C=i(100,t.$col_count()).$floor(),(f=(g=q.$columns()).$each,f.$$p=(n=function(a){n.$$s||this;return null==a&&(a=k),a.$assign_width(0,C)},n.$$s=o,n),f).call(g)),q.$partition_header_footer(e),q}),a.defs(z,"$parse_col_specs",function(b){var c,d,e,f,g,h=this,i=k;return(c=A.get("DigitsRx")["$=~"](b))===k||c.$$is_boolean&&1!=c?(i=[],(c=(f=b.$split(",",-1)).$each,c.$$p=(g=function(b){var c,d,e,f=g.$$s||this,h=k,j=k,l=k,m=k;return null==b&&(b=k),b["$=="]("")?i["$<<"](o(["width"],{width:1})):(c=h=A.get("ColumnSpecRx").$match(b))===k||c.$$is_boolean&&1!=c?k:(j=o([],{}),(c=h["$[]"](2))===k||c.$$is_boolean&&1!=c||(c=a.to_ary(h["$[]"](2).$split(".")),l=null==c[0]?k:c[0],m=null==c[1]?k:c[1],d=l["$nil_or_empty?"]()["$!"](),(c=d!==!1&&d!==k?A.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](l):d)===k||c.$$is_boolean&&1!=c||j["$[]="]("halign",A.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](l)),d=m["$nil_or_empty?"]()["$!"](),(c=d!==!1&&d!==k?A.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](m):d)===k||c.$$is_boolean&&1!=c||j["$[]="]("valign",A.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](m))),j["$[]="]("width",function(){return(c=h["$[]"](3))===k||c.$$is_boolean&&1!=c?1:h["$[]"](3).$to_i()}()),d=h["$[]"](4),(c=d!==!1&&d!==k?A.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](h["$[]"](4)):d)===k||c.$$is_boolean&&1!=c||j["$[]="]("style",A.get("Table").$$scope.get("TEXT_STYLES")["$[]"](h["$[]"](4))),(c=h["$[]"](1))===k||c.$$is_boolean&&1!=c?i["$<<"](j):(c=(d=1).$upto,c.$$p=(e=function(){e.$$s||this;return i["$<<"](j.$dup())},e.$$s=f,e),c).call(d,h["$[]"](1).$to_i()))},g.$$s=h,g),c).call(f),i):(c=(d=a.get("Array")).$new,c.$$p=(e=function(){e.$$s||this;return o(["width"],{width:1})},e.$$s=h,e),c).call(d,b.$to_i())}),a.defs(z,"$parse_cell_spec",function(b,c,d){var e,f,g=k,h=k,i=k,j=k,l=k,m=k,n=k;if(null==c&&(c="start"),null==d&&(d=k),g=k,h="",i=c,"start"["$==="](i)){if((e=b["$include?"](d))===k||e.$$is_boolean&&1!=e)return[k,b];if(e=a.to_ary(b.$split(d,2)),j=null==e[0]?k:e[0],h=null==e[1]?k:e[1],(e=g=A.get("CellSpecStartRx").$match(j))===k||e.$$is_boolean&&1!=e)return[k,b];if((e=g["$[]"](0)["$empty?"]())!==k&&(!e.$$is_boolean||1==e))return[o([],{}),h]}else if("end"["$==="](i)){if((e=g=A.get("CellSpecEndRx").$match(b))===k||e.$$is_boolean&&1!=e)return[o([],{}),b];if((e=g["$[]"](0).$lstrip()["$empty?"]())!==k&&(!e.$$is_boolean||1==e))return[o([],{}),b.$rstrip()];h=g.$pre_match()}return l=o([],{}),(e=g["$[]"](1))===k||e.$$is_boolean&&1!=e||(e=a.to_ary(g["$[]"](1).$split(".")),m=null==e[0]?k:e[0],n=null==e[1]?k:e[1],m=function(){return(e=m["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e?m.$to_i():1}(),n=function(){return(e=n["$nil_or_empty?"]())===k||e.$$is_boolean&&1!=e?n.$to_i():1}(),g["$[]"](2)["$=="]("+")?(m["$=="](1)||l["$[]="]("colspan",m),n["$=="](1)||l["$[]="]("rowspan",n)):g["$[]"](2)["$=="]("*")&&(m["$=="](1)||l["$[]="]("repeatcol",m))),(e=g["$[]"](3))===k||e.$$is_boolean&&1!=e||(e=a.to_ary(g["$[]"](3).$split(".")),m=null==e[0]?k:e[0],n=null==e[1]?k:e[1],f=m["$nil_or_empty?"]()["$!"](),(e=f!==!1&&f!==k?A.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](m):f)===k||e.$$is_boolean&&1!=e||l["$[]="]("halign",A.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](m)),f=n["$nil_or_empty?"]()["$!"](),(e=f!==!1&&f!==k?A.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](n):f)===k||e.$$is_boolean&&1!=e||l["$[]="]("valign",A.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](n))),
f=g["$[]"](4),(e=f!==!1&&f!==k?A.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](g["$[]"](4)):f)===k||e.$$is_boolean&&1!=e||l["$[]="]("style",A.get("Table").$$scope.get("TEXT_STYLES")["$[]"](g["$[]"](4))),[l,h]}),a.defs(z,"$parse_style_attribute",function(a,c){var e,f,g,h,i,j,l,m=this,n=k,p=k,q=k,r=k,s=k,t=k,u=k,v=k,w=k;return null==c&&(c=k),n=a["$[]"]("style"),p=a["$[]"](1),f=(g=p!==!1&&p!==k)?p["$include?"](" ")["$!"]():p,(e=f!==!1&&f!==k?A.get("Compliance").$shorthand_property_syntax():f)===k||e.$$is_boolean&&1!=e?(a["$[]="]("style",p),[p,n]):(q="style",r=[],s=o([],{}),t=(e=(f=m).$lambda,e.$$p=(h=function(){var a,b,d,e=h.$$s||this,f=k;return(a=r["$empty?"]())===k||a.$$is_boolean&&1!=a?(f=q,"role"["$==="](f)||"option"["$==="](f)?(a=q,b=s,(d=b["$[]"](a))!==!1&&d!==k?d:b["$[]="](a,[]),s["$[]"](q).$push(r.$join())):"id"["$==="](f)?((a=s["$has_key?"]("id"))===k||a.$$is_boolean&&1!=a||e.$warn("asciidoctor: WARNING:"+function(){return(a=c["$nil?"]())===k||a.$$is_boolean&&1!=a?" "+c.$prev_line_info()+":":k}()+" multiple ids detected in style attribute"),s["$[]="](q,r.$join())):s["$[]="](q,r.$join()),r=[]):(a=q["$!="]("style"))===k||a.$$is_boolean&&1!=a?k:e.$warn("asciidoctor: WARNING:"+function(){return(a=c["$nil?"]())===k||a.$$is_boolean&&1!=a?" "+c.$prev_line_info()+":":k}()+" invalid empty "+q+" detected in style attribute")},h.$$s=m,h),e).call(f),(e=(g=p).$each_char,e.$$p=(i=function(a){var b,c,d,e=(i.$$s||this,k);return null==a&&(a=k),(b=(c=(d=a["$=="]("."))!==!1&&d!==k?d:a["$=="]("#"))!==!1&&c!==k?c:a["$=="]("%"))===k||b.$$is_boolean&&1!=b?r.$push(a):(t.$call(),function(){return e=a,"."["$==="](e)?q="role":"#"["$==="](e)?q="id":"%"["$==="](e)?q="option":k}())},i.$$s=m,i),e).call(g),q["$=="]("style")?u=a["$[]="]("style",p):(t.$call(),u=(e=s["$has_key?"]("style"))===k||e.$$is_boolean&&1!=e?k:a["$[]="]("style",s["$[]"]("style")),(e=s["$has_key?"]("id"))===k||e.$$is_boolean&&1!=e||a["$[]="]("id",s["$[]"]("id")),(e=s["$has_key?"]("role"))===k||e.$$is_boolean&&1!=e||a["$[]="]("role",d(s["$[]"]("role")," ")),(e=s["$has_key?"]("option"))===k||e.$$is_boolean&&1!=e||((e=(j=v=s["$[]"]("option")).$each,e.$$p=(l=function(b){l.$$s||this;return null==b&&(b=k),a["$[]="](""+b+"-option","")},l.$$s=m,l),e).call(j),(e=w=a["$[]"]("options"))===k||e.$$is_boolean&&1!=e?a["$[]="]("options",d(v,",")):a["$[]="]("options",d(b(v,w.$split(",")),",")))),[u,n])}),a.defs(z,"$adjust_indentation!",function(a,e,g){var h,i,j,m,n,o,r,s,t,u,v,w=this,x=k,y=k,z=k;return null==e&&(e=0),null==g&&(g=0),(h=a["$empty?"]())===k||h.$$is_boolean&&1!=h?((h=(i=c(g=g.$to_i(),0))?a.$join()["$include?"](A.get("TAB")):c(g=g.$to_i(),0))===k||h.$$is_boolean&&1!=h||(x=d(" ",g),(h=(i=a)["$map!"],h.$$p=(j=function(a){var c,e,h,i,l,m=j.$$s||this,n=k;return null==a&&(a=k),(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?((c=a["$start_with?"](A.get("TAB")))===k||c.$$is_boolean&&1!=c||(c=(e=a)["$sub!"],c.$$p=(h=function(a){h.$$s||this;return null==a&&(a=k),d(x,a.$length())},h.$$s=m,h),c).call(e,A.get("TabIndentRx")),(c=a["$include?"](A.get("TAB")))===k||c.$$is_boolean&&1!=c?a:(n=0,(c=(i=a)["$gsub!"],c.$$p=(l=function(){var a=(l.$$s||this,k),c=k;return null==q["~"]&&(q["~"]=k),(a=b(q["~"].$begin(0),n))["$%"](g)["$=="](0)?(n=b(n,f(g,1)),x):((c=f(g,a["$%"](g)))["$=="](1)||(n=b(n,f(c,1))),d(" ",c))},l.$$s=m,l),c).call(i,A.get("TabRx")))):a},j.$$s=w,j),h).call(i)),(h=(m=e!==!1&&e!==k)?c(e=e.$to_i(),-1):e)===k||h.$$is_boolean&&1!=h?k:(y=k,(h=(m=a).$each,h.$$p=(n=function(a){var b,d,e=(n.$$s||this,k);return null==a&&(a=k),(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?(e=f(a.$length(),a.$lstrip().$length()))["$=="](0)?(y=k,l.$v=k,l):(b=(d=y!==!1&&y!==k)?c(e,y):y)===k||b.$$is_boolean&&1!=b?y=e:k:k},n.$$s=w,n),h).call(m),e["$=="](0)?y!==!1&&y!==k&&(h=(o=a)["$map!"],h.$$p=(r=function(a){var b;r.$$s||this;return null==a&&(a=k),(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a["$[]"](p(y,-1,!1)):a},r.$$s=w,r),h).call(o):(z=d(" ",e),y!==!1&&y!==k?(h=(s=a)["$map!"],h.$$p=(t=function(a){var c;t.$$s||this;return null==a&&(a=k),(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?b(z,a["$[]"](p(y,-1,!1))):a},t.$$s=w,t),h).call(s):(h=(u=a)["$map!"],h.$$p=(v=function(a){var c;v.$$s||this;return null==a&&(a=k),(c=a["$empty?"]())===k||c.$$is_boolean&&1!=c?b(z,a):a},v.$$s=w,v),h).call(u)),k)):k}),a.defs(z,"$sanitize_attribute_name",function(a){return a.$gsub(A.get("InvalidAttributeNameCharsRx"),"").$downcase()}),a.defs(z,"$roman_numeral_to_int",function(a){var d,e,g,i=this,j=k,l=k;return a=a.$downcase(),j=o(["i","v","x"],{i:1,v:5,x:10}),l=0,(d=(e=p(0,f(a.$length(),1),!1)).$each,d.$$p=(g=function(d){var e,i,m=(g.$$s||this,k);return null==d&&(d=k),m=j["$[]"](a["$[]"](p(d,d,!1))),l=(e=(i=h(b(d,1),a.$length()))?c(j["$[]"](a["$[]"](p(b(d,1),b(d,1),!1))),m):h(b(d,1),a.$length()))===k||e.$$is_boolean&&1!=e?b(l,m):f(l,m)},g.$$s=i,g),d).call(e),l}),k&&"roman_numeral_to_int"}(s.base,null)}(j.base)},Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}a.dynamic_require_severity="ignore";var e=(a.top,a),f=a.nil,g=(a.breaker,a.slice,a.module),h=a.klass,i=a.hash2,j=a.range;return function(e){var k=g(e,"Asciidoctor"),l=(k.$$proto,k.$$scope);!function(e,g){function k(){}var l=k=h(e,g,"PathResolver",k),m=l.$$proto,n=l.$$scope;return m.file_separator=m._partition_path_web=m._partition_path_sys=m.working_dir=f,a.cdecl(n,"DOT","."),a.cdecl(n,"DOT_DOT",".."),a.cdecl(n,"DOT_SLASH","./"),a.cdecl(n,"SLASH","/"),a.cdecl(n,"BACKSLASH","\\"),a.cdecl(n,"DOUBLE_SLASH","//"),a.cdecl(n,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),l.$attr_accessor("file_separator"),l.$attr_accessor("working_dir"),a.defn(l,"$initialize",function(b,c){var d,e=this;return null==b&&(b=f),null==c&&(c=f),e.file_separator=function(){return b!==!1&&b!==f?b:(d=a.get("File").$$scope.get("ALT_SEPARATOR"))!==!1&&d!==f?d:a.get("File").$$scope.get("SEPARATOR")}(),c!==!1&&c!==f?e.working_dir=function(){return(d=e["$is_root?"](c))===f||d.$$is_boolean&&1!=d?a.get("File").$expand_path(c):c}():e.working_dir=a.get("File").$expand_path(a.get("Dir").$pwd()),e._partition_path_sys=i([],{}),e._partition_path_web=i([],{})}),a.defn(l,"$is_root?",function(a){var b,c,d=this;return((b=a["$start_with?"](n.get("SLASH")))===f||b.$$is_boolean&&1!=b)&&((b=(c=d.file_separator["$=="](n.get("BACKSLASH")))?n.get("WindowsRootRx")["$=~"](a):d.file_separator["$=="](n.get("BACKSLASH")))===f||b.$$is_boolean&&1!=b)?!1:!0}),a.defn(l,"$is_unc?",function(a){return a["$start_with?"](n.get("DOUBLE_SLASH"))}),a.defn(l,"$is_web_root?",function(a){return a["$start_with?"](n.get("SLASH"))}),a.defn(l,"$posixfy",function(a){var b;return(b=a["$nil_or_empty?"]())===f||b.$$is_boolean&&1!=b?(b=a["$include?"](n.get("BACKSLASH")))===f||b.$$is_boolean&&1!=b?a:a.$tr(n.get("BACKSLASH"),n.get("SLASH")):""}),a.defn(l,"$expand_path",function(b){var c,d=this,e=f,g=f,h=f;return c=a.to_ary(d.$partition_path(b)),e=null==c[0]?f:c[0],g=null==c[1]?f:c[1],h=null==c[2]?f:c[2],d.$join_path(e,g)}),a.defn(l,"$partition_path",function(a,b){var c,d=this,e=f,g=f,h=f,i=f;return null==b&&(b=!1),(c=e=function(){return b!==!1&&b!==f?d._partition_path_web["$[]"](a):d._partition_path_sys["$[]"](a)}())===f||c.$$is_boolean&&1!=c?(g=d.$posixfy(a),h=function(){return b!==!1&&b!==f?(c=d["$is_web_root?"](g))===f||c.$$is_boolean&&1!=c?(c=g["$start_with?"](n.get("DOT_SLASH")))===f||c.$$is_boolean&&1!=c?f:n.get("DOT_SLASH"):n.get("SLASH"):(c=d["$is_root?"](g))===f||c.$$is_boolean&&1!=c?(c=g["$start_with?"](n.get("DOT_SLASH")))===f||c.$$is_boolean&&1!=c?f:n.get("DOT_SLASH"):(c=d["$is_unc?"](g))===f||c.$$is_boolean&&1!=c?(c=g["$start_with?"](n.get("SLASH")))===f||c.$$is_boolean&&1!=c?g["$[]"](j(0,g.$index(n.get("SLASH")),!1)):n.get("SLASH"):n.get("DOUBLE_SLASH")}(),i=g.$split(n.get("SLASH")),h["$=="](n.get("DOUBLE_SLASH"))?i=i["$[]"](j(2,-1,!1)):h!==!1&&h!==f&&i.$shift(),i.$delete(n.get("DOT")),function(){return b!==!1&&b!==f?d._partition_path_web:d._partition_path_sys}()["$[]="](a,[i,h,g])):e}),a.defn(l,"$join_path",function(a,c){return null==c&&(c=f),c!==!1&&c!==f?""+c+b(a,n.get("SLASH")):b(a,n.get("SLASH"))}),a.defn(l,"$system_path",function(b,d,e,g){var h,j,k,l=this,m=f,o=f,p=f,q=f,r=f,s=f,t=f,u=f,v=f,w=f;if(null==e&&(e=f),null==g&&(g=i([],{})),e!==!1&&e!==f&&(((h=l["$is_root?"](e))===f||h.$$is_boolean&&1!=h)&&l.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+e),e=l.$posixfy(e)),(h=b["$nil_or_empty?"]())===f||h.$$is_boolean&&1!=h?(h=a.to_ary(l.$partition_path(b)),m=null==h[0]?f:h[0],o=null==h[1]?f:h[1],p=null==h[2]?f:h[2]):m=[],(h=m["$empty?"]())!==f&&(!h.$$is_boolean||1==h)){if(!((h=d["$nil_or_empty?"]())===f||h.$$is_boolean&&1!=h))return function(){return e!==!1&&e!==f?e:l.working_dir}();if((h=l["$is_root?"](d))===f||h.$$is_boolean&&1!=h)return l.$system_path(d,e,e,g);if(e===!1||e===f)return l.$expand_path(d)}return(h=(j=o!==!1&&o!==f)?o["$!="](n.get("DOT_SLASH")):o)===f||h.$$is_boolean&&1!=h||(q=l.$join_path(m,o),(h=(j=e["$!"]())!==!1&&j!==f?j:q["$start_with?"](e))===f||h.$$is_boolean&&1!=h)?(d=(h=d["$nil_or_empty?"]())===f||h.$$is_boolean&&1!=h?(h=l["$is_root?"](d))===f||h.$$is_boolean&&1!=h?l.$system_path(d,e,e,g):l.$posixfy(d):function(){return e!==!1&&e!==f?e:l.working_dir}(),e["$=="](d)?(h=a.to_ary(l.$partition_path(e)),r=null==h[0]?f:h[0],s=null==h[1]?f:h[1],p=null==h[2]?f:h[2],t=r.$dup()):e!==!1&&e!==f?(((h=d["$start_with?"](e))===f||h.$$is_boolean&&1!=h)&&l.$raise(a.get("SecurityError"),""+((h=g["$[]"]("target_name"))!==!1&&h!==f?h:"Start path")+" "+d+" is outside of jail: "+e+" (disallowed in safe mode)"),h=a.to_ary(l.$partition_path(d)),t=null==h[0]?f:h[0],u=null==h[1]?f:h[1],p=null==h[2]?f:h[2],h=a.to_ary(l.$partition_path(e)),r=null==h[0]?f:h[0],s=null==h[1]?f:h[1],p=null==h[2]?f:h[2]):(h=a.to_ary(l.$partition_path(d)),t=null==h[0]?f:h[0],u=null==h[1]?f:h[1],p=null==h[2]?f:h[2],s=u),v=t.$dup(),w=!1,(h=(j=m).$each,h.$$p=(k=function(d){var h,i,j=k.$$s||this,l=f;return null==d&&(d=f),d["$=="](n.get("DOT_DOT"))?e!==!1&&e!==f?c(v.$length(),r.$length())?v.$pop():(h=((i=l)!==!1&&i!==f?i:l=g.$fetch("recover",!0))["$!"]())===f||h.$$is_boolean&&1!=h?(h=w["$!"]())===f||h.$$is_boolean&&1!=h?f:(j.$warn("asciidoctor: WARNING: "+((h=g["$[]"]("target_name"))!==!1&&h!==f?h:"path")+" has illegal reference to ancestor of jail, auto-recovering"),w=!0):j.$raise(a.get("SecurityError"),""+((h=g["$[]"]("target_name"))!==!1&&h!==f?h:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)"):v.$pop():v.$push(d)},k.$$s=l,k),h).call(j),l.$join_path(v,s)):q}),a.defn(l,"$web_path",function(b,c){var d,e,g,h=this,i=f,k=f,l=f,m=f,o=f;return null==c&&(c=f),b=h.$posixfy(b),c=h.$posixfy(c),i=f,((d=(e=c["$nil_or_empty?"]())!==!1&&e!==f?e:h["$is_web_root?"](b))===f||d.$$is_boolean&&1!=d)&&(b=""+c+n.get("SLASH")+b,(d=i=n.get("Helpers").$uri_prefix(b))===f||d.$$is_boolean&&1!=d||(b=b["$[]"](j(i.$length(),-1,!1)))),d=a.to_ary(h.$partition_path(b,!0)),k=null==d[0]?f:d[0],l=null==d[1]?f:d[1],m=null==d[2]?f:d[2],o=[],(d=(e=k).$each,d.$$p=(g=function(a){var b,c;g.$$s||this;return null==a&&(a=f),a["$=="](n.get("DOT_DOT"))?(b=o["$empty?"]())===f||b.$$is_boolean&&1!=b?o["$[]"](-1)["$=="](n.get("DOT_DOT"))?o["$<<"](a):o.$pop():(b=(c=l!==!1&&l!==f)?l["$!="](n.get("DOT_SLASH")):l)===f||b.$$is_boolean&&1!=b?o["$<<"](a):f:o["$<<"](a)},g.$$s=h,g),d).call(e),i!==!1&&i!==f?""+i+h.$join_path(o,l):h.$join_path(o,l)}),a.defn(l,"$relative_path",function(a,b){var c,e,g=this,h=f;return e=g["$is_root?"](a),(c=e!==!1&&e!==f?g["$is_root?"](b):e)===f||c.$$is_boolean&&1!=c?a:(h=d(b.$chomp(g.file_separator).$length(),1),a["$[]"](j(h,-1,!1)))}),f&&"relative_path"}(l.base,null)}(e.base)},Opal.modules["asciidoctor/reader"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function g(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function h(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function i(a,b){return"number"==typeof a&&"number"==typeof b?b>=a:a["$<="](b)}a.dynamic_require_severity="ignore";var j=(a.top,a),k=a.nil,l=a.breaker,m=a.slice,n=a.module,o=a.klass,p=a.hash2,q=a.range;return function(j){var r=n(j,"Asciidoctor"),s=(r.$$proto,r.$$scope);!function(f,g){function h(){}var i,j=h=o(f,g,"Reader",h),m=j.$$proto,n=j.$$scope;return m.file=m.dir=m.lines=m.process_lines=m.look_ahead=m.eof=m.unescape_next_line=m.lineno=m.path=m.source_lines=k,function(b,c){function d(){}var e=d=o(b,c,"Cursor",d);e.$$proto,e.$$scope;return e.$attr_accessor("file"),e.$attr_accessor("dir"),e.$attr_accessor("path"),e.$attr_accessor("lineno"),a.defn(e,"$initialize",function(a,b,c,d){var e=this;return null==b&&(b=k),null==c&&(c=k),null==d&&(d=k),e.file=a,e.dir=b,e.path=c,e.lineno=d}),a.defn(e,"$line_info",function(){var a=this;return""+a.$path()+": line "+a.$lineno()}),a.alias(e,"to_s","line_info")}(n.base,null),j.$attr_reader("file"),j.$attr_reader("dir"),j.$attr_reader("path"),j.$attr_reader("lineno"),j.$attr_reader("source_lines"),j.$attr_accessor("process_lines"),a.defn(j,"$initialize",function(b,c,d){var e,f=this;return null==b&&(b=k),null==c&&(c=k),null==d&&(d=p(["normalize"],{normalize:!1})),(e=c["$!"]())===k||e.$$is_boolean&&1!=e?(e=c["$is_a?"](a.get("String")))===k||e.$$is_boolean&&1!=e?(f.file=c.$file(),f.dir=c.$dir(),f.path=(e=c.$path())!==!1&&e!==k?e:"<stdin>",(e=f.file)===k||e.$$is_boolean&&1!=e||(((e=f.dir)===k||e.$$is_boolean&&1!=e)&&(f.dir=a.get("File").$dirname(f.file),f.dir["$=="](".")&&(f.dir=k)),((e=c.$path())===k||e.$$is_boolean&&1!=e)&&(f.path=a.get("File").$basename(f.file))),f.lineno=(e=c.$lineno())!==!1&&e!==k?e:1):(f.file=c,e=a.to_ary(a.get("File").$split(f.file)),f.dir=null==e[0]?k:e[0],f.path=null==e[1]?k:e[1],f.lineno=1):(f.file=f.dir=k,f.path="<stdin>",f.lineno=1),f.lines=function(){return b!==!1&&b!==k?f.$prepare_lines(b,d):[]}(),f.source_lines=f.lines.$dup(),f.eof=f.lines["$empty?"](),f.look_ahead=0,f.process_lines=!0,f.unescape_next_line=!1}),a.defn(j,"$prepare_lines",function(b,c){var d;return null==c&&(c=p([],{})),(d=b["$is_a?"](a.get("String")))===k||d.$$is_boolean&&1!=d?(d=c["$[]"]("normalize"))===k||d.$$is_boolean&&1!=d?b.$dup():n.get("Helpers").$normalize_lines_array(b):(d=c["$[]"]("normalize"))===k||d.$$is_boolean&&1!=d?b.$split(n.get("EOL")):n.get("Helpers").$normalize_lines_from_string(b)}),a.defn(j,"$process_line",function(a){var c,d=this;return(c=d.process_lines)===k||c.$$is_boolean&&1!=c||(d.look_ahead=b(d.look_ahead,1)),a}),a.defn(j,"$has_more_lines?",function(){var a,b=this;return((a=b.eof)!==!1&&a!==k?a:b.eof=b.$peek_line()["$nil?"]())["$!"]()}),a.defn(j,"$next_line_empty?",function(){var a=this;return a.$peek_line()["$nil_or_empty?"]()}),a.defn(j,"$peek_line",function(a){var b,d,e=this,f=k;return null==a&&(a=!1),(b=(d=a)!==!1&&d!==k?d:c(e.look_ahead,0))===k||b.$$is_boolean&&1!=b?(b=(d=e.eof)!==!1&&d!==k?d:e.lines["$empty?"]())===k||b.$$is_boolean&&1!=b?(b=(f=e.$process_line(e.lines["$[]"](0)))["$!"]())===k||b.$$is_boolean&&1!=b?f:e.$peek_line():(e.eof=!0,e.look_ahead=0,k):(b=e.unescape_next_line)===k||b.$$is_boolean&&1!=b?e.lines["$[]"](0):e.lines["$[]"](0)["$[]"](q(1,-1,!1))}),a.defn(j,"$peek_lines",function(a,b){var c,d,e,f,g,h=this,i=k,j=k;return null==a&&(a=1),null==b&&(b=!0),i=h.look_ahead,j=[],(c=(d=a).$times,c.$$p=(e=function(){var a,c=e.$$s||this,d=k;return(a=d=c.$read_line(b))===k||a.$$is_boolean&&1!=a?(l.$v=k,l):j["$<<"](d)},e.$$s=h,e),c).call(d),((c=j["$empty?"]())===k||c.$$is_boolean&&1!=c)&&((c=(f=j).$reverse_each,c.$$p=(g=function(a){var b=g.$$s||this;return null==a&&(a=k),b.$unshift(a)},g.$$s=h,g),c).call(f),b!==!1&&b!==k&&(h.look_ahead=i)),j}),a.defn(j,"$read_line",function(a){var b,d,e,f=this;return null==a&&(a=!1),(b=(d=(e=a)!==!1&&e!==k?e:c(f.look_ahead,0))!==!1&&d!==k?d:f["$has_more_lines?"]())===k||b.$$is_boolean&&1!=b?k:f.$shift()}),a.defn(j,"$read_lines",function(){var a,b=this,c=k;for(c=[];(a=b["$has_more_lines?"]())!==k&&(!a.$$is_boolean||1==a);)c["$<<"](b.$shift());return c}),a.alias(j,"readlines","read_lines"),a.defn(j,"$read",function(){var a=this;return d(a.$read_lines(),n.get("EOL"))}),a.defn(j,"$advance",function(a){var b=this;return null==a&&(a=!0),b.$read_line(a)["$!"]()["$!"]()}),a.defn(j,"$unshift_line",function(a){var b=this;return b.$unshift(a),k}),a.alias(j,"restore_line","unshift_line"),a.defn(j,"$unshift_lines",function(a){var b,c,d,e=this;return(b=(c=a).$reverse_each,b.$$p=(d=function(a){var b=d.$$s||this;return null==a&&(a=k),b.$unshift(a)},d.$$s=e,d),b).call(c),k}),a.alias(j,"restore_lines","unshift_lines"),a.defn(j,"$replace_line",function(a){var b=this;return b.$advance(),b.$unshift(a),k}),a.defn(j,"$skip_blank_lines",function(){var a,c,d=this,e=k,f=k;if((a=d["$eof?"]())!==k&&(!a.$$is_boolean||1==a))return 0;for(e=0;(c=f=d.$peek_line())!==k&&(!c.$$is_boolean||1==c);){if((c=f["$empty?"]())===k||c.$$is_boolean&&1!=c)return e;d.$advance(),e=b(e,1)}return e}),a.defn(j,"$skip_comment_lines",function(b){var c,d,e,f,g=this,h=k,i=k,j=k,l=k,m=k;if(null==b&&(b=p([],{})),(c=g["$eof?"]())!==k&&(!c.$$is_boolean||1==c))return[];for(h=[],i=b["$[]"]("include_blank_lines");(d=j=g.$peek_line())!==k&&(!d.$$is_boolean||1==d);)if((d=(e=i!==!1&&i!==k)?j["$empty?"]():i)===k||d.$$is_boolean&&1!=d)if(e=l=j["$start_with?"]("//"),(d=e!==!1&&e!==k?m=n.get("CommentBlockRx").$match(j):e)===k||d.$$is_boolean&&1!=d){if((e=(f=l!==!1&&l!==k)?n.get("CommentLineRx")["$=~"](j):l)===k||e.$$is_boolean&&1!=e)break;h["$<<"](g.$shift())}else h["$<<"](g.$shift()),(d=h).$push.apply(d,a.to_a(g.$read_lines_until(p(["terminator","read_last_line","skip_processing"],{terminator:m["$[]"](0),read_last_line:!0,skip_processing:!0}))));else h["$<<"](g.$shift());return h}),a.defn(j,"$skip_line_comments",function(){var a,b,c=this,d=k,e=k;if((a=c["$eof?"]())!==k&&(!a.$$is_boolean||1==a))return[];for(d=[];!((b=e=c.$peek_line())===k||b.$$is_boolean&&1!=b||(b=n.get("CommentLineRx")["$=~"](e))===k||b.$$is_boolean&&1!=b);)d["$<<"](c.$shift());return d}),a.defn(j,"$terminate",function(){var a=this;return a.lineno=b(a.lineno,a.lines.$size()),a.lines.$clear(),a.eof=!0,a.look_ahead=0,k}),a.defn(j,"$eof?",function(){var a=this;return a["$has_more_lines?"]()["$!"]()}),a.alias(j,"empty?","eof?"),a.defn(j,"$read_lines_until",i=function(b){var c,d,f,g,h,j=this,m=i.$$p,o=m||k,q=k,r=k,s=k,t=k,u=k,v=k,w=k,x=k,y=k,z=k;for(null==b&&(b=p([],{})),i.$$p=null,q=[],(c=b["$[]"]("skip_first_line"))===k||c.$$is_boolean&&1!=c||j.$advance(),d=j.process_lines,(c=d!==!1&&d!==k?b["$[]"]("skip_processing"):d)===k||c.$$is_boolean&&1!=c?r=!1:(j.process_lines=!1,r=!0),(c=s=b["$[]"]("terminator"))===k||c.$$is_boolean&&1!=c?(t=b["$[]"]("break_on_blank_lines"),u=b["$[]"]("break_on_list_continuation")):(t=!1,u=!1),v=b["$[]"]("skip_line_comments"),w=!1,x=!1,y=!1;f=y["$!"](),(d=f!==!1&&f!==k?z=j.$read_line():f)!==k&&(!d.$$is_boolean||1==d);)y=function(){for(;(f=!0)!==k&&(!f.$$is_boolean||1==f);)return((f=(g=s!==!1&&s!==k)?z["$=="](s):s)===k||f.$$is_boolean&&1!=f)&&((f=(g=t!==!1&&t!==k)?z["$empty?"]():t)===k||f.$$is_boolean&&1!=f)?(g=(h=u!==!1&&u!==k)?w:u,(f=g!==!1&&g!==k?z["$=="](n.get("LIST_CONTINUATION")):g)===k||f.$$is_boolean&&1!=f?(f=(g=o!==k)?(h=a.yield1(o,z))===l?l.$v:h:o!==k)===k||f.$$is_boolean&&1!=f?!1:!0:(b["$[]="]("preserve_last_line",!0),!0)):!0;return k}(),y!==!1&&y!==k?((d=b["$[]"]("read_last_line"))===k||d.$$is_boolean&&1!=d||(q["$<<"](z),w=!0),(d=b["$[]"]("preserve_last_line"))===k||d.$$is_boolean&&1!=d||(j.$restore_line(z),x=!0)):(f=(g=v!==!1&&v!==k)?z["$start_with?"]("//"):v,((d=f!==!1&&f!==k?n.get("CommentLineRx")["$=~"](z):f)===k||d.$$is_boolean&&1!=d)&&(q["$<<"](z),w=!0));return r!==!1&&r!==k&&(j.process_lines=!0,(c=(d=x!==!1&&x!==k)?s["$!"]():x)===k||c.$$is_boolean&&1!=c||(j.look_ahead=e(j.look_ahead,1))),q}),a.defn(j,"$shift",function(){var a=this;return a.lineno=b(a.lineno,1),a.look_ahead["$=="](0)||(a.look_ahead=e(a.look_ahead,1)),a.lines.$shift()}),a.defn(j,"$unshift",function(a){var c=this;return c.lineno=e(c.lineno,1),c.look_ahead=b(c.look_ahead,1),c.eof=!1,c.lines.$unshift(a)}),a.defn(j,"$cursor",function(){var a=this;return n.get("Cursor").$new(a.file,a.dir,a.path,a.lineno)}),a.defn(j,"$line_info",function(){var a=this;return""+a.path+": line "+a.lineno}),a.alias(j,"next_line_info","line_info"),a.defn(j,"$prev_line_info",function(){var a=this;return""+a.path+": line "+e(a.lineno,1)}),a.defn(j,"$lines",function(){var a=this;return a.lines.$dup()}),a.defn(j,"$string",function(){var a=this;return d(a.lines,n.get("EOL"))}),a.defn(j,"$source",function(){var a=this;return d(a.source_lines,n.get("EOL"))}),a.defn(j,"$to_s",function(){var a=this;return a.$line_info()}),k&&"to_s"}(s.base,null),function(j,n){function r(){}var s,t,u,v,w=r=o(j,n,"PreprocessorReader",r),x=w.$$proto,y=w.$$scope;return x.document=x.lineno=x.process_lines=x.look_ahead=x.skipping=x.include_stack=x.conditional_stack=x.path=x.include_processor_extensions=x.maxdepth=x.dir=x.lines=x.file=x.includes=x.unescape_next_line=k,w.$attr_reader("include_stack"),w.$attr_reader("includes"),a.defn(w,"$initialize",s=function(b,c,d){var e,g,h,i=this,j=(s.$$p,k);return null==c&&(c=k),null==d&&(d=k),s.$$p=null,i.document=b,a.find_super_dispatcher(i,"initialize",s,null).apply(i,[c,d,p(["normalize"],{normalize:!0})]),j=b.$attributes().$fetch("max-include-depth",64).$to_i(),f(j,0)&&(j=0),i.maxdepth=p(["abs","rel"],{abs:j,rel:j}),i.include_stack=[],i.includes=(e="includes",g=b.$references(),(h=g["$[]"](e))!==!1&&h!==k?h:g["$[]="](e,[])),i.skipping=!1,i.conditional_stack=[],i.include_processor_extensions=k}),a.defn(w,"$prepare_lines",t=function(c,e){var f,g,h,i=m.call(arguments,0),j=this,l=t.$$p,n=k,o=k,q=k,r=k;if(null==e&&(e=p([],{})),t.$$p=null,n=a.find_super_dispatcher(j,"prepare_lines",t,l).apply(j,i),g=j.document,(f=g!==!1&&g!==k?j.document.$attributes()["$has_key?"]("skip-front-matter"):g)===k||f.$$is_boolean&&1!=f||(f=o=j["$skip_front_matter!"](n))===k||f.$$is_boolean&&1!=f||j.document.$attributes()["$[]="]("front-matter",d(o,y.get("EOL"))),(f=e.$fetch("condense",!0))!==k&&(!f.$$is_boolean||1==f)){for(;h=q=n["$[]"](0),(g=h!==!1&&h!==k?q["$empty?"]():h)!==k&&(!g.$$is_boolean||1==g);)g=n.$shift(),g!==!1&&g!==k?j.lineno=b(j.lineno,1):g;for(;h=r=n["$[]"](-1),(g=h!==!1&&h!==k?r["$empty?"]():h)!==k&&(!g.$$is_boolean||1==g);)n.$pop()}return(f=e["$[]"]("indent"))===k||f.$$is_boolean&&1!=f||y.get("Parser")["$adjust_indentation!"](n,e["$[]"]("indent"),j.document.$attr("tabsize")),n}),a.defn(w,"$process_line",function(c){var d,e,f,g,h=this,i=k,j=k;return(d=h.process_lines)===k||d.$$is_boolean&&1!=d?c:(d=c["$empty?"]())===k||d.$$is_boolean&&1!=d?(f=c["$end_with?"]("]"),e=f!==!1&&f!==k?c["$start_with?"]("[")["$!"]():f,(d=e!==!1&&e!==k?c["$include?"]("::"):e)===k||d.$$is_boolean&&1!=d?(d=h.skipping)===k||d.$$is_boolean&&1!=d?(h.look_ahead=b(h.look_ahead,1),c):(h.$advance(),k):(e=c["$include?"]("if"),(d=e!==!1&&e!==k?i=y.get("ConditionalDirectiveRx").$match(c):e)===k||d.$$is_boolean&&1!=d?(d=h.skipping)===k||d.$$is_boolean&&1!=d?(f=(g=j=c["$start_with?"]("\\include::"))!==!1&&g!==k?g:c["$start_with?"]("include::"),(d=f!==!1&&f!==k?i=y.get("IncludeDirectiveRx").$match(c):f)===k||d.$$is_boolean&&1!=d?(h.look_ahead=b(h.look_ahead,1),c):j!==!1&&j!==k?(h.unescape_next_line=!0,h.look_ahead=b(h.look_ahead,1),c["$[]"](q(1,-1,!1))):(d=h.$preprocess_include(i["$[]"](1),i["$[]"](2).$strip()))===k||d.$$is_boolean&&1!=d?(h.look_ahead=b(h.look_ahead,1),c):k):(h.$advance(),k):(d=c["$start_with?"]("\\"))===k||d.$$is_boolean&&1!=d?(d=(e=h).$preprocess_conditional_inclusion.apply(e,a.to_a(i.$captures())))===k||d.$$is_boolean&&1!=d?(h.look_ahead=b(h.look_ahead,1),c):(h.$advance(),k):(h.unescape_next_line=!0,h.look_ahead=b(h.look_ahead,1),c["$[]"](q(1,-1,!1))))):(h.look_ahead=b(h.look_ahead,1),"")}),a.defn(w,"$peek_line",u=function(b){var c,d=m.call(arguments,0),e=this,f=u.$$p,g=k;return null==b&&(b=!1),u.$$p=null,(c=g=a.find_super_dispatcher(e,"peek_line",u,f).apply(e,d))===k||c.$$is_boolean&&1!=c?(c=e.include_stack["$empty?"]())===k||c.$$is_boolean&&1!=c?(e.$pop_include(),e.$peek_line(b)):k:g}),a.defn(w,"$preprocess_conditional_inclusion",function(a,b,d,e){var f,g,h,i,j,l,m,n,o,q,r=this,s=k,t=k,u=k,v=k,w=k,x=k,z=k,A=k,B=k;if(h=(i=a["$=="]("ifdef"))!==!1&&i!==k?i:a["$=="]("ifndef"),(f=(g=h!==!1&&h!==k?b["$empty?"]():h)!==!1&&g!==k?g:(h=a["$=="]("endif"))?e:a["$=="]("endif"))!==k&&(!f.$$is_boolean||1==f))return!1;if(b=b.$downcase(),a["$=="]("endif"))return s=r.conditional_stack.$size(),c(s,0)?(t=r.conditional_stack["$[]"](-1),(f=(g=b["$empty?"]())!==!1&&g!==k?g:b["$=="](t["$[]"]("target")))===k||f.$$is_boolean&&1!=f?r.$warn("asciidoctor: ERROR: "+r.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+t["$[]"]("target")+"[]"):(r.conditional_stack.$pop(),r.skipping=function(){return(f=r.conditional_stack["$empty?"]())===k||f.$$is_boolean&&1!=f?r.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1}())):r.$warn("asciidoctor: ERROR: "+r.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;if(u=!1,(f=r.skipping)===k||f.$$is_boolean&&1!=f){if(v=a,"ifdef"["$==="](v))v=d,k["$==="](v)?u=r.document.$attributes()["$has_key?"](b)["$!"]():","["$==="](v)?u=(f=(g=b.$split(",")).$detect,f.$$p=(j=function(a){var b=j.$$s||this;return null==b.document&&(b.document=k),null==a&&(a=k),b.document.$attributes()["$has_key?"](a)},j.$$s=r,j),f).call(g)["$!"]():"+"["$==="](v)&&(u=(f=(h=b.$split("+")).$detect,f.$$p=(l=function(a){var b=l.$$s||this;return null==b.document&&(b.document=k),null==a&&(a=k),b.document.$attributes()["$has_key?"](a)["$!"]()},l.$$s=r,l),f).call(h));else if("ifndef"["$==="](v))v=d,k["$==="](v)?u=r.document.$attributes()["$has_key?"](b):","["$==="](v)?u=(f=(i=b.$split(",")).$detect,f.$$p=(m=function(a){var b=m.$$s||this;return null==b.document&&(b.document=k),null==a&&(a=k),b.document.$attributes()["$has_key?"](a)["$!"]()},m.$$s=r,m),f).call(i)["$!"]():"+"["$==="](v)&&(u=(f=(n=b.$split("+")).$detect,f.$$p=(o=function(a){var b=o.$$s||this;return null==b.document&&(b.document=k),null==a&&(a=k),b.document.$attributes()["$has_key?"](a)},o.$$s=r,o),f).call(n));else if("ifeval"["$==="](v)){if((f=(q=b["$empty?"]()["$!"]())!==!1&&q!==k?q:(w=y.get("EvalExpressionRx").$match(e.$strip()))["$!"]())!==k&&(!f.$$is_boolean||1==f))return!1;x=r.$resolve_expr_val(w["$[]"](1)),z=r.$resolve_expr_val(w["$[]"](3)),u=(A=w["$[]"](2))["$=="]("!=")?x.$send("==",z):x.$send(A.$to_sym(),z)["$!"]()}}else;if((f=(q=a["$=="]("ifeval"))!==!1&&q!==k?q:e["$!"]())===k||f.$$is_boolean&&1!=f){if((f=(q=r.skipping)!==!1&&q!==k?q:u)===k||f.$$is_boolean&&1!=f)return B=r.$peek_line(!0),r.$replace_line(e.$rstrip()),r.$unshift(B),!0}else u!==!1&&u!==k&&(r.skipping=!0),r.conditional_stack["$<<"](p(["target","skip","skipping"],{target:b,skip:u,skipping:r.skipping}));return!0}),a.defn(w,"$preprocess_include",function(f,i){var j,m,n,o,q,r,s,t,u,v,w,x=this,z=k,A=k,B=k,C=k,D=k,E=k,F=k,G=k,H=k,I=k,J=k,K=k,L=k,M=k,N=k;if((j=(z=x.document.$sub_attributes(f,p(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===k||j.$$is_boolean&&1!=j){if(m=x["$include_processors?"](),(j=m!==!1&&m!==k?A=(n=(o=x.include_processor_extensions).$find,n.$$p=(q=function(a){q.$$s||this;return null==a&&(a=k),a.$instance()["$handles?"](z)},q.$$s=x,q),n).call(o):m)===k||j.$$is_boolean&&1!=j){if(g(x.document.$safe(),y.get("SafeMode").$$scope.get("SECURE")))return x.$replace_line("link:"+z+"[]"),!0;if((j=(m=c(B=x.maxdepth["$[]"]("abs"),0))?g(x.include_stack.$size(),B):c(B=x.maxdepth["$[]"]("abs"),0))===k||j.$$is_boolean&&1!=j){if(c(B,0)){if((j=a.get("RUBY_ENGINE_OPAL"))===k||j.$$is_boolean&&1!=j)if((j=y.get("Helpers")["$uriish?"](z))===k||j.$$is_boolean&&1!=j){if(C="file",D=x.document.$normalize_system_path(z,x.dir,k,p(["target_name"],{target_name:"include file"})),(j=a.get("File")["$file?"](D))===k||j.$$is_boolean&&1!=j)return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include file not found: "+D),x.$replace_line("Unresolved directive in "+x.path+" - include::"+z+"["+i+"]"),!0;E=y.get("PathResolver").$new().$relative_path(D,x.document.$base_dir())}else{if((j=x.document.$attributes()["$has_key?"]("allow-uri-read"))===k||j.$$is_boolean&&1!=j)return x.$replace_line("link:"+z+"[]"),!0;C="uri",D=E=z,(j=x.document.$attributes()["$has_key?"]("cache-uri"))===k||j.$$is_boolean&&1!=j?(j=a.get("RUBY_ENGINE_OPAL")["$!"]())===k||j.$$is_boolean&&1!=j||a.get("OpenURI"):((j=function(){try{return null!=a.get("OpenURI").$$scope.get("Cache")?"constant":k}catch(b){if(b.$$class===a.NameError)return k;throw b}}())===k||j.$$is_boolean&&1!=j)&&y.get("Helpers").$require_library("open-uri/cached","open-uri-cached")}else C="file",D=E=function(){return(j=x.include_stack["$empty?"]())===k||j.$$is_boolean&&1!=j?a.get("File").$join(x.dir,z):a.get("Dir").$pwd()["$=="](x.document.$base_dir())?z:a.get("File").$join(x.dir,z)}();if(F=k,G=k,H=p([],{}),(j=i["$empty?"]()["$!"]())===k||j.$$is_boolean&&1!=j||(H=y.get("AttributeList").$new(i).$parse(),(j=H["$has_key?"]("lines"))===k||j.$$is_boolean&&1!=j?(j=H["$has_key?"]("tag"))===k||j.$$is_boolean&&1!=j?(j=H["$has_key?"]("tags"))===k||j.$$is_boolean&&1!=j||(G=H["$[]"]("tags").$split(y.get("DataDelimiterRx")).$to_set()):G=[H["$[]"]("tag")].$to_set():(F=[],(j=(m=H["$[]"]("lines").$split(y.get("DataDelimiterRx"))).$each,j.$$p=(r=function(b){var c,d,e,f=(r.$$s||this,k),g=k;return null==b&&(b=k),(c=b["$include?"](".."))===k||c.$$is_boolean&&1!=c?F["$<<"](b.$to_i()):(c=a.to_ary((d=(e=b.$split("..")).$map,d.$$p="to_i".$to_proc(),d).call(e)),f=null==c[0]?k:c[0],g=null==c[1]?k:c[1],g["$=="](-1)?(F["$<<"](f),F["$<<"](h(1,0))):F.$concat(a.get("Range").$new(f,g).$to_a()))},r.$$s=x,r),j).call(m),F=F.$sort().$uniq())),F!==!1&&F!==k)if((j=F["$empty?"]())===k||j.$$is_boolean&&1!=j){I=[],J=0,K=0;try{(j=(n=x).$open,j.$$p=(s=function(c){var d,e,f,g=s.$$s||this;return null==c&&(c=k),(d=(e=c).$each_line,d.$$p=(f=function(d){var e,g,h=(f.$$s||this,k);return null==d&&(d=k),K=b(K,1),h=F["$[]"](0),g=h["$is_a?"](a.get("Float")),(e=g!==!1&&g!==k?h["$infinite?"]():g)===k||e.$$is_boolean&&1!=e?(c.$lineno()["$=="](h)&&(I.$push(d),J["$=="](0)&&(J=K),F.$shift()),(e=F["$empty?"]())===k||e.$$is_boolean&&1!=e?k:(l.$v=k,l)):(I.$push(d),J["$=="](0)?J=K:k)},f.$$s=g,f),d).call(e)},s.$$s=x,s),j).call(n,D,"r")}catch(O){try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+C+" not readable: "+D),x.$replace_line("Unresolved directive in "+x.path+" - include::"+z+"["+i+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}x.$advance(),x.$push_include(I,D,E,J,H)}else;else if(G!==!1&&G!==k)if((j=G["$empty?"]())===k||j.$$is_boolean&&1!=j){I=[],J=0,K=0,L=k,M=a.get("Set").$new();try{(j=(t=x).$open,j.$$p=(u=function(c){var d,e,f,g=u.$$s||this;return null==c&&(c=k),(d=(e=c).$each_line,d.$$p=(f=function(c){var d,e,g,h=f.$$s||this,i=k;return null==c&&(c=k),K=b(K,1),(d=y.get("FORCE_ENCODING"))===k||d.$$is_boolean&&1!=d||c.$force_encoding(a.get("Encoding").$$scope.get("UTF_8")),c=c.$rstrip(),i=c.$chomp("-->").$rstrip(),L!==!1&&L!==k?(d=i["$end_with?"]("end::"+L+"[]"))===k||d.$$is_boolean&&1!=d?(e=i["$end_with?"]("[]"),((d=e!==!1&&e!==k?y.get("TagDirectiveRx")["$=~"](i):e)===k||d.$$is_boolean&&1!=d)&&I.$push(c),J["$=="](0)?J=K:k):L=k:(e=i["$end_with?"]("[]"),(d=e!==!1&&e!==k?y.get("TagDirectiveRx")["$=~"](i):e)===k||d.$$is_boolean&&1!=d?k:(d=(e=G).$each,d.$$p=(g=function(a){var b;g.$$s||this;return null==a&&(a=k),(b=i["$end_with?"]("tag::"+a+"[]"))===k||b.$$is_boolean&&1!=b?k:(L=a,M["$<<"](a),l.$v=k,l)},g.$$s=h,g),d).call(e))},f.$$s=g,f),d).call(e)},u.$$s=x,u),j).call(t,D,"r")}catch(O){try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+C+" not readable: "+D),x.$replace_line("Unresolved directive in "+x.path+" - include::"+z+"["+i+"]"),
!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}((j=(N=e(G.$to_a(),M.$to_a()))["$empty?"]())===k||j.$$is_boolean&&1!=j)&&x.$warn("asciidoctor: WARNING: "+x.$line_info()+": tag"+function(){return c(N.$size(),1)?"s":k}()+" '"+d(N,",")+"' not found in include "+C+": "+D),x.$advance(),x.$push_include(I,D,E,J,H)}else;else try{x.$advance(),x.$push_include((j=(v=x).$open,j.$$p=(w=function(a){w.$$s||this;return null==a&&(a=k),a.$read()},w.$$s=x,w),j).call(v,D,"r"),D,E,1,H)}catch(O){try{return x.$warn("asciidoctor: WARNING: "+x.$line_info()+": include "+C+" not readable: "+D),x.$replace_line("Unresolved directive in "+x.path+" - include::"+z+"["+i+"]"),!0}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return!0}return!1}return x.$warn("asciidoctor: ERROR: "+x.$line_info()+": maximum include depth of "+x.maxdepth["$[]"]("rel")+" exceeded"),!1}return x.$advance(),A.$process_method()["$[]"](x.document,x,z,y.get("AttributeList").$new(i).$parse()),!0}return x.document.$attributes().$fetch("attribute-missing",y.get("Compliance").$attribute_missing())["$=="]("skip")?(x.$replace_line("Unresolved directive in "+x.path+" - include::"+f+"["+i+"]"),!0):(x.$advance(),!0)}),a.defn(w,"$push_include",function(c,d,f,g,h){var j,l=this,m=k,n=k;return null==d&&(d=k),null==f&&(f=k),null==g&&(g=1),null==h&&(h=p([],{})),l.include_stack["$<<"]([l.lines,l.file,l.dir,l.path,l.lineno,l.maxdepth,l.process_lines]),d!==!1&&d!==k?(l.file=d,l.dir=y.get("File").$dirname(d),l.process_lines=y.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(d))):(l.file=k,l.dir=".",l.process_lines=!0),l.path=function(){return f!==!1&&f!==k?(l.includes["$<<"](y.get("Helpers").$rootname(f)),f):"<stdin>"}(),l.lineno=g,(j=h["$has_key?"]("depth"))===k||j.$$is_boolean&&1!=j||(m=h["$[]"]("depth").$to_i(),i(m,0)&&(m=1),l.maxdepth=p(["abs","rel"],{abs:b(e(l.include_stack.$size(),1),m),rel:m})),(j=(l.lines=l.$prepare_lines(c,p(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:h["$[]"]("indent")})))["$empty?"]())===k||j.$$is_boolean&&1!=j?((j=h["$has_key?"]("leveloffset"))===k||j.$$is_boolean&&1!=j||(l.lines.$unshift(""),l.lines.$unshift(":leveloffset: "+h["$[]"]("leveloffset")),l.lines.$push(""),(j=n=l.document.$attr("leveloffset"))===k||j.$$is_boolean&&1!=j?l.lines.$push(":leveloffset!:"):l.lines.$push(":leveloffset: "+n),l.lineno=e(l.lineno,2)),l.eof=!1,l.look_ahead=0):l.$pop_include(),k}),a.defn(w,"$pop_include",function(){var b,d=this;return c(d.include_stack.$size(),0)&&(b=a.to_ary(d.include_stack.$pop()),d.lines=null==b[0]?k:b[0],d.file=null==b[1]?k:b[1],d.dir=null==b[2]?k:b[2],d.path=null==b[3]?k:b[3],d.lineno=null==b[4]?k:b[4],d.maxdepth=null==b[5]?k:b[5],d.process_lines=null==b[6]?k:b[6],d.eof=d.lines["$empty?"](),d.look_ahead=0),k}),a.defn(w,"$include_depth",function(){var a=this;return a.include_stack.$size()}),a.defn(w,"$exceeded_max_depth?",function(){var a,b,d=this,e=k;return(a=(b=c(e=d.maxdepth["$[]"]("abs"),0))?g(d.include_stack.$size(),e):c(e=d.maxdepth["$[]"]("abs"),0))===k||a.$$is_boolean&&1!=a?!1:d.maxdepth["$[]"]("rel")}),a.defn(w,"$shift",v=function(){var b,c=m.call(arguments,0),d=this,e=v.$$p;return v.$$p=null,(b=d.unescape_next_line)===k||b.$$is_boolean&&1!=b?a.find_super_dispatcher(d,"shift",v,e).apply(d,c):(d.unescape_next_line=!1,a.find_super_dispatcher(d,"shift",v,e).apply(d,c)["$[]"](q(1,-1,!1)))}),a.defn(w,"$skip_front_matter!",function(c,d){var e,f,g,h=this,i=k,j=k;if(null==d&&(d=!0),i=k,c["$[]"](0)["$=="]("---")){for(j=c.$dup(),i=[],c.$shift(),d!==!1&&d!==k&&(h.lineno=b(h.lineno,1));g=c["$empty?"]()["$!"](),(f=g!==!1&&g!==k?c["$[]"](0)["$!="]("---"):g)!==k&&(!f.$$is_boolean||1==f);)i.$push(c.$shift()),d!==!1&&d!==k&&(h.lineno=b(h.lineno,1));(e=c["$empty?"]())===k||e.$$is_boolean&&1!=e?(c.$shift(),d!==!1&&d!==k&&(h.lineno=b(h.lineno,1))):((e=c).$unshift.apply(e,a.to_a(j)),d!==!1&&d!==k&&(h.lineno=0),i=k)}return i}),a.defn(w,"$resolve_expr_val",function(a){var b,c,d,e=this,f=k;return d=a["$start_with?"]('"'),(b=(c=d!==!1&&d!==k?a["$end_with?"]('"'):d)!==!1&&c!==k?c:(d=a["$start_with?"]("'"),d!==!1&&d!==k?a["$end_with?"]("'"):d))===k||b.$$is_boolean&&1!=b?f=!1:(f=!0,a=a["$[]"](q(1,-1,!0))),(b=a["$include?"]("{"))===k||b.$$is_boolean&&1!=b||(a=e.document.$sub_attributes(a,p(["attribute_missing"],{attribute_missing:"drop"}))),f!==!1&&f!==k?a:(b=a["$empty?"]())===k||b.$$is_boolean&&1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===k||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===k||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":k}),a.defn(w,"$include_processors?",function(){var a,b,c=this;return(a=c.include_processor_extensions["$nil?"]())===k||a.$$is_boolean&&1!=a?c.include_processor_extensions["$!="](!1):(b=c.document["$extensions?"](),(a=b!==!1&&b!==k?c.document.$extensions()["$include_processors?"]():b)===k||a.$$is_boolean&&1!=a?c.include_processor_extensions=!1:(c.include_processor_extensions=c.document.$extensions().$include_processors())["$!"]()["$!"]())}),a.defn(w,"$to_s",function(){var a,b,c,d=this;return"#<"+d.$class()+"@"+d.$object_id()+" {path: "+d.path.$inspect()+", line #: "+d.lineno+", include depth: "+d.include_stack.$size()+", include stack: ["+(a=(b=d.include_stack).$map,a.$$p=(c=function(a){c.$$s||this;return null==a&&(a=k),a.$to_s()},c.$$s=d,c),a).call(b).$join(", ")+"]}>"}),k&&"to_s"}(s.base,s.get("Reader"))}(j.base)},Opal.modules["asciidoctor/section"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}a.dynamic_require_severity="ignore";var d=(a.top,a),e=a.nil,f=(a.breaker,a.slice),g=a.module,h=a.klass,i=a.hash2,j=a.range;return function(d){var k=g(d,"Asciidoctor"),l=(k.$$proto,k.$$scope);!function(d,g){function k(){}var l,m,n,o=k=h(d,g,"Section",k),p=o.$$proto,q=o.$$scope;return p.level=p.document=p.parent=p.number=p.title=p.numbered=p.blocks=e,o.$attr_accessor("index"),o.$attr_accessor("number"),o.$attr_accessor("sectname"),o.$attr_accessor("special"),o.$attr_accessor("numbered"),a.defn(o,"$initialize",l=function(d,f,g,h){var j,k,m=this;l.$$p;return null==d&&(d=e),null==f&&(f=e),null==g&&(g=!0),null==h&&(h=i([],{})),l.$$p=null,a.find_super_dispatcher(m,"initialize",l,null).apply(m,[d,"section",h]),f!==!1&&f!==e?m.level=f:m.level=function(){return d!==!1&&d!==e?b(d.$level(),1):1}(),m.numbered=(j=g!==!1&&g!==e)?c(m.level,0):g,m.special=(j=(k=d!==!1&&d!==e)?d.$context()["$=="]("section"):d,j!==!1&&j!==e?d.$special():j),m.index=0,m.number=1}),a.alias(o,"name","title"),a.defn(o,"$generate_id",function(){var a,c,d=this,f=e,g=e,h=e,i=e,k=e;if((a=d.document.$attributes()["$has_key?"]("sectids"))===e||a.$$is_boolean&&1!=a)return e;if(f=(a=d.document.$attributes()["$[]"]("idseparator"))!==!1&&a!==e?a:"_",g=(a=d.document.$attributes()["$[]"]("idprefix"))!==!1&&a!==e?a:"_",h=""+g+d.$title().$downcase().$gsub(q.get("InvalidSectionIdCharsRx"),f).$tr_s(f,f).$chomp(f),c=g["$empty?"](),(a=c!==!1&&c!==e?h["$start_with?"](f):c)!==e&&(!a.$$is_boolean||1==a))for(h=h["$[]"](j(1,-1,!1));(c=h["$start_with?"](f))!==e&&(!c.$$is_boolean||1==c);)h=h["$[]"](j(1,-1,!1));for(i=h,k=q.get("Compliance").$unique_id_start_index();(c=d.document.$references()["$[]"]("ids")["$has_key?"](i))!==e&&(!c.$$is_boolean||1==c);)i=""+h+f+k,k=b(k,1);return i}),a.defn(o,"$sectnum",function(a,b){var d,f,g,h,i=this;return null==a&&(a="."),null==b&&(b=e),(d=b)!==!1&&d!==e?d:b=function(){return b["$=="](!1)?"":a}(),h=i.level,g=h!==!1&&h!==e?c(i.level,1):h,f=g!==!1&&g!==e?i.parent:g,(d=f!==!1&&f!==e?i.parent.$context()["$=="]("section"):f)===e||d.$$is_boolean&&1!=d?""+i.number+b:""+i.parent.$sectnum(a)+i.number+b}),a.defn(o,"$<<",m=function(b){var c=f.call(arguments,0),d=this,g=m.$$p;return m.$$p=null,a.find_super_dispatcher(d,"<<",m,g).apply(d,c),b.$context()["$=="]("section")?d.$assign_index(b):e}),a.defn(o,"$to_s",n=function(){var b,c=f.call(arguments,0),d=this,g=n.$$p,h=e;return n.$$p=null,(b=d.title["$!="](e))===e||b.$$is_boolean&&1!=b?a.find_super_dispatcher(d,"to_s",n,g).apply(d,c):(h=function(){return(b=d.numbered)===e||b.$$is_boolean&&1!=b?d.title:""+d.$sectnum()+" "+d.title}(),"#<"+d.$class()+"@"+d.$object_id()+" {level: "+d.level+", title: "+h.$inspect()+", blocks: "+d.blocks.$size()+"}>")}),e&&"to_s"}(l.base,l.get("AbstractBlock"))}(d.base)},Opal.modules["asciidoctor/stylesheets"]=function(a){a.dynamic_require_severity="ignore";var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g.$$proto,g.$$scope);!function(b,d){function g(){}var h=g=e(b,d,"Stylesheets",g),i=h.$$proto,j=h.$$scope;return i.primary_stylesheet_data=i.coderay_stylesheet_data=i.pygments_stylesheet_data=c,a.cdecl(j,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(j,"DEFAULT_PYGMENTS_STYLE","default"),a.cdecl(j,"STYLESHEETS_DATA_PATH",a.get("File").$join(j.get("DATA_PATH"),"stylesheets")),h.__instance__=h.$new(),a.defs(h,"$instance",function(){var a=this;return null==a.__instance__&&(a.__instance__=c),a.__instance__}),a.defn(h,"$primary_stylesheet_name",function(){return j.get("DEFAULT_STYLESHEET_NAME")}),a.defn(h,"$primary_stylesheet_data",function(){var b,d=this;return(b=d.primary_stylesheet_data)!==!1&&b!==c?b:d.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(j.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()}),a.defn(h,"$embed_primary_stylesheet",function(){var a=this;return"<style>\n"+a.$primary_stylesheet_data()+"\n</style>"}),a.defn(h,"$write_primary_stylesheet",function(b){var d,e,f,g=this;return(d=(e=a.get("File")).$open,d.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=c),a.$write(b.$primary_stylesheet_data())},f.$$s=g,f),d).call(e,a.get("File").$join(b,g.$primary_stylesheet_name()),"w")}),a.defn(h,"$coderay_stylesheet_name",function(){return"coderay-asciidoctor.css"}),a.defn(h,"$coderay_stylesheet_data",function(){var b,d=this;return(b=d.coderay_stylesheet_data)!==!1&&b!==c?b:d.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(j.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()}),a.defn(h,"$embed_coderay_stylesheet",function(){var a=this;return"<style>\n"+a.$coderay_stylesheet_data()+"\n</style>"}),a.defn(h,"$write_coderay_stylesheet",function(b){var d,e,f,g=this;return(d=(e=a.get("File")).$open,d.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=c),a.$write(b.$coderay_stylesheet_data())},f.$$s=g,f),d).call(e,a.get("File").$join(b,g.$coderay_stylesheet_name()),"w")}),a.defn(h,"$pygments_stylesheet_name",function(a){var b;return null==a&&(a=c),"pygments-"+((b=a)!==!1&&b!==c?b:j.get("DEFAULT_PYGMENTS_STYLE"))+".css"}),a.defn(h,"$pygments_stylesheet_data",function(a){var b,d=this;return null==a&&(a=c),(b=d.$load_pygments())===c||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":(b=d.pygments_stylesheet_data)!==!1&&b!==c?b:d.pygments_stylesheet_data=f([],{})}),a.defn(h,"$embed_pygments_stylesheet",function(a){var b=this;return null==a&&(a=c),"<style>\n"+b.$pygments_stylesheet_data(a)+"\n</style>"}),a.defn(h,"$write_pygments_stylesheet",function(b,d){var e,f,g,h=this;return null==d&&(d=c),(e=(f=a.get("File")).$open,e.$$p=(g=function(a){var b=g.$$s||this;return null==a&&(a=c),a.$write(b.$pygments_stylesheet_data(d))},g.$$s=h,g),e).call(f,a.get("File").$join(b,h.$pygments_stylesheet_name(d)),"w")}),a.defn(h,"$load_pygments",function(){var b;return(b=null==a.Object.$$scope.Pygments?c:"constant")===c||b.$$is_boolean&&1!=b?j.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0}),c&&"load_pygments"}(h.base,null)}(b.base)},Opal.modules["asciidoctor/table"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a/b:a["$/"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function f(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var g=(a.top,a),h=a.nil,i=(a.breaker,a.slice),j=a.module,k=a.klass,l=a.hash2,m=a.range;return function(g){var n=j(g,"Asciidoctor"),o=(n.$$proto,n.$$scope);!function(g,i){function j(){}var m,n=j=k(g,i,"Table",j),o=n.$$proto,p=n.$$scope;return o.attributes=o.document=o.has_header_option=o.rows=h,function(b,c){function d(){}var e=d=k(b,c,"Rows",d);e.$$proto,e.$$scope;return e.$attr_accessor("head","foot","body"),a.defn(e,"$initialize",function(a,b,c){var d=this;return null==a&&(a=[]),null==b&&(b=[]),null==c&&(c=[]),d.head=a,d.foot=b,d.body=c}),a.alias(e,"[]","send")}(p.base,null),a.cdecl(p,"DEFAULT_DATA_FORMAT","psv"),a.cdecl(p,"DATA_FORMATS",["psv","dsv","csv"]),a.cdecl(p,"DEFAULT_DELIMITERS",l(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),a.cdecl(p,"TEXT_STYLES",l(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),a.cdecl(p,"ALIGNMENTS",l(["h","v"],{h:l(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:l(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),n.$attr_accessor("columns"),n.$attr_accessor("rows"),n.$attr_accessor("has_header_option"),a.defn(n,"$initialize",m=function(e,f){var g,i,j,k=this,l=(m.$$p,h),n=h;return m.$$p=null,a.find_super_dispatcher(k,"initialize",m,null).apply(k,[e,"table"]),k.rows=p.get("Rows").$new(),k.columns=[],k.has_header_option=f["$key?"]("header-option"),l=f["$[]"]("width"),n=l.$to_i().$abs(),(g=(i=(j=n["$=="](0))?l["$!="]("0"):n["$=="](0))!==!1&&i!==h?i:b(n,100))===h||g.$$is_boolean&&1!=g||(n=100),k.attributes["$[]="]("tablepcwidth",n),(g=k.document.$attributes()["$key?"]("pagewidth"))===h||g.$$is_boolean&&1!=g?h:(g="tableabswidth",i=k.attributes,(j=i["$[]"](g))!==!1&&j!==h?j:i["$[]="](g,c(d(k.attributes["$[]"]("tablepcwidth").$to_f(),100),k.document.$attributes()["$[]"]("pagewidth")).$round()))}),a.defn(n,"$header_row?",function(){var a,b=this;return a=b.has_header_option,a!==!1&&a!==h?b.rows.$body()["$empty?"]():a}),a.defn(n,"$create_columns",function(a){var b,c,f,g,i,j=this,k=h,l=h,m=h;return k=0,l=[],(b=(c=a).$each,b.$$p=(f=function(a){var b=f.$$s||this;return null==a&&(a=h),k=e(k,a["$[]"]("width")),l["$<<"](p.get("Column").$new(b,l.$size(),a))},f.$$s=j,f),b).call(c),((b=l["$empty?"]())===h||b.$$is_boolean&&1!=b)&&(j.attributes["$[]="]("colcount",l.$size()),m=d(100,l.$size()).$floor(),(b=(g=l).$each,b.$$p=(i=function(a){i.$$s||this;return null==a&&(a=h),a.$assign_width(k,m)},i.$$s=j,i),b).call(g)),j.columns=l,h}),a.defn(n,"$partition_header_footer",function(a){var c,d,e,g,i=this,j=h,k=h;return i.attributes["$[]="]("rowcount",i.rows.$body().$size()),j=i.rows.$body().$size(),(c=(d=b(j,0))?i.has_header_option:b(j,0))===h||c.$$is_boolean&&1!=c||(k=i.rows.$body().$shift(),j=f(j,1),(c=(d=k).$each,c.$$p=(e=function(a){var b,c;e.$$s||this;return null==a&&(a=h),b=[h],c=a,c["$style="].apply(c,b),b[b.length-1]},e.$$s=i,e),c).call(d),c=[[k]],g=i.rows,g["$head="].apply(g,c),c[c.length-1]),(c=(g=b(j,0))?a["$key?"]("footer-option"):b(j,0))===h||c.$$is_boolean&&1!=c||(c=[[i.rows.$body().$pop()]],g=i.rows,g["$foot="].apply(g,c),c[c.length-1]),h}),h&&"partition_header_footer"}(o.base,o.get("AbstractBlock")),function(f,g){function i(){}var j,m=i=k(f,g,"Column",i),n=m.$$proto;m.$$scope;return n.attributes=h,m.$attr_accessor("style"),a.defn(m,"$initialize",j=function(b,c,d){var f,g,i,k=this;j.$$p;return null==d&&(d=l([],{})),j.$$p=null,a.find_super_dispatcher(k,"initialize",j,null).apply(k,[b,"column"]),k.style=d["$[]"]("style"),d["$[]="]("colnumber",e(c,1)),f="width",g=d,(i=g["$[]"](f))!==!1&&i!==h?i:g["$[]="](f,1),f="halign",g=d,(i=g["$[]"](f))!==!1&&i!==h?i:g["$[]="](f,"left"),f="valign",g=d,(i=g["$[]"](f))!==!1&&i!==h?i:g["$[]="](f,"top"),k.$update_attributes(d)}),a.alias(m,"table","parent"),a.defn(m,"$assign_width",function(a,e){var f,g=this,i=h;return i=b(a,0)?c(d(g.attributes["$[]"]("width").$to_f(),a),100).$floor():e,g.attributes["$[]="]("colpcwidth",i),(f=g.$parent().$attributes()["$key?"]("tableabswidth"))===h||f.$$is_boolean&&1!=f||g.attributes["$[]="]("colabswidth",c(d(i.$to_f(),100),g.$parent().$attributes()["$[]"]("tableabswidth")).$round()),h}),h&&"assign_width"}(o.get("Table"),o.get("AbstractNode")),function(b,c){function d(){}var e,f,g=d=k(b,c,"Cell",d),j=g.$$proto,m=g.$$scope;return j.style=j.document=j.text=j.inner_document=j.colspan=j.rowspan=j.attributes=h,g.$attr_accessor("style"),g.$attr_accessor("colspan"),g.$attr_accessor("rowspan"),a.alias(g,"column","parent"),g.$attr_reader("inner_document"),a.defn(g,"$initialize",e=function(b,c,d,f){var g,i,j=this,k=(e.$$p,h),n=h,o=h,p=h;return null==d&&(d=l([],{})),null==f&&(f=h),e.$$p=null,a.find_super_dispatcher(j,"initialize",e,null).apply(j,[b,"cell"]),j.text=c,j.style=h,j.colspan=h,j.rowspan=h,b!==!1&&b!==h&&(j.style=b.$attributes()["$[]"]("style"),j.$update_attributes(b.$attributes())),d!==!1&&d!==h&&(j.colspan=d.$delete("colspan"),j.rowspan=d.$delete("rowspan"),(g=d["$key?"]("style"))===h||g.$$is_boolean&&1!=g||(j.style=d["$[]"]("style")),j.$update_attributes(d)),(g=(i=j.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():j.style["$=="]("asciidoc"))===h||g.$$is_boolean&&1!=g?h:(k=j.document.$attributes().$delete("doctitle"),n=j.text.$split(m.get("EOL")),((g=(i=n["$empty?"]())!==!1&&i!==h?i:n["$[]"](0)["$include?"]("::")["$!"]())===h||g.$$is_boolean&&1!=g)&&(o=n["$[]"](0),p=m.get("PreprocessorReader").$new(j.document,o).$readlines(),(g=p["$!="](o))===h||g.$$is_boolean&&1!=g||(n.$shift(),(g=n).$unshift.apply(g,a.to_a(p)))),j.inner_document=m.get("Document").$new(n,l(["header_footer","parent","cursor"],{header_footer:!1,parent:j.document,cursor:f})),(i=k["$nil?"]())===h||i.$$is_boolean&&1!=i?j.document.$attributes()["$[]="]("doctitle",k):h)}),a.defn(g,"$text",function(){var a=this;return a.$apply_normal_subs(a.text).$strip()}),a.defn(g,"$content",function(){var a,b,c,d=this;return d.style["$=="]("asciidoc")?d.inner_document.$convert():(a=(b=d.$text().$split(m.get("BlankLineRx"))).$map,a.$$p=(c=function(a){var b,d,e=c.$$s||this;return null==e.style&&(e.style=h),null==a&&(a=h),(b=(d=e.style["$!"]())!==!1&&d!==h?d:e.style["$=="]("header"))===h||b.$$is_boolean&&1!=b?m.get("Inline").$new(e.$parent(),"quoted",a,l(["type"],{type:e.style})).$convert():a},c.$$s=d,c),a).call(b)}),a.defn(g,"$to_s",f=function(){var b,c=i.call(arguments,0),d=this,e=f.$$p;return f.$$p=null,""+a.find_super_dispatcher(d,"to_s",f,e).apply(d,c).$to_s()+" - [text: "+d.text+", colspan: "+((b=d.colspan)!==!1&&b!==h?b:1)+", rowspan: "+((b=d.rowspan)!==!1&&b!==h?b:1)+", attributes: "+d.attributes+"]"}),h&&"to_s"}(o.get("Table"),o.get("AbstractNode")),function(c,d){function g(){}var i=g=k(c,d,"ParserContext",g),j=i.$$proto,n=i.$$scope;return j.format=j.delimiter=j.delimiter_re=j.buffer=j.cell_specs=j.cell_open=j.last_cursor=j.table=j.current_row=j.col_count=j.col_visits=j.active_rowspans=j.linenum=h,i.$attr_accessor("table"),i.$attr_accessor("format"),i.$attr_reader("col_count"),i.$attr_accessor("buffer"),i.$attr_reader("delimiter"),i.$attr_reader("delimiter_re"),a.defn(i,"$initialize",function(a,b,c){var d,e,f,g=this;return null==c&&(c=l([],{})),g.reader=a,g.table=b,g.last_cursor=a.$cursor(),(d=g.format=c["$[]"]("format"))===h||d.$$is_boolean&&1!=d?g.format=n.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((d=n.get("Table").$$scope.get("DATA_FORMATS")["$include?"](g.format))===h||d.$$is_boolean&&1!=d)&&g.$raise("Illegal table format: "+g.format),g.delimiter=function(){return e=(f=g.format["$=="]("psv"))?c["$key?"]("separator")["$!"]():g.format["$=="]("psv"),(d=e!==!1&&e!==h?b.$document()["$nested?"]():e)===h||d.$$is_boolean&&1!=d?(d=c["$[]"]("separator"))!==!1&&d!==h?d:n.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](g.format):"!"}(),g.delimiter_re=new RegExp(""+n.get("Regexp").$escape(g.delimiter)),g.col_count=function(){return(d=b.$columns()["$empty?"]())===h||d.$$is_boolean&&1!=d?b.$columns().$size():-1}(),g.buffer="",g.cell_specs=[],g.cell_open=!1,g.active_rowspans=[0],g.col_visits=0,g.current_row=[],g.linenum=-1}),a.defn(i,"$starts_with_delimiter?",function(a){var b=this;return a["$start_with?"](b.delimiter)}),a.defn(i,"$match_delimiter",function(a){var b=this;return b.delimiter_re.$match(a)}),a.defn(i,"$skip_matched_delimiter",function(a,b){var c=this;return null==b&&(b=!1),c.buffer=""+c.buffer+function(){return b!==!1&&b!==h?a.$pre_match().$chop():a.$pre_match()}()+c.delimiter,a.$post_match()}),a.defn(i,"$buffer_has_unclosed_quotes?",function(a){var b,c,d=this,e=h;return null==a&&(a=h),e=(""+d.buffer+a).$strip(),c=e["$start_with?"]('"'),b=c!==!1&&c!==h?e["$start_with?"]('""')["$!"]():c,b!==!1&&b!==h?e["$end_with?"]('"')["$!"]():b}),a.defn(i,"$buffer_quoted?",function(){var a,b=this;return b.buffer=b.buffer.$lstrip(),a=b.buffer["$start_with?"]('"'),a!==!1&&a!==h?b.buffer["$start_with?"]('""')["$!"]():a}),a.defn(i,"$take_cell_spec",function(){var a=this;return a.cell_specs.$shift()}),a.defn(i,"$push_cell_spec",function(a){var b,c=this;return null==a&&(a=l([],{})),c.cell_specs["$<<"]((b=a)!==!1&&b!==h?b:l([],{})),h}),a.defn(i,"$keep_cell_open",function(){var a=this;return a.cell_open=!0,h}),a.defn(i,"$mark_cell_closed",function(){var a=this;return a.cell_open=!1,h}),a.defn(i,"$cell_open?",function(){var a=this;return a.cell_open}),a.defn(i,"$cell_closed?",function(){var a=this;return a.cell_open["$!"]()}),a.defn(i,"$close_open_cell",function(a){var b,c=this;return null==a&&(a=l([],{})),c.$push_cell_spec(a),(b=c["$cell_open?"]())===h||b.$$is_boolean&&1!=b||c.$close_cell(!0),c.$advance(),h}),a.defn(i,"$close_cell",function(c){try{var d,g,i,j=this,k=h,o=h,p=h;return null==c&&(c=!1),k=j.buffer.$strip(),j.buffer="",j.format["$=="]("psv")?(o=j.$take_cell_spec(),o!==!1&&o!==h?(p=o.$fetch("repeatcol",1),o.$delete("repeatcol")):(j.$warn("asciidoctor: ERROR: "+j.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),o=l([],{}),p=1)):(o=h,p=1,j.format["$=="]("csv")&&(g=k["$empty?"]()["$!"](),(d=g!==!1&&g!==h?k["$include?"]('"'):g)===h||d.$$is_boolean&&1!=d||(g=k["$start_with?"]('"'),(d=g!==!1&&g!==h?k["$end_with?"]('"'):g)===h||d.$$is_boolean&&1!=d||(k=k["$[]"](m(1,-1,!0)).$strip()),k=k.$tr_s('"','"')))),(d=(g=1).$upto,d.$$p=(i=function(d){var g,j,l,m,q,r,s=i.$$s||this,t=h,u=h,v=h,w=h;return null==s.col_count&&(s.col_count=h),null==s.table&&(s.table=h),null==s.current_row&&(s.current_row=h),null==s.last_cursor&&(s.last_cursor=h),null==s.reader&&(s.reader=h),null==s.col_visits&&(s.col_visits=h),null==s.linenum&&(s.linenum=h),null==d&&(d=h),s.col_count["$=="](-1)?(s.table.$columns()["$<<"](t=n.get("Table").$$scope.get("Column").$new(s.table,f(e(s.table.$columns().$size(),d),1))),j=(l=o!==!1&&o!==h)?o["$key?"]("colspan"):o,(g=j!==!1&&j!==h?b(u=f(o["$[]"]("colspan").$to_i(),1),0):j)===h||g.$$is_boolean&&1!=g||(v=s.table.$columns().$size(),(g=(j=u).$times,g.$$p=(m=function(a){var b=m.$$s||this;return null==b.table&&(b.table=h),null==a&&(a=h),b.table.$columns()["$<<"](n.get("Table").$$scope.get("Column").$new(b.table,e(v,a)))},m.$$s=s,m),g).call(j))):((g=t=s.table.$columns()["$[]"](s.current_row.$size()))===h||g.$$is_boolean&&1!=g)&&(s.$warn("asciidoctor: ERROR: "+s.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(h)),w=n.get("Table").$$scope.get("Cell").$new(t,k,o,s.last_cursor),s.last_cursor=s.reader.$cursor(),((g=(l=w.$rowspan()["$!"]())!==!1&&l!==h?l:w.$rowspan()["$=="](1))===h||g.$$is_boolean&&1!=g)&&s.$activate_rowspan(w.$rowspan(),(g=w.$colspan())!==!1&&g!==h?g:1),s.col_visits=e(s.col_visits,(g=w.$colspan())!==!1&&g!==h?g:1),s.current_row["$<<"](w),l=s["$end_of_row?"](),(g=l!==!1&&l!==h?(q=(r=s.col_count["$!="](-1))!==!1&&r!==h?r:b(s.linenum,0))!==!1&&q!==h?q:(r=c!==!1&&c!==h)?d["$=="](p):c:l)===h||g.$$is_boolean&&1!=g?h:s.$close_row()},i.$$s=j,i),d).call(g,p),j.cell_open=!1,h}catch(q){if(q===a.returner)return q.$v;throw q}}),a.defn(i,"$close_row",function(){var a,b,c,d=this;return d.table.$rows().$body()["$<<"](d.current_row),d.col_count["$=="](-1)&&(d.col_count=d.col_visits),d.col_visits=0,d.current_row=[],d.active_rowspans.$shift(),a=0,b=d.active_rowspans,(c=b["$[]"](a))!==!1&&c!==h?c:b["$[]="](a,0),h}),a.defn(i,"$activate_rowspan",function(a,b){var c,d,g,i=this;return(c=(d=1..$upto(f(a,1))).$each,c.$$p=(g=function(a){var c,d=g.$$s||this;return null==d.active_rowspans&&(d.active_rowspans=h),null==a&&(a=h),d.active_rowspans["$[]="](a,e((c=d.active_rowspans["$[]"](a))!==!1&&c!==h?c:0,b))},g.$$s=i,g),c).call(d),h}),a.defn(i,"$end_of_row?",function(){var a,b=this;return(a=b.col_count["$=="](-1))!==!1&&a!==h?a:b.$effective_col_visits()["$=="](b.col_count)}),a.defn(i,"$effective_col_visits",function(){var a=this;return e(a.col_visits,a.active_rowspans["$[]"](0))}),a.defn(i,"$advance",function(){var a=this;return a.linenum=e(a.linenum,1)}),h&&"advance"}(o.get("Table"),null)}(g.base)},Opal.modules.asciidoctor=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a>=b:a["$>="](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?a*b:a["$*"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}a.dynamic_require_severity="ignore";var e,f=a.top,g=a,h=a.nil,i=(a.breaker,a.slice,a.gvars),j=a.module,k=a.hash2,l=a.range,m=a.hash;return null==i[":"]&&(i[":"]=h),((e=null!=g.RUBY_ENGINE)===h||e.$$is_boolean&&1!=e)&&a.cdecl(g,"RUBY_ENGINE","unknown"),a.cdecl(g,"RUBY_ENGINE_OPAL",g.get("RUBY_ENGINE")["$=="]("opal")),a.cdecl(g,"RUBY_ENGINE_JRUBY",g.get("RUBY_ENGINE")["$=="]("jruby")),a.cdecl(g,"RUBY_MIN_VERSION_1_9",b(g.get("RUBY_VERSION"),"1.9")),a.cdecl(g,"RUBY_MIN_VERSION_2",b(g.get("RUBY_VERSION"),"2")),f.$require("set"),g.get("RUBY_ENGINE")["$=="]("opal")&&f.$require("asciidoctor/opal_ext"),i[":"].$unshift(g.get("File").$dirname("asciidoctor")),function(e){var f,g,i,n=j(e,"Asciidoctor"),o=(n.$$proto,n.$$scope),p=h,q=h;a.cdecl(o,"RUBY_ENGINE",a.get("RUBY_ENGINE")),function(b){var c=j(b,"SafeMode"),d=(c.$$proto,c.$$scope);a.cdecl(d,"UNSAFE",0),a.cdecl(d,"SAFE",1),a.cdecl(d,"SERVER",10),a.cdecl(d,"SECURE",20)}(o.base),function(b){var c=j(b,"Compliance");c.$$proto,c.$$scope;c.keys=a.get("Set").$new(),function(a){a.$$scope,a.$$proto;return a.$attr("keys")}(a.get_singleton_class(c)),a.defs(c,"$define",function(b,c){var d,e,f=this;return null==f.keys&&(f.keys=h),(d=(e=b["$=="]("keys"))!==!1&&e!==h?e:f["$respond_to?"](b))===h||d.$$is_boolean&&1!=d||f.$raise(a.get("ArgumentError"),"illegal key name: "+b),f.$instance_variable_set("@"+b,c),function(a){a.$$scope,a.$$proto;return a}(a.get_singleton_class(f)).$send("attr_accessor",b),f.keys["$<<"](b)}),c.$define("block_terminates_paragraph",!0),c.$define("strict_verbatim_paragraphs",!0),c.$define("underline_style_section_titles",!0),c.$define("unwrap_standalone_preamble",!0),c.$define("attribute_missing","skip"),c.$define("attribute_undefined","drop-line"),c.$define("shorthand_property_syntax",!0),c.$define("unique_id_start_index",2),c.$define("markdown_syntax",!0)}(o.base),a.cdecl(o,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor")))),a.cdecl(o,"LIB_PATH",a.get("File").$join(o.get("ROOT_PATH"),"lib")),a.cdecl(o,"DATA_PATH",a.get("File").$join(o.get("ROOT_PATH"),"data"));try{a.cdecl(o,"USER_HOME",a.get("Dir").$home())}catch(r){try{a.cdecl(o,"USER_HOME",(f=a.get("ENV")["$[]"]("HOME"))!==!1&&f!==h?f:a.get("Dir").$pwd())}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}a.cdecl(o,"COERCE_ENCODING",(f=a.get("RUBY_ENGINE_OPAL")["$!"](),f!==!1&&f!==h?a.get("RUBY_MIN_VERSION_1_9"):f)),a.cdecl(o,"FORCE_ENCODING",(f=o.get("COERCE_ENCODING"),f!==!1&&f!==h?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):f)),a.cdecl(o,"BOM_BYTES_UTF_8","ï»¿".$bytes().$to_a()),a.cdecl(o,"BOM_BYTES_UTF_16LE","ÿþ".$bytes().$to_a()),a.cdecl(o,"BOM_BYTES_UTF_16BE","þÿ".$bytes().$to_a()),a.cdecl(o,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]()),a.cdecl(o,"SUPPORTS_GSUB_RESULT_HASH",(f=a.get("RUBY_MIN_VERSION_1_9"),f!==!1&&f!==h?a.get("RUBY_ENGINE_OPAL")["$!"]():f)),a.cdecl(o,"EOL","\n"),a.cdecl(o,"NULL","\x00"),a.cdecl(o,"TAB","	"),a.cdecl(o,"DEFAULT_DOCTYPE","article"),a.cdecl(o,"DEFAULT_BACKEND","html5"),a.cdecl(o,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),a.cdecl(o,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(o,"BACKEND_ALIASES",k(["html","docbook"],{html:"html5",docbook:"docbook5"})),a.cdecl(o,"DEFAULT_PAGE_WIDTHS",k(["docbook"],{docbook:425})),a.cdecl(o,"DEFAULT_EXTENSIONS",k(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"})),a.cdecl(o,"ASCIIDOC_EXTENSIONS",k([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),a.cdecl(o,"SECTION_LEVELS",k(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),a.cdecl(o,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),a.cdecl(o,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),a.cdecl(o,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),a.cdecl(o,"DELIMITED_BLOCKS",k(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]})),a.cdecl(o,"DELIMITED_BLOCK_LEADERS",(f=(g=o.get("DELIMITED_BLOCKS").$keys()).$map,f.$$p=(i=function(a){i.$$s||this;return null==a&&(a=h),a["$[]"](l(0,1,!1))},i.$$s=n,i),f).call(g).$to_set()),a.cdecl(o,"LAYOUT_BREAK_LINES",k(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),a.cdecl(o,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),a.cdecl(o,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),a.cdecl(o,"ORDERED_LIST_KEYWORDS",k(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),a.cdecl(o,"LIST_CONTINUATION","+"),a.cdecl(o,"LINE_BREAK"," +"),a.cdecl(o,"LINE_CONTINUATION"," \\"),a.cdecl(o,"LINE_CONTINUATION_LEGACY"," +"),a.cdecl(o,"BLOCK_MATH_DELIMITERS",k(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),a.cdecl(o,"INLINE_MATH_DELIMITERS",k(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),a.cdecl(o,"FLEXIBLE_ATTRIBUTES",["sectnums"]),o.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(o,"CC_ALPHA","a-zA-Z"),a.cdecl(o,"CG_ALPHA","[a-zA-Z]"),a.cdecl(o,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(o,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(o,"CG_BLANK","[ \\t]"),a.cdecl(o,"CC_EOL","(?=\\n|$)"),a.cdecl(o,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(o,"CC_ALL","[\\s\\S]"),a.cdecl(o,"CC_WORD","a-zA-Z0-9_"),a.cdecl(o,"CG_WORD","[a-zA-Z0-9_]")),a.cdecl(o,"AuthorInfoLineRx",new RegExp("^("+o.get("CG_WORD")+"["+o.get("CC_WORD")+"\\-'.]*)(?: +("+o.get("CG_WORD")+"["+o.get("CC_WORD")+"\\-'.]*))?(?: +("+o.get("CG_WORD")+"["+o.get("CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$")),a.cdecl(o,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),a.cdecl(o,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),a.cdecl(o,"ManpageNamePurposeRx",new RegExp("^(.*?)"+o.get("CG_BLANK")+"+-"+o.get("CG_BLANK")+"+(.*)$")),a.cdecl(o,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),
a.cdecl(o,"EvalExpressionRx",new RegExp("^(\\S.*?)"+o.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+o.get("CG_BLANK")+"*(\\S.*)$")),a.cdecl(o,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/),a.cdecl(o,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/),a.cdecl(o,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+o.get("CG_BLANK")+"+(.*))?$")),a.cdecl(o,"InvalidAttributeNameCharsRx",/[^\w\-]/),a.cdecl(o,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),a.cdecl(o,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),a.cdecl(o,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+o.get("CC_ALPHA")+":_]["+o.get("CC_WORD")+":.-]*)(?:,"+o.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$")),a.cdecl(o,"BlockAttributeListRx",new RegExp("^\\[(|"+o.get("CG_BLANK")+"*["+o.get("CC_WORD")+"\\{,.#\"'%].*)\\]$")),a.cdecl(o,"BlockAttributeLineRx",new RegExp("^\\[(|"+o.get("CG_BLANK")+"*["+o.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+o.get("CC_ALPHA")+":_]["+o.get("CC_WORD")+":.-]*(?:,"+o.get("CG_BLANK")+"*\\S.*)?)\\])\\]$")),a.cdecl(o,"BlockTitleRx",/^\.([^\s.].*)$/),a.cdecl(o,"AdmonitionParagraphRx",new RegExp("^("+c(o.get("ADMONITION_STYLES").$to_a(),"|")+"):"+o.get("CG_BLANK"))),a.cdecl(o,"LiteralParagraphRx",new RegExp("^("+o.get("CG_BLANK")+"+.*)$")),a.cdecl(o,"CommentBlockRx",/^\/{4,}$/),a.cdecl(o,"CommentLineRx",/^\/\/(?:[^\/]|$)/),a.cdecl(o,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+o.get("CG_BLANK")+"+(\\S.*?)(?:"+o.get("CG_BLANK")+"+\\1)?$")),a.cdecl(o,"SetextSectionTitleRx",new RegExp("^((?=.*"+o.get("CG_WORD")+"+.*)[^.].*?)$")),a.cdecl(o,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/),a.cdecl(o,"InlineSectionAnchorRx",new RegExp("^(.*?)"+o.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+o.get("CC_ALPHA")+":_]["+o.get("CC_WORD")+":.-]*)(?:,"+o.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$")),a.cdecl(o,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+o.get("CC_WORD")+"]+?")),a.cdecl(o,"FloatingTitleStyleRx",/^(?:float|discrete)\b/),a.cdecl(o,"AnyListRx",new RegExp("^(?:<?\\d+>"+o.get("CG_BLANK")+"+"+o.get("CG_GRAPH")+"|"+o.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+o.get("CG_BLANK")+"+"+o.get("CG_GRAPH")+"|"+o.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+o.get("CG_BLANK")+"+"+o.get("CG_GRAPH")+"|$))")),a.cdecl(o,"UnorderedListRx",new RegExp("^"+o.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+o.get("CG_BLANK")+"+(.*)$")),a.cdecl(o,"OrderedListRx",new RegExp("^"+o.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+o.get("CG_BLANK")+"+(.*)$")),a.cdecl(o,"OrderedListMarkerRxMap",k(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),a.cdecl(o,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+o.get("CG_BLANK")+"+(.*))?$")),a.cdecl(o,"DefinitionListSiblingRx",k(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+o.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+o.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+o.get("CG_BLANK")+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+o.get("CG_BLANK")+"*(.*)(;;)(?:"+o.get("CG_BLANK")+"+(.*))?$")})),a.cdecl(o,"CalloutListRx",new RegExp("^<?(\\d+)>"+o.get("CG_BLANK")+"+(.*)")),a.cdecl(o,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/),a.cdecl(o,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)"),a.cdecl(o,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+o.get("CC_EOL")+")")),a.cdecl(o,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+o.get("CC_EOL")+")")),a.cdecl(o,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+o.get("CC_EOL")+")"),a.cdecl(o,"ListRxMap",k(["ulist","olist","dlist","colist"],{ulist:o.get("UnorderedListRx"),olist:o.get("OrderedListRx"),dlist:o.get("DefinitionListRx"),colist:o.get("CalloutListRx")})),a.cdecl(o,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),a.cdecl(o,"CellSpecStartRx",new RegExp("^"+o.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),a.cdecl(o,"CellSpecEndRx",new RegExp(""+o.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),a.cdecl(o,"GenericBlockMacroRx",new RegExp("^("+o.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$")),a.cdecl(o,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/),a.cdecl(o,"TocBlockMacroRx",/^toc::\[(.*?)\]$/),a.cdecl(o,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+o.get("CC_ALPHA")+":_]["+o.get("CC_WORD")+":.-]*)(?:,"+o.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),a.cdecl(o,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+o.get("CC_WORD")+":]["+o.get("CC_WORD")+":.-]*?)\\]\\]\\]")),a.cdecl(o,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+o.get("CG_WORD")+"["+o.get("CC_WORD")+".%+-]*@"+o.get("CG_ALNUM")+"["+o.get("CC_ALNUM")+".-]*\\."+o.get("CG_ALPHA")+"{2,4}\\b")),a.cdecl(o,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+o.get("CC_ALL")+"*?[^\\\\])\\]")),a.cdecl(o,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),a.cdecl(o,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+o.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+o.get("CC_ALL")+"+?)\\)\\)(?!\\)))")),a.cdecl(o,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),a.cdecl(o,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+o.get("CG_BLANK")+"*[^\\1])")),a.cdecl(o,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),a.cdecl(o,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),a.cdecl(o,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+o.get("CC_ALL")+"*?[^\\\\])\\]")),a.cdecl(o,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+o.get("CG_WORD")+"|"+o.get("CG_WORD")+".*?\\S)\\["+o.get("CG_BLANK")+"*(.+?)?\\]")),a.cdecl(o,"MenuInlineRx",new RegExp('\\\\?"('+o.get("CG_WORD")+'[^"]*?'+o.get("CG_BLANK")+"*&gt;"+o.get("CG_BLANK")+'*[^" \\t][^"]*)"')),a.cdecl(o,"PassInlineRx",m(!1,["+","`",new RegExp("(^|[^"+o.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+o.get("CC_ALL")+"*?\\S)\\4)(?!"+o.get("CG_WORD")+")")],!0,["`",h,new RegExp("(^|[^`"+o.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+o.get("CC_ALL")+"*?\\S)\\4)(?![`"+o.get("CC_WORD")+"])")])),a.cdecl(o,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+o.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+o.get("CC_ALL")+"*?[^\\\\])\\])")),a.cdecl(o,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+o.get("CC_WORD")+'":.\\/]'+o.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+o.get("CC_WORD")+'":.\\/]'+o.get("CC_ALL")+"*?)\\[("+o.get("CC_ALL")+"*?)\\])")),o.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(o,"LineBreakRx",/^(.*)[ \t]\+$/m),a.cdecl(o,"LayoutBreakLineRx",/^('|<){3,}$/),a.cdecl(o,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/),a.cdecl(o,"BlankLineRx",new RegExp("^"+o.get("CG_BLANK")+"*\\n")),a.cdecl(o,"DataDelimiterRx",/,|;/),a.cdecl(o,"DigitsRx",/^\d+$/),a.cdecl(o,"DoubleQuotedRx",/^("|)(.*)\1$/),a.cdecl(o,"DoubleQuotedMultiRx",new RegExp('^("|)('+o.get("CC_ALL")+"*)\\1$")),a.cdecl(o,"TrailingDigitsRx",/\d+$/),a.cdecl(o,"EscapedSpaceRx",new RegExp("\\\\("+o.get("CG_BLANK")+")")),a.cdecl(o,"SpaceDelimiterRx",new RegExp("([^\\\\])"+o.get("CG_BLANK")+"+")),a.cdecl(o,"SubModifierSniffRx",/[+-]/),a.cdecl(o,"UnicodeCharScanRx",function(){return o.get("RUBY_ENGINE")["$=="]("opal")?h:h}()),a.cdecl(o,"UriSniffRx",new RegExp("^"+o.get("CG_ALPHA")+"["+o.get("CC_ALNUM")+".+-]+:/{0,2}")),a.cdecl(o,"UriTerminator",/[);:]$/),a.cdecl(o,"XmlSanitizeRx",/<[^>]+>/),a.cdecl(o,"INTRINSIC_ATTRIBUTES",k(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"})),p=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+o.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+o.get("CC_ALL")+"*?\\S)\\*(?!"+o.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+o.get("CC_ALL")+'*?\\S)`"(?!'+o.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+o.get("CC_ALL")+"*?\\S)`'(?!"+o.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+o.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+o.get("CC_ALL")+"*?\\S)`(?!["+o.get("CC_WORD")+"\"'`])")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+o.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+o.get("CC_ALL")+"*?\\S)_(?!"+o.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+o.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+o.get("CC_ALL")+"*?\\S)#(?!"+o.get("CG_WORD")+")")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]],q=p.$dup(),q["$[]="](2,["double","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+o.get("CC_ALL")+"*?\\S)''(?!"+o.get("CG_WORD")+")")]),q["$[]="](3,["single","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+o.get("CC_ALL")+"*?\\S)'(?!"+o.get("CG_WORD")+")")]),q["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+o.get("CC_ALL")+"+?)\\+\\+")]),q["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+o.get("CC_ALL")+"*?\\S)\\+(?!"+o.get("CG_WORD")+")")]),q.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+o.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+o.get("CC_ALL")+"*?\\S)'(?!"+o.get("CG_WORD")+")")]),a.cdecl(o,"QUOTE_SUBS",m(!1,p,!0,q)),p=h,q=h,a.cdecl(o,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+o.get("CG_WORD")+")\\\\?--(?="+o.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+o.get("CG_ALNUM")+")\\\\?'(?="+o.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]),function(c){var e=c.$$scope;c.$$proto;return a.defn(c,"$load",function(b,c){var d,f,g,i,j,l,m,n,o,p=this,q=h,r=h,s=h,t=h,u=h,v=h,w=h,x=h,y=h,z=h,A=h,B=h,C=h,D=h;null==c&&(c=k([],{}));try{if(c=c.$dup(),(d=q=c["$[]"]("timings"))===h||d.$$is_boolean&&1!=d||q.$start("read"),r=c["$[]="]("attributes",function(){return(d=(s=c["$[]"]("attributes"))["$!"]())===h||d.$$is_boolean&&1!=d?(d=(f=a.get("Hash")["$==="](s))!==!1&&f!==h?f:(g=a.get("RUBY_ENGINE_JRUBY"),g!==!1&&g!==h?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](s):g))===h||d.$$is_boolean&&1!=d?(d=a.get("Array")["$==="](s))===h||d.$$is_boolean&&1!=d?(d=a.get("String")["$==="](s))===h||d.$$is_boolean&&1!=d?(l=s["$respond_to?"]("keys"),(d=l!==!1&&l!==h?s["$respond_to?"]("[]"):l)===h||d.$$is_boolean&&1!=d?p.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+s.$class().$ancestors()):(u=s,s=k([],{}),(d=(l=u.$keys()).$each,d.$$p=(m=function(a){m.$$s||this;return null==a&&(a=h),s["$[]="](a,u["$[]"](a))},m.$$s=p,m),d).call(l),s)):(t=function(){return"\\1"}(),s=s.$gsub(e.get("SpaceDelimiterRx"),""+t+e.get("NULL")).$gsub(e.get("EscapedSpaceRx"),t),(d=(g=s.$split(e.get("NULL"))).$inject,d.$$p=(j=function(b,c){var d,e=(j.$$s||this,h),f=h;return null==b&&(b=h),null==c&&(c=h),d=a.to_ary(c.$split("=",2)),e=null==d[0]?h:d[0],f=null==d[1]?h:d[1],b["$[]="](e,(d=f)!==!1&&d!==h?d:""),b},j.$$s=p,j),d).call(g,k([],{}))):(d=(f=s).$inject,d.$$p=(i=function(b,c){var d,e=(i.$$s||this,h),f=h;return null==b&&(b=h),null==c&&(c=h),d=a.to_ary(c.$split("=",2)),e=null==d[0]?h:d[0],f=null==d[1]?h:d[1],b["$[]="](e,(d=f)!==!1&&d!==h?d:""),b},i.$$s=p,i),d).call(f,k([],{})):s.$dup():k([],{})}()),v=h,(d=a.get("File")["$==="](b))===h||d.$$is_boolean&&1!=d)if((d=b["$respond_to?"]("readlines"))===h||d.$$is_boolean&&1!=d)(d=a.get("String")["$==="](b))===h||d.$$is_boolean&&1!=d?(d=a.get("Array")["$==="](b))===h||d.$$is_boolean&&1!=d?p.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):v=b.$dup():v=b.$lines().$entries();else{try{b.$rewind()}catch(E){try{}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}v=b.$readlines()}else w=a.get("File").$expand_path(b.$path()),x=b.$mtime(),v=b.$readlines(),r["$[]="]("docfile",w),r["$[]="]("docdir",a.get("File").$dirname(w)),r["$[]="]("docname",e.get("Helpers").$basename(w,!0)),d="docdate",n=r,y=(o=n["$[]"](d))!==!1&&o!==h?o:n["$[]="](d,x.$strftime("%Y-%m-%d")),d="doctime",n=r,z=(o=n["$[]"](d))!==!1&&o!==h?o:n["$[]="](d,x.$strftime("%H:%M:%S %Z")),r["$[]="]("docdatetime",""+y+" "+z);return q!==!1&&q!==h&&(q.$record("read"),q.$start("parse")),A=c["$[]"]("parse")["$=="](!1)?e.get("Document").$new(v,c):e.get("Document").$new(v,c).$parse(),q!==!1&&q!==h&&q.$record("parse"),A}catch(E){B=E;try{try{C="asciidoctor: FAILED: "+((d=r["$[]"]("docfile"))!==!1&&d!==h?d:"<stdin>")+": Failed to load AsciiDoc document",(d=B["$respond_to?"]("exception"))===h||d.$$is_boolean&&1!=d?(D=B.$class().$new(C,B),d=[B.$stack_trace()],n=D,n["$stack_trace="].apply(n,d),d[d.length-1]):(D=B.$exception(""+C+" - "+B.$message()),D.$set_backtrace(B.$backtrace()))}catch(E){try{D=B}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}return p.$raise(D)}finally{a.gvars["!"]=a.exceptions.pop()||a.nil}}}),a.defn(c,"$load_file",function(b,c){var d,e=this;return null==c&&(c=k([],{})),e.$load(a.get("File").$new((d=b)!==!1&&d!==h?d:""),c)}),a.defn(c,"$convert",function(c,f){var g,i,j,l,m,n,o,p=this,q=h,r=h,s=h,t=h,u=h,v=h,w=h,x=h,y=h,z=h,A=h,B=h,C=h,D=h,E=h,F=h,G=h,H=h,I=h,J=h,K=h,L=h,M=h,N=h,O=h,P=h;if(null==f&&(f=k([],{})),f=f.$dup(),f.$delete("parse"),q=f.$delete("to_file"),r=f.$delete("to_dir"),s=(g=f.$delete("mkdirs"))!==!1&&g!==h?g:!1,t=f["$[]"]("timings"),u=q,(!0)["$==="](u)||h["$==="](u))g=r["$!"](),v=g!==!1&&g!==h?a.get("File")["$==="](c):g,w=!1,x=r,q=h;else if((!1)["$==="](u))v=!1,w=!1,x=!1,q=h;else{if("/dev/null"["$==="](u))return p.$load(c,f);v=!1,w=q["$respond_to?"]("write"),x=function(){return w!==!1&&w!==h?!1:q}()}return((g=f["$key?"]("header_footer"))===h||g.$$is_boolean&&1!=g)&&((g=(i=v)!==!1&&i!==h?i:x)===h||g.$$is_boolean&&1!=g||f["$[]="]("header_footer",!0)),v!==!1&&v!==h?(y=a.get("File").$expand_path(c.$path()),f["$[]="]("to_dir",z=a.get("File").$dirname(y))):x!==!1&&x!==h?r!==!1&&r!==h?q!==!1&&q!==h?f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(r,q)))):f["$[]="]("to_dir",a.get("File").$expand_path(r)):q!==!1&&q!==h&&f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(q))):f["$[]="]("to_dir",h),A=p.$load(c,f),v!==!1&&v!==h?(B=a.get("File").$join(z,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix()),B["$=="](y)&&p.$raise(a.get("IOError"),"input file and output file cannot be the same: "+B)):x!==!1&&x!==h?(C=function(){return(g=f["$has_key?"]("base_dir"))===h||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(f["$[]"]("base_dir"))}(),D=function(){return b(A.$safe(),e.get("SafeMode").$$scope.get("SAFE"))?C:h}(),r!==!1&&r!==h?(z=A.$normalize_system_path(r,C,D,k(["target_name","recover"],{target_name:"to_dir",recover:!1})),q!==!1&&q!==h?(B=A.$normalize_system_path(q,z,h,k(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=a.get("File").$dirname(B)):B=a.get("File").$join(z,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix())):q!==!1&&q!==h&&(B=A.$normalize_system_path(q,C,D,k(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=a.get("File").$dirname(B)),((g=a.get("File")["$directory?"](z))===h||g.$$is_boolean&&1!=g)&&(s!==!1&&s!==h?a.get("FileUtils").$mkdir_p(z):p.$raise(a.get("IOError"),"target directory does not exist: "+r))):(B=q,z=h),t!==!1&&t!==h&&t.$start("convert"),E=function(){return(g=(i=B!==!1&&B!==h)?w["$!"]():B)===h||g.$$is_boolean&&1!=g?k([],{}):k(["outfile","outdir"],{outfile:B,outdir:z})}(),F=A.$convert(E),t!==!1&&t!==h&&t.$record("convert"),B!==!1&&B!==h?(t!==!1&&t!==h&&t.$start("write"),A.$write(F,B),t!==!1&&t!==h&&t.$record("write"),n=w["$!"](),m=n!==!1&&n!==h?d(A.$safe(),e.get("SafeMode").$$scope.get("SECURE")):n,l=m!==!1&&m!==h?A["$attr?"]("linkcss"):m,j=l!==!1&&l!==h?A["$attr?"]("copycss"):l,i=j!==!1&&j!==h?A["$attr?"]("basebackend-html"):j,(g=i!==!1&&i!==h?(j=G=A.$attr("stylesdir"),j!==!1&&j!==h?e.get("Helpers")["$uriish?"](G):j)["$!"]():i)===h||g.$$is_boolean&&1!=g||(H=!1,I=!1,(g=J=A.$attr("stylesheet"))===h||g.$$is_boolean&&1!=g||((g=e.get("DEFAULT_STYLESHEET_KEYS")["$include?"](J))===h||g.$$is_boolean&&1!=g?(g=e.get("Helpers")["$uriish?"](J)["$!"]())===h||g.$$is_boolean&&1!=g||(I=!0):H=!0),g=A["$attr?"]("source-highlighter","coderay"),K=g!==!1&&g!==h?A.$attr("coderay-css","class")["$=="]("class"):g,g=A["$attr?"]("source-highlighter","pygments"),L=g!==!1&&g!==h?A.$attr("pygments-css","class")["$=="]("class"):g,(g=(i=(j=(l=H)!==!1&&l!==h?l:I)!==!1&&j!==h?j:K)!==!1&&i!==h?i:L)===h||g.$$is_boolean&&1!=g||(M=A.$normalize_system_path(G,z,function(){return b(A.$safe(),e.get("SafeMode").$$scope.get("SAFE"))?z:h}()),s!==!1&&s!==h&&e.get("Helpers").$mkdir_p(M),H!==!1&&H!==h?e.get("Stylesheets").$instance().$write_primary_stylesheet(M):I!==!1&&I!==h&&(N=(g=(N=A.$attr("copycss"))["$empty?"]())===h||g.$$is_boolean&&1!=g?A.$normalize_system_path(N):A.$normalize_system_path(J),O=A.$normalize_system_path(J,M,function(){return b(A.$safe(),e.get("SafeMode").$$scope.get("SAFE"))?z:h}()),((g=(i=N["$=="](O))!==!1&&i!==h?i:(P=A.$read_asset(N))["$nil?"]())===h||g.$$is_boolean&&1!=g)&&(g=(i=a.get("File")).$open,g.$$p=(o=function(a){o.$$s||this;return null==a&&(a=h),a.$write(P)},o.$$s=p,o),g).call(i,O,"w")),K!==!1&&K!==h?e.get("Stylesheets").$instance().$write_coderay_stylesheet(M):L!==!1&&L!==h&&e.get("Stylesheets").$instance().$write_pygments_stylesheet(M,A.$attr("pygments-style")))),A):F}),a.alias(c,"render","convert"),a.defn(c,"$convert_file",function(b,c){var d,e=this;return null==c&&(c=k([],{})),e.$convert(a.get("File").$new((d=b)!==!1&&d!==h?d:""),c)}),a.alias(c,"render_file","convert_file")}(a.get_singleton_class(n)),o.get("RUBY_ENGINE")["$=="]("opal")&&(n.$require("asciidoctor/version"),n.$require("asciidoctor/timings"))}(g.base),f.$require("asciidoctor/core_ext"),f.$require("asciidoctor/helpers"),f.$require("asciidoctor/substitutors"),f.$require("asciidoctor/abstract_node"),f.$require("asciidoctor/abstract_block"),f.$require("asciidoctor/attribute_list"),f.$require("asciidoctor/block"),f.$require("asciidoctor/callouts"),f.$require("asciidoctor/converter"),(e=g.get("RUBY_ENGINE_OPAL"))===h||e.$$is_boolean&&1!=e||f.$require("asciidoctor/converter/html5"),f.$require("asciidoctor/document"),f.$require("asciidoctor/inline"),f.$require("asciidoctor/list"),f.$require("asciidoctor/parser"),f.$require("asciidoctor/path_resolver"),f.$require("asciidoctor/reader"),f.$require("asciidoctor/section"),f.$require("asciidoctor/stylesheets"),f.$require("asciidoctor/table")},Opal.modules["asciidoctor/extensions"]=function(a){function b(a,b){return"number"==typeof a&&"number"==typeof b?a+b:a["$+"](b)}function c(a,b){return"number"==typeof a&&"number"==typeof b?b>a:a["$<"](b)}function d(a,b){return"number"==typeof a&&"number"==typeof b?a>b:a["$>"](b)}function e(a,b){return"number"==typeof a&&"number"==typeof b?a-b:a["$-"](b)}a.dynamic_require_severity="ignore";var f=(a.top,a),g=a.nil,h=a.breaker,i=a.slice,j=a.module,k=a.klass,l=a.hash2,m=a.range,n=a.hash;return function(f){var o=j(f,"Asciidoctor"),p=(o.$$proto,o.$$scope);!function(f){var o=j(f,"Extensions"),p=(o.$$proto,o.$$scope);!function(b,c){function d(){}var e,f,h,j=d=k(b,c,"Processor",d),m=j.$$proto,n=j.$$scope;return m.config=g,function(b){b.$$scope,b.$$proto;return a.defn(b,"$config",function(){var a,b=this;return null==b.config&&(b.config=g),(a=b.config)!==!1&&a!==g?a:b.config=l([],{})}),a.defn(b,"$option",function(a,b){var c=this;return c.$config()["$[]="](a,b)}),a.defn(b,"$use_dsl",function(){var a,b=this;return(a=b.$name()["$nil_or_empty?"]())===g||a.$$is_boolean&&1!=a?(a=b.$constants().$grep("DSL"))===g||a.$$is_boolean&&1!=a?g:b.$extend(b.$const_get("DSL")):(a=b.$constants().$grep("DSL"))===g||a.$$is_boolean&&1!=a?g:b.$include(b.$const_get("DSL"))}),a.alias(b,"extend_dsl","use_dsl"),a.alias(b,"include_dsl","use_dsl")}(a.get_singleton_class(j)),j.$attr_reader("config"),a.defn(j,"$initialize",function(a){var b=this;return null==a&&(a=l([],{})),b.config=b.$class().$config().$merge(a)}),a.defn(j,"$update_config",function(a){var b=this;return b.config.$update(a)}),a.defn(j,"$process",function(){var b=this,c=arguments.length-0;0>c&&(c=0);for(var d=new Array(c),e=0;c>e;e++)d[e]=arguments[e+0];return b.$raise(a.get("NotImplementedError"))}),a.defn(j,"$create_block",function(a,b,c,d,e){return null==e&&(e=l([],{})),n.get("Block").$new(a,b,l(["source","attributes"],{source:c,attributes:d}).$merge(e))}),a.defn(j,"$create_image_block",function(a,b,c){var d=this;return null==c&&(c=l([],{})),d.$create_block(a,"image",g,b,c)}),a.defn(j,"$create_inline",function(a,b,c,d){return null==d&&(d=l([],{})),n.get("Inline").$new(a,b,c,d)}),a.defn(j,"$parse_content",function(a,b,c){var d,e,f=g,h=g;for(null==c&&(c=l([],{})),f=function(){return(d=b["$is_a?"](n.get("Reader")))===g||d.$$is_boolean&&1!=d?n.get("Reader").$new(b):b}();(e=f["$has_more_lines?"]())!==g&&(!e.$$is_boolean||1==e);)h=n.get("Parser").$next_block(f,a,c),h!==!1&&h!==g&&a["$<<"](h);return g}),(e=(f=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,e.$$p=(h=function(b,c,d){var e,f,j,k=h.$$s||this;return null==b&&(b=g),null==c&&(c=g),null==d&&(d=g),(e=(f=k).$define_method,e.$$p=(j=function(b){var e,f=j.$$s||this;return b=i.call(arguments,0),(e=f).$send.apply(e,[c].concat(a.to_a(b.$dup().$insert(1,d))))},j.$$s=k,j),e).call(f,b)},h.$$s=j,h),e).call(f)}(p.base,null),function(b){var c,d=j(b,"ProcessorDsl");d.$$proto,d.$$scope;a.defn(d,"$option",function(a,b){var c=this;return c.$config()["$[]="](a,b)}),a.defn(d,"$process",c=function(){var b,d=this,e=c.$$p,f=e||g;null==d.process_block&&(d.process_block=g);var h=arguments.length-0;0>h&&(h=0);for(var i=new Array(h),j=0;h>j;j++)i[j]=arguments[j+0];return c.$$p=null,f!==g?d.process_block=f:(b=d.process_block)===g||b.$$is_boolean&&1!=b?d.$raise(a.get("NotImplementedError")):(b=d.process_block).$call.apply(b,a.to_a(i))}),a.defn(d,"$process_block_given?",function(){var a,b=this;return a=b.process_block,null!=a&&a!==g?"instance-variable":g})}(p.base),function(b,c){function d(){}var e=d=k(b,c,"Preprocessor",d);e.$$proto,e.$$scope;return a.defn(e,"$process",function(b,c){var d=this;return d.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),a.casgn(p.get("Preprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"Treeprocessor",d);e.$$proto,e.$$scope;return a.defn(e,"$process",function(b){var c=this;return c.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),a.casgn(p.get("Treeprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"Postprocessor",d);e.$$proto,e.$$scope;return a.defn(e,"$process",function(b,c){var d=this;return d.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),a.casgn(p.get("Postprocessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"IncludeProcessor",d);e.$$proto,e.$$scope;return a.defn(e,"$process",function(b,c,d,e){var f=this;return f.$raise(a.get("NotImplementedError"))}),a.defn(e,"$handles?",function(a){return!0}),g&&"handles?"}(p.base,p.get("Processor")),a.casgn(p.get("IncludeProcessor"),"DSL",p.get("ProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"DocinfoProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("location"),a.defn(f,"$initialize",e=function(b){var c,d,f,h=this;e.$$p;return null==b&&(b=l([],{})),e.$$p=null,a.find_super_dispatcher(h,"initialize",e,null).apply(h,[b]),c="location",d=h.config,(f=d["$[]"](c))!==!1&&f!==g?f:d["$[]="](c,"head")}),a.defn(f,"$process",function(b){var c=this;return c.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),function(b){var c=j(b,"DocinfoProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("ProcessorDsl")),a.defn(c,"$at_location",function(a){var b=this;return b.$option("location",a)})}(p.base),a.casgn(p.get("DocinfoProcessor"),"DSL",p.get("DocinfoProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"BlockProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("name"),a.defn(f,"$initialize",e=function(b,c){var d,f,h,i=this,j=(e.$$p,g);return null==b&&(b=g),null==c&&(c=l([],{})),e.$$p=null,a.find_super_dispatcher(i,"initialize",e,null).apply(i,[c]),i.name=(d=b)!==!1&&d!==g?d:i.config["$[]"]("name"),j=i.config["$[]"]("contexts"),a.get("NilClass")["$==="](j)?(d="contexts",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,["open","paragraph"].$to_set())):a.get("Symbol")["$==="](j)?i.config["$[]="]("contexts",[i.config["$[]"]("contexts")].$to_set()):i.config["$[]="]("contexts",i.config["$[]"]("contexts").$to_set()),d="content_model",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,"compound")}),a.defn(f,"$process",function(b,c,d){var e=this;return e.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),function(b){var c=j(b,"BlockProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("ProcessorDsl")),a.defn(c,"$named",function(a){var b,c=this;return(b=c["$is_a?"](d.get("Processor")))===g||b.$$is_boolean&&1!=b?c.$option("name",a):c.name=a}),a.alias(c,"match_name","named"),a.alias(c,"bind_to","named"),a.defn(c,"$contexts",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$option("contexts",c.$flatten())}),a.alias(c,"on_contexts","contexts"),a.alias(c,"on_context","contexts"),a.defn(c,"$content_model",function(a){var b=this;return b.$option("content_model",a)}),a.alias(c,"parse_content_as","content_model"),a.defn(c,"$positional_attributes",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$option("pos_attrs",c.$flatten())}),a.alias(c,"pos_attrs","positional_attributes"),a.alias(c,"name_attributes","positional_attributes"),a.alias(c,"name_positional_attributes","positional_attributes"),a.defn(c,"$default_attrs",function(a){var b=this;return b.$option("default_attrs",a)}),a.alias(c,"seed_attributes_with","default_attrs")}(p.base),a.casgn(p.get("BlockProcessor"),"DSL",p.get("BlockProcessorDsl")),function(b,c){function d(){}var e,f=d=k(b,c,"MacroProcessor",d),h=f.$$proto;f.$$scope;return h.config=g,f.$attr_accessor("name"),a.defn(f,"$initialize",e=function(b,c){var d,f,h,i=this;e.$$p;return null==b&&(b=g),null==c&&(c=l([],{})),e.$$p=null,a.find_super_dispatcher(i,"initialize",e,null).apply(i,[c]),i.name=(d=b)!==!1&&d!==g?d:i.config["$[]"]("name"),d="content_model",f=i.config,(h=f["$[]"](d))!==!1&&h!==g?h:f["$[]="](d,"attributes")}),a.defn(f,"$process",function(b,c,d){var e=this;return e.$raise(a.get("NotImplementedError"))}),g&&"process"}(p.base,p.get("Processor")),function(b){var c=j(b,"MacroProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("ProcessorDsl")),a.defn(c,"$named",function(a){var b,c=this;return(b=c["$is_a?"](d.get("Processor")))===g||b.$$is_boolean&&1!=b?c.$option("name",a):c.name=a}),a.alias(c,"match_name","named"),a.alias(c,"bind_to","named"),a.defn(c,"$content_model",function(a){var b=this;return b.$option("content_model",a)}),a.alias(c,"parse_content_as","content_model"),a.defn(c,"$positional_attributes",function(){var a=this,b=arguments.length-0;0>b&&(b=0);for(var c=new Array(b),d=0;b>d;d++)c[d]=arguments[d+0];return a.$option("pos_attrs",c.$flatten())}),a.alias(c,"pos_attrs","positional_attributes"),a.alias(c,"name_attributes","positional_attributes"),a.alias(c,"name_positional_attributes","positional_attributes"),a.defn(c,"$default_attrs",function(a){var b=this;return b.$option("default_attrs",a)}),a.alias(c,"seed_attributes_with","default_attrs")}(p.base),function(a,b){function c(){}var d=c=k(a,b,"BlockMacroProcessor",c);d.$$proto,d.$$scope;return g}(p.base,p.get("MacroProcessor")),a.casgn(p.get("BlockMacroProcessor"),"DSL",p.get("MacroProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"InlineMacroProcessor",d),f=e.$$proto;e.$$scope;return f.config=f.name=g,a.defn(e,"$regexp",function(){var a,b,c,d=this;return a="regexp",b=d.config,(c=b["$[]"](a))!==!1&&c!==g?c:b["$[]="](a,d.$resolve_regexp(d.name,d.config["$[]"]("format")))}),a.defn(e,"$resolve_regexp",function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")}),g&&"resolve_regexp"}(p.base,p.get("MacroProcessor")),function(b){var c=j(b,"InlineMacroProcessorDsl"),d=(c.$$proto,c.$$scope);c.$include(d.get("MacroProcessorDsl")),a.defn(c,"$using_format",function(a){var b=this;return b.$option("format",a)}),a.defn(c,"$match",function(a){var b=this;return b.$option("regexp",a)})}(p.base),a.casgn(p.get("InlineMacroProcessor"),"DSL",p.get("InlineMacroProcessorDsl")),function(b,c){function d(){}var e=d=k(b,c,"Extension",d);e.$$proto,e.$$scope;return e.$attr("kind"),e.$attr("config"),e.$attr("instance"),a.defn(e,"$initialize",function(a,b,c){var d=this;return d.kind=a,d.instance=b,d.config=c}),g&&"initialize"}(p.base,null),function(b,c){function d(){}var e,f=d=k(b,c,"ProcessorExtension",d);f.$$proto,f.$$scope;return f.$attr("process_method"),a.defn(f,"$initialize",e=function(b,c,d){var f,h=this;e.$$p;return null==d&&(d=g),e.$$p=null,a.find_super_dispatcher(h,"initialize",e,null).apply(h,[b,c,c.$config()]),h.process_method=(f=d)!==!1&&f!==g?f:c.$method("process")}),g&&"initialize"}(p.base,p.get("Extension")),function(b,c){function d(){}var e=d=k(b,c,"Group",d);e.$$proto,e.$$scope;return function(b){var c=b.$$scope;b.$$proto;return a.defn(b,"$register",function(a){var b=this;return null==a&&(a=g),c.get("Extensions").$register(a,b)}),g&&"register"}(a.get_singleton_class(e)),a.defn(e,"$activate",function(b){var c=this;return c.$raise(a.get("NotImplementedError"))}),g&&"activate"}(p.base,null),function(f,i){
function j(){}var n,o,p,q,r,s,t,u,v,w,x=j=k(f,i,"Registry",j),y=x.$$proto,z=x.$$scope;return y.groups=y.preprocessor_extensions=y.treeprocessor_extensions=y.postprocessor_extensions=y.include_processor_extensions=y.docinfo_processor_extensions=y.block_extensions=y.block_macro_extensions=y.inline_macro_extensions=g,x.$attr_reader("document"),x.$attr_reader("groups"),a.defn(x,"$initialize",function(a){var b=this;return null==a&&(a=l([],{})),b.groups=a,b.preprocessor_extensions=b.treeprocessor_extensions=b.postprocessor_extensions=b.include_processor_extensions=b.docinfo_processor_extensions=g,b.block_extensions=b.block_macro_extensions=b.inline_macro_extensions=g,b.document=g}),a.defn(x,"$activate",function(c){var d,e,f,h=this;return h.document=c,(d=(e=b(z.get("Extensions").$groups().$values(),h.groups.$values())).$each,d.$$p=(f=function(b){var c,d,e=f.$$s||this,h=g;return null==b&&(b=g),function(){return h=b,a.get("Proc")["$==="](h)?function(){return h=b.$arity(),0["$==="](h)||(-1)["$==="](h)?(c=(d=e).$instance_exec,c.$$p=b.$to_proc(),c).call(d):1["$==="](h)?b.$call(e):g}():a.get("Class")["$==="](h)?b.$new().$activate(e):b.$activate(e)}()},f.$$s=h,f),d).call(e),h}),a.defn(x,"$preprocessor",n=function(){var a,b,c=this,d=n.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return n.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"preprocessor",h)}),a.defn(x,"$preprocessors?",function(){var a=this;return a.preprocessor_extensions["$!"]()["$!"]()}),a.defn(x,"$preprocessors",function(){var a=this;return a.preprocessor_extensions}),a.defn(x,"$treeprocessor",o=function(){var a,b,c=this,d=o.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return o.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"treeprocessor",h)}),a.defn(x,"$treeprocessors?",function(){var a=this;return a.treeprocessor_extensions["$!"]()["$!"]()}),a.defn(x,"$treeprocessors",function(){var a=this;return a.treeprocessor_extensions}),a.defn(x,"$postprocessor",p=function(){var a,b,c=this,d=p.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return p.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"postprocessor",h)}),a.defn(x,"$postprocessors?",function(){var a=this;return a.postprocessor_extensions["$!"]()["$!"]()}),a.defn(x,"$postprocessors",function(){var a=this;return a.postprocessor_extensions}),a.defn(x,"$include_processor",q=function(){var a,b,c=this,d=q.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return q.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"include_processor",h)}),a.defn(x,"$include_processors?",function(){var a=this;return a.include_processor_extensions["$!"]()["$!"]()}),a.defn(x,"$include_processors",function(){var a=this;return a.include_processor_extensions}),a.defn(x,"$docinfo_processor",r=function(){var a,b,c=this,d=r.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return r.$$p=null,(a=(b=c).$add_document_processor,a.$$p=e.$to_proc(),a).call(b,"docinfo_processor",h)}),a.defn(x,"$docinfo_processors?",function(a){var b,c,d,e=this;return null==a&&(a=g),(b=e.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?!1:a!==!1&&a!==g?(b=(c=e.docinfo_processor_extensions).$find,b.$$p=(d=function(b){d.$$s||this;return null==b&&(b=g),b.$config()["$[]"]("location")["$=="](a)},d.$$s=e,d),b).call(c):!0}),a.defn(x,"$docinfo_processors",function(a){var b,c,d,e=this;return null==a&&(a=g),(b=e.docinfo_processor_extensions)===g||b.$$is_boolean&&1!=b?g:a!==!1&&a!==g?(b=(c=e.docinfo_processor_extensions).$select,b.$$p=(d=function(b){d.$$s||this;return null==b&&(b=g),b.$config()["$[]"]("location")["$=="](a)},d.$$s=e,d),b).call(c):e.docinfo_processor_extensions}),a.defn(x,"$block",s=function(){var a,b,c=this,d=s.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return s.$$p=null,(a=(b=c).$add_syntax_processor,a.$$p=e.$to_proc(),a).call(b,"block",h)}),a.defn(x,"$blocks?",function(){var a=this;return a.block_extensions["$!"]()["$!"]()}),a.defn(x,"$registered_for_block?",function(a,b){var c,d=this,e=g;return(c=e=d.block_extensions["$[]"](a.$to_sym()))===g||c.$$is_boolean&&1!=c?!1:(c=e.$config()["$[]"]("contexts")["$include?"](b))===g||c.$$is_boolean&&1!=c?!1:e}),a.defn(x,"$find_block_extension",function(a){var b=this;return b.block_extensions["$[]"](a.$to_sym())}),a.defn(x,"$block_macro",t=function(){var a,b,c=this,d=t.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return t.$$p=null,(a=(b=c).$add_syntax_processor,a.$$p=e.$to_proc(),a).call(b,"block_macro",h)}),a.defn(x,"$block_macros?",function(){var a=this;return a.block_macro_extensions["$!"]()["$!"]()}),a.defn(x,"$registered_for_block_macro?",function(a){var b,c=this,d=g;return(b=d=c.block_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:d}),a.defn(x,"$find_block_macro_extension",function(a){var b=this;return b.block_macro_extensions["$[]"](a.$to_sym())}),a.defn(x,"$inline_macro",u=function(){var a,b,c=this,d=u.$$p,e=d||g,f=arguments.length-0;0>f&&(f=0);for(var h=new Array(f),i=0;f>i;i++)h[i]=arguments[i+0];return u.$$p=null,(a=(b=c).$add_syntax_processor,a.$$p=e.$to_proc(),a).call(b,"inline_macro",h)}),a.defn(x,"$inline_macros?",function(){var a=this;return a.inline_macro_extensions["$!"]()["$!"]()}),a.defn(x,"$registered_for_inline_macro?",function(a){var b,c=this,d=g;return(b=d=c.inline_macro_extensions["$[]"](a.$to_sym()))===g||b.$$is_boolean&&1!=b?!1:d}),a.defn(x,"$find_inline_macro_extension",function(a){var b=this;return b.inline_macro_extensions["$[]"](a.$to_sym())}),a.defn(x,"$inline_macros",function(){var a=this;return a.inline_macro_extensions.$values()}),x.$private(),a.defn(x,"$add_document_processor",v=function(b,d){var e,f,h,i,j,k,l=this,n=v.$$p,o=n||g,p=g,q=g,r=g,s=g,t=g,u=g,w=g,x=g,y=g;return v.$$p=null,p=b.$to_s().$tr("_"," "),q=(e=(f=p.$split(" ")).$map,e.$$p=(h=function(a){h.$$s||this;return null==a&&(a=g),""+a.$chr().$upcase()+a["$[]"](m(1,-1,!1))},h.$$s=l,h),e).call(f).$join().$to_sym(),r=z.get("Extensions").$const_get(q),s=function(){return(e=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||e.$$is_boolean&&1!=e?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(q)}(),t=(e=l.$instance_variable_get(("@"+b+"_extensions").$to_sym()))!==!1&&e!==g?e:l.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]),u=function(){return o!==g?(w=l.$resolve_args(d,1),x=r.$new(w),(e=r.$constants().$grep("DSL"))===g||e.$$is_boolean&&1!=e||x.$extend(r.$const_get("DSL")),(e=(i=x).$instance_exec,e.$$p=o.$to_proc(),e).call(i),x.$freeze(),((e=x["$process_block_given?"]())===g||e.$$is_boolean&&1!=e)&&l.$raise(a.get("ArgumentError").$new("No block specified to process "+p+" extension at "+o.$source_location())),z.get("ProcessorExtension").$new(b,x)):(e=a.to_ary(l.$resolve_args(d,2)),x=null==e[0]?g:e[0],w=null==e[1]?g:e[1],(e=(j=x["$is_a?"](a.get("Class")))!==!1&&j!==g?j:(k=x["$is_a?"](a.get("String")),k!==!1&&k!==g?x=z.get("Extensions").$class_for_name(x):k))===g||e.$$is_boolean&&1!=e?(e=(j=x["$is_a?"](r))!==!1&&j!==g?j:(k=s!==!1&&s!==g)?x["$is_a?"](s):s)===g||e.$$is_boolean&&1!=e?l.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+p+" extension: "+d)):(x.$update_config(w),x.$freeze(),z.get("ProcessorExtension").$new(b,x)):(((e=(j=c(x,r))!==!1&&j!==g?j:(k=s!==!1&&s!==g)?c(x,s):s)===g||e.$$is_boolean&&1!=e)&&l.$raise(a.get("ArgumentError").$new("Invalid type for "+p+" extension: "+x)),y=x.$new(w),y.$freeze(),z.get("ProcessorExtension").$new(b,y)))}(),u.$config()["$[]"]("position")["$=="](">>")?t.$unshift(u):t["$<<"](u)}),a.defn(x,"$add_syntax_processor",w=function(b,d){var e,f,i,j,k,n,o=this,p=w.$$p,q=p||g,r=g,s=g,t=g,u=g,v=g,x=g,y=g,A=g,B=g,C=g;if(w.$$p=null,r=b.$to_s().$tr("_"," "),s=(e=(f=r.$split(" ")).$map,e.$$p=(i=function(a){i.$$s||this;return null==a&&(a=g),""+a.$chr().$upcase()+a["$[]"](m(1,-1,!1))},i.$$s=o,i),e).call(f).$join(),t=(""+s+"Processor").$to_sym(),u=z.get("Extensions").$const_get(t),v=function(){return(e=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||e.$$is_boolean&&1!=e?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(t)}(),x=(e=o.$instance_variable_get(("@"+b+"_extensions").$to_sym()))!==!1&&e!==g?e:o.$instance_variable_set(("@"+b+"_extensions").$to_sym(),l([],{})),q!==g){if(e=a.to_ary(o.$resolve_args(d,2)),y=null==e[0]?g:e[0],A=null==e[1]?g:e[1],B=u.$new(o.$as_symbol(y),A),(e=u.$constants().$grep("DSL"))===g||e.$$is_boolean&&1!=e||B.$extend(u.$const_get("DSL")),q.$arity()["$=="](1)){if(a.yield1(q,B)===h)return h.$v}else(e=(j=B).$instance_exec,e.$$p=q.$to_proc(),e).call(j);return((e=y=o.$as_symbol(B.$name()))===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension at "+q.$source_location())),((e=B["$process_block_given?"]())===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("NoMethodError").$new("No block specified to process "+r+" extension at "+q.$source_location())),B.$freeze(),x["$[]="](y,z.get("ProcessorExtension").$new(b,B))}return e=a.to_ary(o.$resolve_args(d,3)),B=null==e[0]?g:e[0],y=null==e[1]?g:e[1],A=null==e[2]?g:e[2],(e=(k=B["$is_a?"](a.get("Class")))!==!1&&k!==g?k:(n=B["$is_a?"](a.get("String")),n!==!1&&n!==g?B=z.get("Extensions").$class_for_name(B):n))===g||e.$$is_boolean&&1!=e?(e=(k=B["$is_a?"](u))!==!1&&k!==g?k:(n=v!==!1&&v!==g)?B["$is_a?"](v):v)===g||e.$$is_boolean&&1!=e?o.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+r+" extension: "+d)):(B.$update_config(A),((e=y=function(){return y!==!1&&y!==g?(k=[o.$as_symbol(y)],n=B,n["$name="].apply(n,k),k[k.length-1]):o.$as_symbol(B.$name())}())===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+B)),B.$freeze(),x["$[]="](y,z.get("ProcessorExtension").$new(b,B))):(((e=(k=c(B,u))!==!1&&k!==g?k:(n=v!==!1&&v!==g)?c(B,v):v)===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("Class specified for "+r+" extension does not inherit from "+u+": "+B)),C=B.$new(o.$as_symbol(y),A),((e=y=o.$as_symbol(C.$name()))===g||e.$$is_boolean&&1!=e)&&o.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+B)),B.$freeze(),x["$[]="](y,z.get("ProcessorExtension").$new(b,C)))}),a.defn(x,"$resolve_args",function(b,f){var h,i=g,j=g,k=g;return i=function(){return(h=b["$[]"](-1)["$is_a?"](a.get("Hash")))===g||h.$$is_boolean&&1!=h?l([],{}):b.$pop()}(),f["$=="](1)?i:(j=b.$size(),d(k=e(e(f,1),j),0)?b.$fill(g,j,k):c(k,0)&&b.$pop(k["$-@"]()),b["$<<"](i),b)}),a.defn(x,"$as_symbol",function(b){var c;return b!==!1&&b!==g?function(){return(c=b["$is_a?"](a.get("Symbol")))===g||c.$$is_boolean&&1!=c?b.$to_sym():b}():g}),g&&"as_symbol"}(p.base,null),function(c){var d,e,f=c.$$scope;c.$$proto;return a.defn(c,"$generate_name",function(){var a=this;return"extgrp"+a.$next_auto_id()}),a.defn(c,"$next_auto_id",function(){var a,c=this;return null==c.auto_id&&(c.auto_id=g),(a=c.auto_id)!==!1&&a!==g?a:c.auto_id=-1,c.auto_id=b(c.auto_id,1)}),a.defn(c,"$groups",function(){var a,b=this;return null==b.groups&&(b.groups=g),(a=b.groups)!==!1&&a!==g?a:b.groups=l([],{})}),a.defn(c,"$build_registry",d=function(a){var b,c=this,e=d.$$p,h=e||g;return null==a&&(a=g),d.$$p=null,h!==g?((b=a)!==!1&&b!==g?b:a=c.$generate_name(),f.get("Registry").$new(n(a,h))):f.get("Registry").$new()}),a.defn(c,"$register",e=function(){var b,c=this,d=e.$$p,f=d||g,h=g,i=g,j=g,k=g,l=g,m=arguments.length-0;0>m&&(m=0);for(var n=new Array(m),o=0;m>o;o++)n[o]=arguments[o+0];return e.$$p=null,h=n.$length(),i=function(){return f!==g?f:(b=(j=n.$pop())["$!"]())===g||b.$$is_boolean&&1!=b?function(){return k=j,a.get("Class")["$==="](k)?j:a.get("String")["$==="](k)?c.$class_for_name(j):a.get("Symbol")["$==="](k)?c.$class_for_name(j.$to_s()):j}():c.$raise(a.get("ArgumentError").$new("Extension group to register not specified"))}(),l=(b=n.$pop())!==!1&&b!==g?b:c.$generate_name(),((b=n["$empty?"]())===g||b.$$is_boolean&&1!=b)&&c.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+h+" for 1..2)")),c.$groups()["$[]="](l,i)}),a.defn(c,"$unregister_all",function(){var a=this;return a.groups=l([],{})}),a.defn(c,"$resolve_class",function(b){var c,d=this;return(c=b["$is_a?"](a.get("Class")))===g||c.$$is_boolean&&1!=c?d.$class_for_name(b.$to_s()):b}),a.defn(c,"$class_for_name",function(b){var c,d,e,f=this,h=g;return h=a.get("Object"),(c=(d=b.$split("::")).$each,c.$$p=(e=function(a){var c,d=e.$$s||this;return null==a&&(a=g),(c=a["$empty?"]())===g||c.$$is_boolean&&1!=c?(c=h["$const_defined?"](a))===g||c.$$is_boolean&&1!=c?d.$raise("Could not resolve class for name: "+b):h=h.$const_get(a):g},e.$$s=f,e),c).call(d),h}),g&&"class_for_name"}(a.get_singleton_class(o))}(p.base)}(f.base)},("undefined"==typeof AsciidoctorConfiguration||"undefined"==typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&Opal.require("asciidoctor"),("undefined"==typeof AsciidoctorConfiguration||"undefined"==typeof AsciidoctorConfiguration.autoRequireModule||Boolean(AsciidoctorConfiguration.autoRequireModule))&&Opal.require("asciidoctor/extensions");